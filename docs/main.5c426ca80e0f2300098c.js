(self.webpackChunkgeminibitcoin=self.webpackChunkgeminibitcoin||[]).push([[179],{8255:Je=>{function Ee(L){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+L+"'");throw a.code="MODULE_NOT_FOUND",a})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,Je.exports=Ee},3018:(Je,Ee,L)=>{"use strict";L.d(Ee,{deG:()=>xp,tb:()=>k_,AFp:()=>RI,ip1:()=>b0,CZH:()=>Rd,hGG:()=>aA,z2F:()=>Fd,sBO:()=>dC,Sil:()=>am,_Vd:()=>Xc,EJc:()=>Hu,SBq:()=>Fs,qLn:()=>Yr,vpe:()=>Xo,gxx:()=>Mu,tBr:()=>Tc,XFs:()=>Ye,OlP:()=>tn,zs3:()=>an,ZZ4:()=>Ad,aQg:()=>Ff,soG:()=>om,YKP:()=>pC,v3s:()=>Vx,h0i:()=>tl,PXZ:()=>R1,R0b:()=>Zs,FiY:()=>Es,Lbi:()=>w0,g9A:()=>C0,Qsj:()=>Nf,FYo:()=>Qo,JOm:()=>b,Tiy:()=>Za,q3G:()=>ln,tp0:()=>jo,EAV:()=>jx,Rgc:()=>Vg,dDg:()=>lm,DyG:()=>bc,q4F:()=>Lg,GfV:()=>el,s_b:()=>Zf,ifc:()=>ht,eFA:()=>up,G48:()=>GI,Gpc:()=>fe,X6Q:()=>U_,_c5:()=>fm,VLi:()=>HI,c2e:()=>FI,zSh:()=>of,wAp:()=>ot,vHH:()=>me,EiD:()=>Vp,mCW:()=>vu,qzn:()=>Aa,JVY:()=>Dc,pB0:()=>Da,eBb:()=>Bm,L6k:()=>Zm,LAX:()=>yv,cg1:()=>Wy,Tjo:()=>N0,kL8:()=>Hb,yhl:()=>io,dqk:()=>j,sIi:()=>mf,CqO:()=>yg,QGY:()=>Fy,F4k:()=>ld,RDi:()=>ls,AaK:()=>Q,z3N:()=>Ts,qOj:()=>Cb,TTD:()=>Yu,_Bn:()=>bT,xp6:()=>oD,uIk:()=>Ny,ekj:()=>wg,Suo:()=>s0,Xpm:()=>Co,lG2:()=>$d,Yz7:()=>ut,cJS:()=>Sr,oAB:()=>sa,Yjl:()=>zs,Y36:()=>sd,_UZ:()=>Nb,qZA:()=>ud,TgZ:()=>Ru,EpF:()=>cd,n5z:()=>zi,Ikx:()=>$b,LFG:()=>Cn,$8M:()=>ys,NdJ:()=>bf,CRH:()=>o0,oxw:()=>wf,Q6J:()=>od,DdM:()=>$C,iGM:()=>S_,CHM:()=>eu,LSH:()=>bu,kYT:()=>Eo,YNc:()=>gE,_uU:()=>Bb,Oqu:()=>qy,hij:()=>Wc,Gf:()=>r0});var a=L(9765),X=L(5319),k=L(7574),ue=L(6682),te=L(2441);var le=L(1307);function ee(){return new a.xQ}function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ce(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Te=V({__forward_ref__:V});function fe(i){return i.__forward_ref__=fe,i.toString=function(){return Q(this())},i}function K(i){return be(i)?i():i}function be(i){return"function"==typeof i&&i.hasOwnProperty(Te)&&i.__forward_ref__===fe}class me extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function ke(i){return"string"==typeof i?i:null==i?"":String(i)}function Pt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ke(i)}function It(i,s){const o=s?` in ${s}`:"";throw new me("201",`No provider for ${Pt(i)} found${o}`)}function on(i,s){null==i&&function(i,s,o,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function ut(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Sr(i){return{providers:i.providers||[],imports:i.imports||[]}}function _r(i){return De(i,xt)||De(i,bo)}function De(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zi(i){return i&&(i.hasOwnProperty(jr)||i.hasOwnProperty(vr))?i[jr]:null}const xt=V({\u0275prov:V}),jr=V({\u0275inj:V}),bo=V({ngInjectableDef:V}),vr=V({ngInjectorDef:V});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let br;function qr(i){const s=br;return br=i,s}function Qt(i,s,o){const c=_r(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Ye.Optional?null:void 0!==s?s:void It(Q(i),"Injector")}function Qe(i){return{toString:i}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),ht=(()=>((ht=ht||{})[ht.Emulated=0]="Emulated",ht[ht.None=2]="None",ht[ht.ShadowDom=3]="ShadowDom",ht))();const jn="undefined"!=typeof globalThis&&globalThis,ia="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=jn||"undefined"!=typeof global&&global||ia||$,Ve={},de=[],ye=V({\u0275cmp:V}),Fe=V({\u0275dir:V}),We=V({\u0275pipe:V}),bt=V({\u0275mod:V}),nt=V({\u0275loc:V}),Rt=V({\u0275fac:V}),Dn=V({__NG_ELEMENT_ID__:V});let hl=0;function Co(i){return Qe(()=>{const o={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||de,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ht.Emulated,id:"c",styles:i.styles||de,_:null,setInput:null,schemas:i.schemas||null,tView:null},l=i.directives,h=i.features,m=i.pipes;return c.id+=hl++,c.inputs=oa(i.inputs,o),c.outputs=oa(i.outputs),h&&h.forEach(_=>_(c)),c.directiveDefs=l?()=>("function"==typeof l?l():l).map(wo):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(pl):null,c})}function wo(i){return Nn(i)||function(i){return i[Fe]||null}(i)}function pl(i){return function(i){return i[We]||null}(i)}const ai={};function sa(i){return Qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||de,declarations:i.declarations||de,imports:i.imports||de,exports:i.exports||de,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ai[i.id]=i.type),s})}function Eo(i,s){return Qe(()=>{const o=sr(i,!0);o.declarations=s.declarations||de,o.imports=s.imports||de,o.exports=s.exports||de})}function oa(i,s){if(null==i)return Ve;const o={};for(const c in i)if(i.hasOwnProperty(c)){let l=i[c],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=c,s&&(s[l]=h)}return o}const $d=Co;function zs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Nn(i){return i[ye]||null}function sr(i,s){const o=i[bt]||null;if(!o&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return o}function ji(i){return Array.isArray(i)&&"object"==typeof i[1]}function gn(i){return Array.isArray(i)&&!0===i[1]}function Ys(i){return 0!=(8&i.flags)}function $a(i){return 2==(2&i.flags)}function la(i){return 1==(1&i.flags)}function ci(i){return null!==i.template}function gl(i){return 0!=(512&i[2])}function mn(i,s){return i.hasOwnProperty(Rt)?i[Rt]:null}class qi{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Yu(){return za}function za(i){return i.type.prototype.ngOnChanges&&(i.setInput=vp),th}function th(){const i=Wa(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Ve)i.previous=s;else for(let c in s)o[c]=s[c];i.current=null,this.ngOnChanges(s)}}function vp(i,s,o,c){const l=Wa(i)||function(i,s){return i[vl]=s}(i,{previous:Ve,current:null}),h=l.current||(l.current={}),m=l.previous,_=this.declaredInputs[o],C=m[_];h[_]=new qi(C&&C.currentValue,s,m===Ve),i[c]=s}Yu.ngInherit=!0;const vl="__ngSimpleChanges__";function Wa(i){return i[vl]||null}let Ya;function ls(i){Ya=i}function en(i){return!!i.listen}const Qa={createRenderer:(i,s)=>void 0!==Ya?Ya:"undefined"!=typeof document?document:void 0};function St(i){for(;Array.isArray(i);)i=i[0];return i}function So(i,s){return St(s[i])}function Mr(i,s){return St(s[i.index])}function Hi(i,s){return i.data[s]}function or(i,s){const o=s[i];return ji(o)?o:o[0]}function Ju(i){return 4==(4&i[2])}function ga(i){return 128==(128&i[2])}function ds(i,s){return null==s?null:i[s]}function Xa(i){i[18]=0}function Xu(i,s){i[5]+=s;let o=i,c=i[3];for(;null!==c&&(1===s&&1===o[5]||-1===s&&0===o[5]);)c[5]+=s,o=c,c=c[3]}const it={lFrame:ac(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ec(){return it.bindingsEnabled}function Ie(){return it.lFrame.lView}function At(){return it.lFrame.tView}function eu(i){return it.lFrame.contextLView=i,i[8]}function yn(){let i=tc();for(;null!==i&&64===i.type;)i=i.parent;return i}function tc(){return it.lFrame.currentTNode}function di(i,s){const o=it.lFrame;o.currentTNode=i,o.isParent=s}function tu(){return it.lFrame.isParent}function ps(){return it.isInCheckNoChangesMode}function Gi(i){it.isInCheckNoChangesMode=i}function eo(){return it.lFrame.bindingIndex++}function ic(i,s){const o=it.lFrame;o.bindingIndex=o.bindingRootIndex=i,sc(s)}function sc(i){it.lFrame.currentDirectiveIndex=i}function ah(){return it.lFrame.currentQueryIndex}function oc(i){it.lFrame.currentQueryIndex=i}function Cp(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function uh(i,s,o){if(o&Ye.SkipSelf){let l=s,h=i;for(;!(l=l.parent,null!==l||o&Ye.Host||(l=Cp(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;s=l,i=h}const c=it.lFrame=ch();return c.currentTNode=s,c.lView=i,!0}function gs(i){const s=ch(),o=i[1];it.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ch(){const i=it.lFrame,s=null===i?null:i.child;return null===s?ac(i):s}function ac(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function nu(){const i=it.lFrame;return it.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Sm=nu;function uc(){const i=nu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function xr(){return it.lFrame.selectedIndex}function Gr(i){it.lFrame.selectedIndex=i}function un(){const i=it.lFrame;return Hi(i.tView,i.selectedIndex)}function cc(i,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:S}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),_&&((i.contentHooks||(i.contentHooks=[])).push(o,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,_)),C&&(i.viewHooks||(i.viewHooks=[])).push(-o,C),T&&((i.viewHooks||(i.viewHooks=[])).push(o,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,T)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(o,S)}}function su(i,s,o){Oo(i,s,3,o)}function ou(i,s,o,c){(3&i[2])===o&&Oo(i,s,o,c)}function lc(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Oo(i,s,o,c){const h=null!=c?c:-1,m=s.length-1;let _=0;for(let C=void 0!==c?65535&i[18]:0;C<m;C++)if("number"==typeof s[C+1]){if(_=s[C],null!=c&&_>=c)break}else s[C]<0&&(i[18]+=65536),(_<h||-1==h)&&(dc(i,o,s,C),i[18]=(4294901760&i[18])+C+2),C++}function dc(i,s,o,c){const l=o[c]<0,h=o[c+1],_=i[l?-o[c]:o[c]];if(l){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}class au{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function uu(i,s,o){const c=en(i);let l=0;for(;l<o.length;){const h=o[l];if("number"==typeof h){if(0!==h)break;l++;const m=o[l++],_=o[l++],C=o[l++];c?i.setAttribute(s,_,C,m):s.setAttributeNS(m,_,C)}else{const m=h,_=o[++l];fc(m)?c&&i.setProperty(s,m,_):c?i.setAttribute(s,m,_):s.setAttribute(m,_),l++}}return l}function hc(i){return 3===i||4===i||6===i}function fc(i){return 64===i.charCodeAt(0)}function Mi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const l=s[c];"number"==typeof l?o=l:0===o||pc(i,o,l,null,-1===o||2===o?s[++c]:null)}}return i}function pc(i,s,o,c,l){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const _=i[h++];if("number"==typeof _){if(_===s){m=-1;break}if(_>s){m=h-1;break}}}for(;h<i.length;){const _=i[h];if("number"==typeof _)break;if(_===o){if(null===c)return void(null!==l&&(i[h+1]=l));if(c===i[h+1])return void(i[h+2]=l)}h++,null!==c&&h++,null!==l&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==c&&i.splice(h++,0,c),null!==l&&i.splice(h++,0,l)}function gc(i){return-1!==i}function cu(i){return 32767&i}function lu(i,s){let o=function(i){return i>>16}(i),c=s;for(;o>0;)c=c[15],o--;return c}let mc=!0;function No(i){const s=mc;return mc=i,s}let Ht=0;function Wr(i,s){const o=kn(i,s);if(-1!==o)return o;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,ba(c.data,i),ba(s,null),ba(c.blueprint,null));const l=du(i,s),h=i.injectorIndex;if(gc(l)){const m=cu(l),_=lu(l,s),C=_[1].data;for(let T=0;T<8;T++)s[h+T]=_[m+T]|C[m+T]}return s[h+8]=l,h}function ba(i,s){i.push(0,0,0,0,0,0,0,0,s)}function kn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function du(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,c=null,l=s;for(;null!==l;){const h=l[1],m=h.type;if(c=2===m?h.declTNode:1===m?l[6]:null,null===c)return-1;if(o++,l=l[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function zn(i,s,o){!function(i,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Dn)&&(c=o[Dn]),null==c&&(c=o[Dn]=Ht++);const l=255&c;s.data[i+(l>>5)]|=1<<l}(i,s,o)}function Dp(i,s,o){if(o&Ye.Optional)return i;It(s,"NodeInjector")}function Ca(i,s,o,c){if(o&Ye.Optional&&void 0===c&&(c=null),0==(o&(Ye.Self|Ye.Host))){const l=i[9],h=qr(void 0);try{return l?l.get(s,c,o&Ye.Optional):Qt(s,c,o&Ye.Optional)}finally{qr(h)}}return Dp(c,s,o)}function fh(i,s,o,c=Ye.Default,l){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Dn)?i[Dn]:void 0;return"number"==typeof s?s>=0?255&s:wl:s}(o);if("function"==typeof h){if(!uh(s,i,c))return c&Ye.Host?Dp(l,o,c):Ca(s,o,c,l);try{const m=h(c);if(null!=m||c&Ye.Optional)return m;It(o)}finally{Sm()}}else if("number"==typeof h){let m=null,_=kn(i,s),C=-1,T=c&Ye.Host?s[16][6]:null;for((-1===_||c&Ye.SkipSelf)&&(C=-1===_?du(i,s):s[_+8],-1!==C&&yc(c,!1)?(m=s[1],_=cu(C),s=lu(C,s)):_=-1);-1!==_;){const S=s[1];if(ph(h,_,S.data)){const O=El(_,s,o,m,c,T);if(O!==$t)return O}C=s[_+8],-1!==C&&yc(c,s[1].data[_+8]===T)&&ph(h,_,s)?(m=S,_=cu(C),s=lu(C,s)):_=-1}}}return Ca(s,o,c,l)}const $t={};function wl(){return new ms(yn(),Ie())}function El(i,s,o,c,l,h){const m=s[1],_=m.data[i+8],S=Ro(_,m,o,null==c?$a(_)&&mc:c!=m&&0!=(3&_.type),l&Ye.Host&&h===_);return null!==S?ko(s,m,S,_):$t}function Ro(i,s,o,c,l){const h=i.providerIndexes,m=s.data,_=1048575&h,C=i.directiveStart,S=h>>20,N=l?_+S:i.directiveEnd;for(let Z=c?_:_+S;Z<N;Z++){const H=m[Z];if(Z<C&&o===H||Z>=C&&H.type===o)return Z}if(l){const Z=m[C];if(Z&&ci(Z)&&Z.type===o)return C}return null}function ko(i,s,o,c){let l=i[o];const h=s.data;if(function(i){return i instanceof au}(l)){const m=l;m.resolving&&function(i,s){throw new me("200",`Circular dependency in DI detected for ${i}`)}(Pt(h[o]));const _=No(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?qr(m.injectImpl):null;uh(i,c,Ye.Default);try{l=i[o]=m.factory(void 0,h,i,c),s.firstCreatePass&&o>=c.directiveStart&&function(i,s,o){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:h}=s.type.prototype;if(c){const m=za(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,l),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==C&&qr(C),No(_),m.resolving=!1,Sm()}}return l}function ph(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function yc(i,s){return!(i&Ye.Self||i&Ye.Host&&s)}class ms{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,c){return fh(this._tNode,this._lView,s,c,o)}}function zi(i){return Qe(()=>{const s=i.prototype.constructor,o=s[Rt]||Il(s),c=Object.prototype;let l=Object.getPrototypeOf(i.prototype).constructor;for(;l&&l!==c;){const h=l[Rt]||Il(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Il(i){return be(i)?()=>{const s=Il(K(i));return s&&s()}:mn(i)}function ys(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const c=o.length;let l=0;for(;l<c;){const h=o[l];if(hc(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<c&&"string"==typeof o[l];)l++;else{if(h===s)return o[l+1];l+=2}}}return null}(yn(),i)}const _s="__parameters__";function _n(i,s,o){return Qe(()=>{const c=function(i){return function(...o){if(i){const c=i(...o);for(const l in c)this[l]=c[l]}}}(s);function l(...h){if(this instanceof l)return c.apply(this,h),this;const m=new l(...h);return _.annotation=m,_;function _(C,T,S){const O=C.hasOwnProperty(_s)?C[_s]:Object.defineProperty(C,_s,{value:[]})[_s];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),C}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class tn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ut({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xp=new tn("AnalyzeForEntryComponents"),bc=Function;function pi(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let c=i[o];Array.isArray(c)?(s===i&&(s=i.slice(0,o)),pi(c,s)):s!==i&&s.push(c)}return s}function xi(i,s){i.forEach(o=>Array.isArray(o)?xi(o,s):s(o))}function Oi(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Lo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function E(i,s,o){let c=x(i,s);return c>=0?i[1|c]=o:(c=~c,function(i,s,o,c){let l=i.length;if(l==s)i.push(o,c);else if(1===l)i.push(c,i[0]),i[0]=o;else{for(l--,i.push(i[l-1],i[l]);l>s;)i[l]=i[l-2],l--;i[s]=o,i[s+1]=c}}(i,c,s,o)),c}function A(i,s){const o=x(i,s);if(o>=0)return i[1|o]}function x(i,s){return function(i,s,o){let c=0,l=i.length>>o;for(;l!==c;){const h=c+(l-c>>1),m=i[h<<o];if(s===m)return h<<o;m>s?l=h:c=h+1}return~(l<<o)}(i,s,1)}const bs={},Vo="__NG_DI_FLAG__",Ki="ngTempTokenPath",Ea=/\n/gm,Et="__source",ws=V({provide:String,useValue:V});let Ec;function Ta(i){const s=Ec;return Ec=i,s}function Op(i,s=Ye.Default){if(void 0===Ec)throw new Error("inject() must be called from an injection context");return null===Ec?Qt(i,void 0,s):Ec.get(i,s&Ye.Optional?null:void 0,s)}function Cn(i,s=Ye.Default){return(br||Op)(K(i),s)}function Zo(i){const s=[];for(let o=0;o<i.length;o++){const c=K(i[o]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let l,h=Ye.Default;for(let m=0;m<c.length;m++){const _=c[m],C=Rm(_);"number"==typeof C?-1===C?l=_.token:h|=C:l=_}s.push(Cn(l,h))}else s.push(Cn(c))}return s}function gu(i,s){return i[Vo]=s,i.prototype[Vo]=s,i}function Rm(i){return i[Vo]}function hv(i,s,o,c){const l=i[Ki];throw s[Et]&&l.unshift(s[Et]),i.message=function(i,s,o,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let l=Q(s);if(Array.isArray(s))l=s.map(Q).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let _=s[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):Q(_)))}l=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${l}]: ${i.replace(Ea,"\n  ")}`}("\n"+i.message,l,o,c),i.ngTokenPath=l,i[Ki]=null,i}const Tc=gu(_n("Inject",i=>({token:i})),-1),Es=gu(_n("Optional"),8),jo=gu(_n("SkipSelf"),4);let yu;function Ac(i){var s;return(null===(s=function(){if(void 0===yu&&(yu=null,j.trustedTypes))try{yu=j.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return yu}())||void 0===s?void 0:s.createHTML(i))||i}class _u{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class pv extends _u{getTypeName(){return"HTML"}}class gv extends _u{getTypeName(){return"Style"}}class Fp extends _u{getTypeName(){return"Script"}}class mv extends _u{getTypeName(){return"URL"}}class Um extends _u{getTypeName(){return"ResourceURL"}}function Ts(i){return i instanceof _u?i.changingThisBreaksApplicationSecurity:i}function Aa(i,s){const o=io(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function io(i){return i instanceof _u&&i.getTypeName()||null}function Dc(i){return new pv(i)}function Zm(i){return new gv(i)}function Bm(i){return new Fp(i)}function yv(i){return new mv(i)}function Da(i){return new Um(i)}class _v{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ac(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Sc{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const c=this.inertDocument.createElement("body");o.appendChild(c)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ac(s),o;const c=this.inertDocument.createElement("body");return c.innerHTML=Ac(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const o=s.attributes;for(let l=o.length-1;0<l;l--){const m=o.item(l).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Oh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vu(i){return(i=String(i)).match(Oh)||i.match(kl)?i:"unsafe:"+i}function mi(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Mc(...i){const s={};for(const o of i)for(const c in o)o.hasOwnProperty(c)&&(s[c]=!0);return s}const qm=mi("area,br,col,hr,img,wbr"),$m=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bv=mi("rp,rt"),xc=Mc(qm,Mc($m,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mc(bv,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mc(bv,$m)),Nh=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fl=mi("srcset"),Rh=Mc(Nh,Fl,mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cv=mi("script,style,template");class zm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!xc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Cv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=s.attributes;for(let l=0;l<c.length;l++){const h=c.item(l),m=h.name,_=m.toLowerCase();if(!Rh.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let C=h.value;Nh[_]&&(C=vu(C)),Fl[_]&&(i=C,C=(i=String(i)).split(",").map(s=>vu(s.trim())).join(", ")),this.buf.push(" ",m,'="',kh(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();xc.hasOwnProperty(o)&&!qm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(kh(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Oc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wv=/([^\#-~ |!])/g;function kh(i){return i.replace(/&/g,"&amp;").replace(Oc,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(wv,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fh;function Vp(i,s){let o=null;try{Fh=Fh||function(i){const s=new Sc(i);return function(){try{return!!(new window.DOMParser).parseFromString(Ac(""),"text/html")}catch(i){return!1}}()?new _v(s):s}(i);let c=s?String(s):"";o=Fh.getInertBodyElement(c);let l=5,h=c;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,c=h,h=o.innerHTML,o=Fh.getInertBodyElement(c)}while(c!==h);return Ac((new zm).sanitizeChildren(Lh(o)||o))}finally{if(o){const c=Lh(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Lh(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function bu(i){const s=function(){const i=Ie();return i&&i[12]}();return s?s.sanitize(ln.URL,i)||"":Aa(i,"URL")?Ts(i):vu(ke(i))}const Vl="__ngContext__";function lr(i,s){i[Vl]=s}function Zh(i){const s=function(i){return i[Vl]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Gh(i){return i.ngOriginalError}function Dv(i,...s){i.error(...s)}class Yr{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),c=this._findContext(s),l=(i=s)&&i.ngErrorLogger||Dv;var i;l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o),c&&l(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Gh(s)):null}_findOriginalError(s){let o=s&&Gh(s);for(;o&&Gh(o);)o=Gh(o);return o||null}}const Bp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function oo(i){return i instanceof Function?i():i}var b=(()=>((b=b||{})[b.Important=1]="Important",b[b.DashCase=2]="DashCase",b))();function M(i,s){return undefined(i,s)}function Pe(i){const s=i[3];return gn(s)?s[3]:s}function qe(i){return Yn(i[13])}function Mt(i){return Yn(i[4])}function Yn(i){for(;null!==i&&!gn(i);)i=i[4];return i}function zo(i,s,o,c,l){if(null!=c){let h,m=!1;gn(c)?h=c:ji(c)&&(m=!0,c=c[0]);const _=St(c);0===i&&null!==o?null==l?Hp(s,o,_):ql(s,o,_,l||null,!0):1===i&&null!==o?ql(s,o,_,l||null,!0):2===i?function(i,s,o){const c=Tu(i,s);c&&function(i,s,o,c){en(i)?i.removeChild(s,o,c):s.removeChild(o)}(i,c,s,o)}(s,_,m):3===i&&s.destroyNode(_),null!=h&&function(i,s,o,c,l){const h=o[7];h!==St(o)&&zo(s,i,c,h,l);for(let _=10;_<o.length;_++){const C=o[_];Wp(C[1],C,i,s,c,h)}}(s,i,h,o,l)}}function Bl(i,s,o){return en(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function uy(i,s){const o=i[9],c=o.indexOf(s),l=s[3];1024&s[2]&&(s[2]&=-1025,Xu(l,-1)),o.splice(c,1)}function Rv(i,s){if(i.length<=10)return;const o=10+s,c=i[o];if(c){const l=c[17];null!==l&&l!==i&&uy(l,c),s>0&&(i[o-1][4]=c[4]);const h=Lo(i,10+s);!function(i,s){Wp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const m=h[19];null!==m&&m.detachView(h[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function lw(i,s){if(!(256&s[2])){const o=s[11];en(o)&&o.destroyNode&&Wp(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return kv(i[1],i);for(;s;){let o=null;if(ji(s))o=s[13];else{const c=s[10];c&&(o=c)}if(!o){for(;s&&!s[4]&&s!==i;)ji(s)&&kv(s[1],s),s=s[3];null===s&&(s=i),ji(s)&&kv(s[1],s),o=s&&s[4]}s=o}}(s)}}function kv(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let c=0;c<o.length;c+=2){const l=s[o[c]];if(!(l instanceof au)){const h=o[c+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=l[h[m]],C=h[m+1];try{C.call(_)}finally{}}else try{h.call(l)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,c=s[7];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],_="function"==typeof m?m(s):St(s[m]),C=c[l=o[h+2]],T=o[h+3];"boolean"==typeof T?_.removeEventListener(o[h],C,T):T>=0?c[l=T]():c[l=-T].unsubscribe(),h+=2}else{const m=c[l=o[h+1]];o[h].call(m)}if(null!==c){for(let h=l+1;h<c.length;h++)c[h]();s[7]=null}}(i,s),1===s[1].type&&en(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&gn(s[3])){o!==s[3]&&uy(o,s);const c=s[19];null!==c&&c.detachView(i)}}}function hw(i,s,o){return function(i,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[0];if(2&c.flags){const l=i.data[c.directiveStart].encapsulation;if(l===ht.None||l===ht.Emulated)return null}return Mr(c,o)}(i,s.parent,o)}function ql(i,s,o,c,l){en(i)?i.insertBefore(s,o,c,l):s.insertBefore(o,c,l)}function Hp(i,s,o){en(i)?i.appendChild(s,o):s.appendChild(o)}function Eu(i,s,o,c,l){null!==c?ql(i,s,o,c,l):Hp(i,s,o)}function Tu(i,s){return en(i)?i.parentNode(s):s.parentNode}let pw=function(i,s,o){return 40&i.type?Mr(i,o):null};function Gp(i,s,o,c){const l=hw(i,c,s),h=s[11],_=function(i,s,o){return pw(i,s,o)}(c.parent||s[6],c,s);if(null!=l)if(Array.isArray(o))for(let C=0;C<o.length;C++)Eu(h,l,o[C],_,!1);else Eu(h,l,o,_,!1)}function zp(i,s){if(null!==s){const o=s.type;if(3&o)return Mr(s,i);if(4&o)return mw(-1,i[s.index]);if(8&o){const c=s.child;if(null!==c)return zp(i,c);{const l=i[s.index];return gn(l)?mw(-1,l):St(l)}}if(32&o)return M(s,i)()||St(i[s.index]);{const c=ly(i,s);return null!==c?Array.isArray(c)?c[0]:zp(Pe(i[16]),c):zp(i,s.next)}}return null}function ly(i,s){return null!==s?i[16][6].projection[s.projection]:null}function mw(i,s){const o=10+i+1;if(o<s.length){const c=s[o],l=c[1].firstChild;if(null!==l)return zp(c,l)}return s[7]}function dy(i,s,o,c,l,h,m){for(;null!=o;){const _=c[o.index],C=o.type;if(m&&0===s&&(_&&lr(St(_),c),o.flags|=4),64!=(64&o.flags))if(8&C)dy(i,s,o.child,c,l,h,!1),zo(s,i,l,_,h);else if(32&C){const T=M(o,c);let S;for(;S=T();)zo(s,i,l,S,h);zo(s,i,l,_,h)}else 16&C?yw(i,s,c,o,l,h):zo(s,i,l,_,h);o=m?o.projectionNext:o.next}}function Wp(i,s,o,c,l,h){dy(o,c,i.firstChild,s,l,h,!1)}function yw(i,s,o,c,l,h){const m=o[16],C=m[6].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)zo(s,i,l,C[T],h);else dy(i,s,C,m[3],l,h,!0)}function _w(i,s,o){en(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function Vv(i,s,o){en(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Uv(i,s,o){let c=i.length;for(;;){const l=i.indexOf(s,o);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const h=s.length;if(l+h===c||i.charCodeAt(l+h)<=32)return l}o=l+1}}const vw="ng-template";function YA(i,s,o){let c=0;for(;c<i.length;){let l=i[c++];if(o&&"class"===l){if(l=i[c],-1!==Uv(l.toLowerCase(),s,0))return!0}else if(1===l){for(;c<i.length&&"string"==typeof(l=i[c++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function hy(i){return 4===i.type&&i.value!==vw}function QA(i,s,o){return s===(4!==i.type||o?i.value:vw)}function JA(i,s,o){let c=4;const l=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(hc(i[s]))return s;return i.length}(l);let m=!1;for(let _=0;_<s.length;_++){const C=s[_];if("number"!=typeof C){if(!m)if(4&c){if(c=2|1&c,""!==C&&!QA(i,C,o)||""===C&&1===s.length){if(ao(c))return!1;m=!0}}else{const T=8&c?C:s[++_];if(8&c&&null!==i.attrs){if(!YA(i.attrs,T,o)){if(ao(c))return!1;m=!0}continue}const O=XA(8&c?"class":C,l,hy(i),o);if(-1===O){if(ao(c))return!1;m=!0;continue}if(""!==T){let N;N=O>h?"":l[O+1].toLowerCase();const Z=8&c?N:null;if(Z&&-1!==Uv(Z,T,0)||2&c&&T!==N){if(ao(c))return!1;m=!0}}}}else{if(!m&&!ao(c)&&!ao(C))return!1;if(m&&ao(C))continue;m=!1,c=C|1&c}}return ao(c)||m}function ao(i){return 0==(1&i)}function XA(i,s,o,c){if(null===s)return-1;let l=0;if(c||!o){let h=!1;for(;l<s.length;){const m=s[l];if(m===i)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=s[++l];for(;"string"==typeof _;)_=s[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const c=i[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,i)}function eD(i,s,o=!1){for(let c=0;c<s.length;c++)if(JA(i,s[c],o))return!0;return!1}function bw(i,s){return i?":not("+s.trim()+")":s}function rD(i){let s=i[0],o=1,c=2,l="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&c){const _=i[++o];l+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?l+="."+m:4&c&&(l+=" "+m);else""!==l&&!ao(m)&&(s+=bw(h,l),l=""),c=m,h=h||!ao(c);o++}return""!==l&&(s+=bw(h,l)),s}const Ct={};function oD(i){Cw(At(),Ie(),xr()+i,ps())}function Cw(i,s,o,c){if(!c)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&su(s,h,o)}else{const h=i.preOrderHooks;null!==h&&ou(s,h,0,o)}Gr(o)}function pe(i,s){return i<<17|s<<2}function Qr(i){return i>>17&32767}function Ot(i){return 2|i}function Iu(i){return(131068&i)>>2}function Wo(i,s){return-131069&i|s<<2}function Yp(i){return 1|i}function yy(i,s){const o=i.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const l=o[c],h=o[c+1];if(-1!==h){const m=i.data[h];oc(l),m.contentQueries(2,s[h],h)}}}function Jp(i,s,o,c,l,h,m,_,C,T){const S=s.blueprint.slice();return S[0]=l,S[2]=140|c,Xa(S),S[3]=S[15]=i,S[8]=o,S[10]=m||i&&i[10],S[11]=_||i&&i[11],S[12]=C||i&&i[12]||null,S[9]=T||i&&i[9]||null,S[6]=h,S[16]=2==s.type?i[16]:S,S}function Lc(i,s,o,c,l){let h=i.data[s];if(null===h)h=function(i,s,o,c,l){const h=tc(),m=tu(),C=i.data[s]=function(i,s,o,c,l,h){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,c,l);return null===i.firstChild&&(i.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(i,s,o,c,l),it.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=c,h.attrs=l;const m=function(){const i=it.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return di(h,!0),h}function Jh(i,s,o,c){if(0===o)return-1;const l=s.length;for(let h=0;h<o;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return l}function Xp(i,s,o){gs(s);try{const c=i.viewQuery;null!==c&&Ay(1,c,o);const l=i.template;null!==l&&Pw(i,s,l,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&yy(i,s),i.staticViewQueries&&Ay(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)CD(i,s[o])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,uc()}}function Jn(i,s,o,c){const l=s[2];if(256==(256&l))return;gs(s);const h=ps();try{Xa(s),function(i){it.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Pw(i,s,o,2,c);const m=3==(3&l);if(!h)if(m){const T=i.preOrderCheckHooks;null!==T&&su(s,T,null)}else{const T=i.preOrderHooks;null!==T&&ou(s,T,0,null),lc(s,0)}if(function(i){for(let s=qe(i);null!==s;s=Mt(s)){if(!s[2])continue;const o=s[9];for(let c=0;c<o.length;c++){const l=o[c],h=l[3];0==(1024&l[2])&&Xu(h,1),l[2]|=1024}}}(s),function(i){for(let s=qe(i);null!==s;s=Mt(s))for(let o=10;o<s.length;o++){const c=s[o],l=c[1];ga(c)&&Jn(l,c,l.template,c[8])}}(s),null!==i.contentQueries&&yy(i,s),!h)if(m){const T=i.contentCheckHooks;null!==T&&su(s,T)}else{const T=i.contentHooks;null!==T&&ou(s,T,1),lc(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const l=o[c];if(l<0)Gr(~l);else{const h=l,m=o[++c],_=o[++c];ic(m,h),_(2,s[h])}}}finally{Gr(-1)}}(i,s);const _=i.components;null!==_&&function(i,s){for(let o=0;o<s.length;o++)Gw(i,s[o])}(s,_);const C=i.viewQuery;if(null!==C&&Ay(2,C,c),!h)if(m){const T=i.viewCheckHooks;null!==T&&su(s,T)}else{const T=i.viewHooks;null!==T&&ou(s,T,2),lc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Xu(s[3],-1))}finally{uc()}}function eg(i,s,o,c){const l=s[10],h=!ps(),m=Ju(s);try{h&&!m&&l.begin&&l.begin(),m&&Xp(i,s,c),Jn(i,s,o,c)}finally{h&&!m&&l.end&&l.end()}}function Pw(i,s,o,c,l){const h=xr(),m=2&c;try{Gr(-1),m&&s.length>20&&Cw(i,s,20,ps()),o(c,l)}finally{Gr(h)}}function Wv(i,s,o){!ec()||(function(i,s,o,c){const l=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||Wr(o,s),lr(c,s);const m=o.initialInputs;for(let _=l;_<h;_++){const C=i.data[_],T=ci(C);T&&bD(s,o,C);const S=ko(s,i,_,o);lr(S,s),null!==m&&eb(0,_-l,S,C,0,m),T&&(or(o.index,s)[8]=S)}}(i,s,o,Mr(o,s)),128==(128&o.flags)&&function(i,s,o){const c=o.directiveStart,l=o.directiveEnd,m=o.index,_=it.lFrame.currentDirectiveIndex;try{Gr(m);for(let C=c;C<l;C++){const T=i.data[C],S=s[C];sc(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&jw(T,S)}}finally{Gr(-1),sc(_)}}(i,s,o))}function Kv(i,s,o=Mr){const c=s.localNames;if(null!==c){let l=s.index+1;for(let h=0;h<c.length;h+=2){const m=c[h+1],_=-1===m?o(s,i):i[m];i[l++]=_}}}function tg(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Gl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Gl(i,s,o,c,l,h,m,_,C,T){const S=20+c,O=S+l,N=function(i,s){const o=[];for(let c=0;c<s;c++)o.push(c<i?null:Ct);return o}(S,O),Z="function"==typeof T?T():T;return N[1]={type:i,blueprint:N,template:o,queries:null,viewQuery:_,declTNode:s,data:N.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:Z,incompleteFirstPass:!1}}function Qv(i,s,o,c){const l=rf(s);null===o?l.push(c):(l.push(o),i.firstCreatePass&&sg(i).push(c,l.length-1))}function kw(i,s,o){for(let c in i)if(i.hasOwnProperty(c)){const l=i[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(s,l):o[c]=[s,l]}return o}function Pi(i,s,o,c,l,h,m,_){const C=Mr(s,o);let S,T=s.inputs;!_&&null!=T&&(S=T[c])?(rb(i,o,S,c,l),$a(s)&&function(i,s){const o=or(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),l=null!=m?m(l,s.value||"",c):l,en(h)?h.setProperty(C,c,l):fc(c)||(C.setProperty?C.setProperty(c,l):C[c]=l))}function ef(i,s,o,c){let l=!1;if(ec()){const h=function(i,s,o){const c=i.directiveRegistry;let l=null;if(c)for(let h=0;h<c.length;h++){const m=c[h];eD(o,m.selectors,!1)&&(l||(l=[]),zn(Wr(o,s),i,m.type),ci(m)?(Ey(i,o),l.unshift(m)):l.push(m))}return l}(i,s,o),m=null===c?null:{"":-1};if(null!==h){l=!0,Ty(o,i.data.length,h.length);for(let S=0;S<h.length;S++){const O=h[S];O.providersResolver&&O.providersResolver(O)}let _=!1,C=!1,T=Jh(i,s,h.length,null);for(let S=0;S<h.length;S++){const O=h[S];o.mergedAttrs=Mi(o.mergedAttrs,O.hostAttrs),Xv(i,o,s,T,O),vD(T,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const N=O.type.prototype;!_&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),_=!0),!C&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),C=!0),T++}!function(i,s){const c=s.directiveEnd,l=i.data,h=s.attrs,m=[];let _=null,C=null;for(let T=s.directiveStart;T<c;T++){const S=l[T],O=S.inputs,N=null===h||hy(s)?null:qw(O,h);m.push(N),_=kw(O,T,_),C=kw(S.outputs,T,C)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=_,s.outputs=C}(i,o)}m&&function(i,s,o){if(s){const c=i.localNames=[];for(let l=0;l<s.length;l+=2){const h=o[s[l+1]];if(null==h)throw new me("301",`Export of name '${s[l+1]}' not found!`);c.push(s[l],h)}}}(o,c,m)}return o.mergedAttrs=Mi(o.mergedAttrs,o.attrs),l}function wy(i,s,o,c,l,h){const m=h.hostBindings;if(m){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const C=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=C&&_.push(C),_.push(c,l,m)}}function jw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ey(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function vD(i,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=i;ci(s)&&(o[""]=i)}}function Ty(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Xv(i,s,o,c,l){i.data[c]=l;const h=l.factory||(l.factory=mn(l.type)),m=new au(h,ci(l),null);i.blueprint[c]=m,o[c]=m,wy(i,s,0,c,Jh(i,o,l.hostVars,Ct),l)}function bD(i,s,o){const c=Mr(s,i),l=tg(o),h=i[10],m=Du(i,Jp(i,l,null,o.onPush?64:16,c,s,h,h.createRenderer(c,o),null,null));i[s.index]=m}function Ds(i,s,o,c,l,h){const m=Mr(i,s);!function(i,s,o,c,l,h,m){if(null==h)en(i)?i.removeAttribute(s,l,o):s.removeAttribute(l);else{const _=null==m?ke(h):m(h,c||"",l);en(i)?i.setAttribute(s,l,_,o):o?s.setAttributeNS(o,l,_):s.setAttribute(l,_)}}(s[11],m,h,i.value,o,c,l)}function eb(i,s,o,c,l,h){const m=h[s];if(null!==m){const _=c.setInput;for(let C=0;C<m.length;){const T=m[C++],S=m[C++],O=m[C++];null!==_?c.setInput(o,O,T,S):o[S]=O}}}function qw(i,s){let o=null,c=0;for(;c<s.length;){const l=s[c];if(0!==l)if(5!==l){if("number"==typeof l)break;i.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,i[l],s[c+1])),c+=2}else c+=2;else c+=4}return o}function tf(i,s,o,c){return new Array(i,!0,!1,s,null,0,c,o,null,null)}function Gw(i,s){const o=or(s,i);if(ga(o)){const c=o[1];80&o[2]?Jn(c,o,c.template,o[8]):o[5]>0&&nf(o)}}function nf(i){for(let c=qe(i);null!==c;c=Mt(c))for(let l=10;l<c.length;l++){const h=c[l];if(1024&h[2]){const m=h[1];Jn(m,h,m.template,h[8])}else h[5]>0&&nf(h)}const o=i[1].components;if(null!==o)for(let c=0;c<o.length;c++){const l=or(o[c],i);ga(l)&&l[5]>0&&nf(l)}}function CD(i,s){const o=or(s,i),c=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(c,o),Xp(c,o,o[8])}function Du(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function tb(i){for(;i;){i[2]|=64;const s=Pe(i);if(gl(i)&&!s)return i;i=s}return null}function Iy(i,s,o){const c=s[10];c.begin&&c.begin();try{Jn(i,s,i.template,o)}catch(l){throw Dy(s,l),l}finally{c.end&&c.end()}}function rg(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],c=Zh(o),l=c[1];eg(l,c,l.template,o)}}(i[8])}function Ay(i,s,o){oc(0),s(i,o)}const Ww=(()=>Promise.resolve(null))();function rf(i){return i[7]||(i[7]=[])}function sg(i){return i.cleanup||(i.cleanup=[])}function Dy(i,s){const o=i[9],c=o?o.get(Yr,null):null;c&&c.handleError(s)}function rb(i,s,o,c,l){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],C=s[m],T=i.data[m];null!==T.setInput?T.setInput(C,l,c,_):C[_]=l}}function Pa(i,s,o){const c=So(s,i);!function(i,s,o){en(i)?i.setValue(s,o):s.textContent=o}(i[11],c,o)}function Vc(i,s,o){let c=o?i.styles:null,l=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const _=s[m];"number"==typeof _?h=_:1==h?l=ce(l,_):2==h&&(c=ce(c,_+": "+s[++m]+";"))}o?i.styles=c:i.stylesWithoutHost=c,o?i.classes=l:i.classesWithoutHost=l}const Mu=new tn("INJECTOR",-1);class sf{get(s,o=bs){if(o===bs){const c=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw c.name="NullInjectorError",c}return o}}const of=new tn("Set Injector scope."),og={},ob={};let af;function Sy(){return void 0===af&&(af=new sf),af}function ab(i,s=null,o=null,c){return new Qw(i,o,s||Sy(),c)}class Qw{constructor(s,o,c,l=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&xi(o,_=>this.processProvider(_,s,o)),xi([s],_=>this.processInjectorType(_,[],h)),this.records.set(Mu,Na(void 0,this));const m=this.records.get(of);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=bs,c=Ye.Default){this.assertNotDestroyed();const l=Ta(this),h=qr(void 0);try{if(!(c&Ye.SkipSelf)){let _=this.records.get(s);if(void 0===_){const C=("function"==typeof(i=s)||"object"==typeof i&&i instanceof tn)&&_r(s);_=C&&this.injectableDefInScope(C)?Na(ub(s),og):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(c&Ye.Self?Sy():this.parent).get(s,o=c&Ye.Optional&&o===bs?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ki]=m[Ki]||[]).unshift(Q(s)),l)throw m;return hv(m,s,"R3InjectorError",this.source)}throw m}finally{qr(h),Ta(l)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,l)=>s.push(Q(l))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,c){if(!(s=K(s)))return!1;let l=Zi(s);const h=null==l&&s.ngModule||void 0,m=void 0===h?s:h,_=-1!==c.indexOf(m);if(void 0!==h&&(l=Zi(h)),null==l)return!1;if(null!=l.imports&&!_){let S;c.push(m);try{xi(l.imports,O=>{this.processInjectorType(O,o,c)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:N,providers:Z}=S[O];xi(Z,H=>this.processProvider(H,N,Z||de))}}this.injectorDefTypes.add(m);const C=mn(m)||(()=>new m);this.records.set(m,Na(C,og));const T=l.providers;if(null!=T&&!_){const S=s;xi(T,O=>this.processProvider(O,S,T))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,c){let l=Zc(s=K(s))?s:K(s&&s.provide);const h=Uc(i=s)?Na(void 0,i.useValue):Na(ug(i),og);var i;if(Zc(s)||!0!==s.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Na(void 0,og,!0),m.factory=()=>Zo(m.multi),this.records.set(l,m)),l=s,m.multi.push(s)}this.records.set(l,h)}hydrate(s,o){return o.value===og&&(o.value=ob,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=K(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function ub(i){const s=_r(i),o=null!==s?s.factory:mn(i);if(null!==o)return o;if(i instanceof tn)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=function(i,s){const o=[];for(let c=0;c<i;c++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${c.join(", ")}).`)}const o=function(i){const s=i&&(i[xt]||i[bo]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function ug(i,s,o){let c;if(Zc(i)){const l=K(i);return mn(l)||ub(l)}if(Uc(i))c=()=>K(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Zo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Cn(K(i.useExisting));else{const l=K(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return mn(l)||ub(l);c=()=>new l(...Zo(i.deps))}return c}function Na(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Uc(i){return null!==i&&"object"==typeof i&&ws in i}function Zc(i){return"function"==typeof i}const Ra=function(i,s,o){return function(i,s=null,o=null,c){const l=ab(i,s,o,c);return l._resolveInjectorDefTypes(),l}({name:o},s,i,o)};let an=(()=>{class i{static create(o,c){return Array.isArray(o)?Ra(o,c,""):Ra(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=bs,i.NULL=new sf,i.\u0275prov=ut({token:i,providedIn:"any",factory:()=>Cn(Mu)}),i.__NG_ELEMENT_ID__=-1,i})();function hr(i,s){cc(Zh(i)[1],yn())}function Cb(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const c=[i];for(;s;){let l;if(ci(i))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");l=s.\u0275dir}if(l){if(o){c.push(l);const m=i;m.inputs=wb(i.inputs),m.declaredInputs=wb(i.declaredInputs),m.outputs=wb(i.outputs);const _=l.hostBindings;_&&dE(i,_);const C=l.viewQuery,T=l.contentQueries;if(C&&cE(i,C),T&&lE(i,T),J(i.inputs,l.inputs),J(i.declaredInputs,l.declaredInputs),J(i.outputs,l.outputs),ci(l)&&l.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(i),_===Cb&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let c=i.length-1;c>=0;c--){const l=i[c];l.hostVars=s+=l.hostVars,l.hostAttrs=Mi(l.hostAttrs,o=Mi(o,l.hostAttrs))}}(c)}function wb(i){return i===Ve?{}:i===de?[]:i}function cE(i,s){const o=i.viewQuery;i.viewQuery=o?(c,l)=>{s(c,l),o(c,l)}:s}function lE(i,s){const o=i.contentQueries;i.contentQueries=o?(c,l,h)=>{s(c,l,h),o(c,l,h)}:s}function dE(i,s){const o=i.hostBindings;i.hostBindings=o?(c,l)=>{s(c,l),o(c,l)}:s}let hg=null;function gf(){if(!hg){const i=j.Symbol;if(i&&i.iterator)hg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const c=s[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(hg=c)}}}return hg}function mf(i){return!!Py(i)&&(Array.isArray(i)||!(i instanceof Map)&&gf()in i)}function Py(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function vi(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Ny(i,s,o,c){const l=Ie();return vi(l,eo(),s)&&(At(),Ds(un(),l,i,s,o,c)),Ny}function gE(i,s,o,c,l,h,m,_){const C=Ie(),T=At(),S=i+20,O=T.firstCreatePass?function(i,s,o,c,l,h,m,_,C){const T=s.consts,S=Lc(s,i,4,m||null,ds(T,_));ef(s,o,S,ds(T,C)),cc(s,S);const O=S.tViews=Gl(2,S,c,l,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,S),O.queries=s.queries.embeddedTView(S)),S}(S,T,C,s,o,c,l,h,m):T.data[S];di(O,!1);const N=C[11].createComment("");Gp(T,C,N,O),lr(N,C),Du(C,C[S]=tf(N,C,N,O)),la(O)&&Wv(T,C,O),null!=m&&Kv(C,O,_)}function sd(i,s=Ye.Default){const o=Ie();return null===o?Cn(i,s):fh(yn(),o,K(i),s)}function od(i,s,o){const c=Ie();return vi(c,eo(),s)&&Pi(At(),un(),c,i,s,c[11],o,!1),od}function Pb(i,s,o,c,l){const m=l?"class":"style";rb(i,o,s.inputs[m],m,c)}function Ru(i,s,o,c){const l=Ie(),h=At(),m=20+i,_=l[11],C=l[m]=Bl(_,s,it.lFrame.currentNamespace),T=h.firstCreatePass?function(i,s,o,c,l,h,m){const _=s.consts,T=Lc(s,i,2,l,ds(_,h));return ef(s,o,T,ds(_,m)),null!==T.attrs&&Vc(T,T.attrs,!1),null!==T.mergedAttrs&&Vc(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(m,h,l,0,s,o,c):h.data[m];di(T,!0);const S=T.mergedAttrs;null!==S&&uu(_,C,S);const O=T.classes;null!==O&&Vv(_,C,O);const N=T.styles;null!==N&&_w(_,C,N),64!=(64&T.flags)&&Gp(h,l,C,T),0===it.lFrame.elementDepthCount&&lr(C,l),it.lFrame.elementDepthCount++,la(T)&&(Wv(h,l,T),function(i,s,o){if(Ys(s)){const l=s.directiveEnd;for(let h=s.directiveStart;h<l;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,T,l)),null!==c&&Kv(l,T)}function ud(){let i=yn();tu()?it.lFrame.isParent=!1:(i=i.parent,di(i,!1));const s=i;it.lFrame.elementDepthCount--;const o=At();o.firstCreatePass&&(cc(o,i),Ys(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Pb(o,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Pb(o,s,Ie(),s.stylesWithoutHost,!1)}function Nb(i,s,o,c){Ru(i,s,o,c),ud()}function cd(){return Ie()}function Fy(i){return!!i&&"function"==typeof i.then}function ld(i){return!!i&&"function"==typeof i.subscribe}const yg=ld;function bf(i,s,o,c){const l=Ie(),h=At(),m=yn();return function(i,s,o,c,l,h,m,_){const C=la(c),S=i.firstCreatePass&&sg(i),O=s[8],N=rf(s);let Z=!0;if(3&c.type||_){const W=Mr(c,s),Oe=_?_(W):W,Ce=N.length,et=_?lt=>_(St(lt[c.index])):c.index;if(en(o)){let lt=null;if(!_&&C&&(lt=function(i,s,o,c){const l=i.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===o&&l[h+1]===c){const _=s[7],C=l[h+2];return _.length>C?_[C]:null}"string"==typeof m&&(h+=2)}return null}(i,s,l,c.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=h,lt.__ngLastListenerFn__=h,Z=!1;else{h=Cf(c,s,O,h,!1);const kt=o.listen(Oe,l,h);N.push(h,kt),S&&S.push(l,et,Ce,Ce+1)}}else h=Cf(c,s,O,h,!0),Oe.addEventListener(l,h,m),N.push(h),S&&S.push(l,et,Ce,m)}else h=Cf(c,s,O,h,!1);const H=c.outputs;let ae;if(Z&&null!==H&&(ae=H[l])){const W=ae.length;if(W)for(let Oe=0;Oe<W;Oe+=2){const yr=s[ae[Oe]][ae[Oe+1]].subscribe(h),js=N.length;N.push(h,yr),S&&S.push(l,c.index,js,-(js+1))}}}(h,l,l[11],m,i,s,!!o,c),bf}function kb(i,s,o,c){try{return!1!==o(c)}catch(l){return Dy(i,l),!1}}function Cf(i,s,o,c,l){return function h(m){if(m===Function)return c;const _=2&i.flags?or(i.index,s):s;0==(32&s[2])&&tb(_);let C=kb(s,0,c,m),T=h.__ngNextListenerFn__;for(;T;)C=kb(s,0,T,m)&&C,T=T.__ngNextListenerFn__;return l&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function wf(i=1){return function(i){return(it.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,it.lFrame.contextLView))[8]}(i)}function SE(i,s,o,c,l){const h=i[o+1],m=null===s;let _=c?Qr(h):Iu(h),C=!1;for(;0!==_&&(!1===C||m);){const S=i[_+1];ME(i[_],s)&&(C=!0,i[_+1]=c?Yp(S):Ot(S)),_=c?Qr(S):Iu(S)}C&&(i[o+1]=c?Ot(h):Yp(h))}function ME(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&x(i,s)>=0}function wg(i,s){return function(i,s,o,c){const l=Ie(),h=At(),m=function(i){const s=it.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function(i,s,o,c){const l=i.data;if(null===l[o+1]){const h=l[xr()],m=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,c)&&null===s&&!m&&(s=!1),s=function(i,s,o,c){const l=function(i){const s=it.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===l)0===(c?s.classBindings:s.styleBindings)&&(o=Eg(o=Df(null,i,s,o,c),s.attrs,c),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==l)if(o=Df(l,i,s,o,c),null===h){let C=function(i,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==Iu(c))return i[Qr(c)]}(i,s,c);void 0!==C&&Array.isArray(C)&&(C=Df(null,i,s,C[1],c),C=Eg(C,s.attrs,c),function(i,s,o,c){i[Qr(o?s.classBindings:s.styleBindings)]=c}(i,s,c,C))}else h=function(i,s,o){let c;const l=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<l;h++)c=Eg(c,i[h].hostAttrs,o);return Eg(c,s.attrs,o)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),o}(l,h,s,c),function(i,s,o,c,l,h){let m=h?s.classBindings:s.styleBindings,_=Qr(m),C=Iu(m);i[c]=o;let S,T=!1;if(Array.isArray(o)){const O=o;S=O[1],(null===S||x(O,S)>0)&&(T=!0)}else S=o;if(l)if(0!==C){const N=Qr(i[_+1]);i[c+1]=pe(N,_),0!==N&&(i[N+1]=Wo(i[N+1],c)),i[_+1]=function(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=pe(_,0),0!==_&&(i[_+1]=Wo(i[_+1],c)),_=c;else i[c+1]=pe(C,0),0===_?_=c:i[C+1]=Wo(i[C+1],c),C=c;T&&(i[c+1]=Ot(i[c+1])),SE(i,S,c,!0),SE(i,S,c,!1),function(i,s,o,c,l){const h=l?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&x(h,s)>=0&&(o[c+1]=Yp(o[c+1]))}(s,S,i,c,h),m=pe(_,C),h?s.classBindings=m:s.styleBindings=m}(l,h,s,o,m,c)}}(h,i,m,c),s!==Ct&&vi(l,m,s)&&function(i,s,o,c,l,h,m,_){if(!(3&s.type))return;const C=i.data,T=C[_+1];La(function(i){return 1==(1&i)}(T)?Zb(C,s,o,l,Iu(T),m):void 0)||(La(h)||function(i){return 2==(2&i)}(T)&&(h=Zb(C,null,o,l,_,m)),function(i,s,o,c,l){const h=en(i);if(s)l?h?i.addClass(o,c):o.classList.add(c):h?i.removeClass(o,c):o.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:b.DashCase;if(null==l)h?i.removeStyle(o,c,m):o.style.removeProperty(c);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),m|=b.Important),h?i.setStyle(o,c,l,m):o.style.setProperty(c,l,_?"important":"")}}}(c,m,So(xr(),o),l,h))}(h,h.data[xr()],l,l[11],i,l[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Ts(i)))),i}(s,o),c,m)}(i,s,null,!0),wg}function Df(i,s,o,c,l){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=s[_],c=Eg(c,h.hostAttrs,l),h!==i);)_++;return null!==i&&(o.directiveStylingLast=_),c}function Eg(i,s,o){const c=o?1:2;let l=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?l=m:l===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),E(i,m,!!o||s[++h]))}return void 0===i?null:i}function Zb(i,s,o,c,l,h){const m=null===s;let _;for(;l>0;){const C=i[l],T=Array.isArray(C),S=T?C[1]:C,O=null===S;let N=o[l+1];N===Ct&&(N=O?de:void 0);let Z=O?A(N,c):S===c?N:void 0;if(T&&!La(Z)&&(Z=A(C,c)),La(Z)&&(_=Z,m))return _;const H=i[l+1];l=m?Qr(H):Iu(H)}if(null!==s){let C=h?s.residualClasses:s.residualStyles;null!=C&&(_=A(C,c))}return _}function La(i){return void 0!==i}function Bb(i,s=""){const o=Ie(),c=At(),l=i+20,h=c.firstCreatePass?Lc(c,l,1,s,null):c.data[l],m=o[l]=function(i,s){return en(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Gp(c,o,m,h),di(h,!1)}function qy(i){return Wc("",i,""),qy}function Wc(i,s,o){const c=Ie(),l=function(i,s,o,c){return vi(i,eo(),o)?s+ke(o)+c:Ct}(c,i,s,o);return l!==Ct&&Pa(c,xr(),l),Wc}function $b(i,s,o){const c=Ie();return vi(c,eo(),s)&&Pi(At(),un(),c,i,s,c[11],o,!0),$b}const Ko=void 0;var zy=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let yd={};function Wy(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Gb(s);if(o)return o;const c=s.split("-")[0];if(o=Gb(c),o)return o;if("en"===c)return zy;throw new Error(`Missing locale data for the locale "${i}".`)}function Hb(i){return Wy(i)[ot.PluralCase]}function Gb(i){return i in yd||(yd[i]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[i]),yd[i]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const Ky="en-US";let Yy=Ky;function Qy(i){on(i,"Expected localeId to be defined"),"string"==typeof i&&(Yy=i.toLowerCase().replace(/_/g,"-"))}function n_(i,s,o,c,l){if(i=K(i),Array.isArray(i))for(let h=0;h<i.length;h++)n_(i[h],s,o,c,l);else{const h=At(),m=Ie();let _=Zc(i)?i:K(i.provide),C=ug(i);const T=yn(),S=1048575&T.providerIndexes,O=T.directiveStart,N=T.providerIndexes>>20;if(Zc(i)||!i.multi){const Z=new au(C,l,sd),H=Ed(_,s,l?S:S+N,O);-1===H?(zn(Wr(T,m),h,_),r_(h,i,s.length),s.push(_),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(Z),m.push(Z)):(o[H]=Z,m[H]=Z)}else{const Z=Ed(_,s,S+N,O),H=Ed(_,s,S,S+N),ae=Z>=0&&o[Z],W=H>=0&&o[H];if(l&&!W||!l&&!ae){zn(Wr(T,m),h,_);const Oe=function(i,s,o,c,l){const h=new au(i,o,sd);return h.multi=[],h.index=s,h.componentProviders=0,i_(h,l,c&&!o),h}(l?sS:s_,o.length,l,c,C);!l&&W&&(o[H].providerFactory=Oe),r_(h,i,s.length,0),s.push(_),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(Oe),m.push(Oe)}else r_(h,i,Z>-1?Z:H,i_(o[l?H:Z],C,!l&&c));!l&&c&&W&&o[H].componentProviders++}}}function r_(i,s,o,c){const l=Zc(s);if(l||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const _=i.destroyHooks||(i.destroyHooks=[]);if(!l&&s.multi){const C=_.indexOf(o);-1===C?_.push(o,[c,m]):_[C+1].push(c,m)}else _.push(o,m)}}}function i_(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Ed(i,s,o,c){for(let l=o;l<c;l++)if(s[l]===i)return l;return-1}function s_(i,s,o,c){return o_(this.multi,[])}function sS(i,s,o,c){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=ko(o,o[1],this.providerFactory.index,c);h=_.slice(0,m),o_(l,h);for(let C=m;C<_.length;C++)h.push(_[C])}else h=[],o_(l,h);return h}function o_(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function bT(i,s=[]){return o=>{o.providersResolver=(c,l)=>function(i,s,o){const c=At();if(c.firstCreatePass){const l=ci(i);n_(o,c.data,c.blueprint,l,!0),n_(s,c.data,c.blueprint,l,!1)}}(c,l?l(i):i,s)}}class oC{}const u_="ngComponent";class cS{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[u_]=i,s}(s)}}let Xc=(()=>{class i{}return i.NULL=new cS,i})();function Td(...i){}function Vu(i,s){return new Fs(Mr(i,s))}const wT=function(){return Vu(yn(),Ie())};let Fs=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=wT,i})();function d_(i){return i instanceof Fs?i.nativeElement:i}class Qo{}let Nf=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>dS(),i})();const dS=function(){const i=Ie(),o=or(yn().index,i);return function(i){return i[11]}(ji(o)?o:i)};let Za=(()=>{class i{}return i.\u0275prov=ut({token:i,providedIn:"root",factory:()=>null}),i})();class el{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Lg=new el("12.2.16");class aC{constructor(){}supports(s){return mf(s)}create(s){return new fS(s)}}const hS=(i,s)=>s;class fS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||hS}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,l=0,h=null;for(;o||c;){const m=!c||o&&o.currentIndex<uC(c,l,h)?o:c,_=uC(m,l,h),C=m.currentIndex;if(m===c)l--,c=c._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{h||(h=[]);const T=_-l,S=C-l;if(T!=S){for(let N=0;N<T;N++){const Z=N<h.length?h[N]:h[N]=0,H=Z+N;S<=H&&H<T&&(h[N]=Z+1)}h[m.previousIndex]=S-T}}_!==C&&s(m,_,C)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!mf(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,h,m,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),c=!0),o=o._next}else l=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[gf()]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,_=>{m=this._trackByFn(l,_),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,_,m,l)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,l),c=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,l){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,l)):s=this._addAfter(new pS(o,c),h,l),s}_verifyReinsertion(s,o,c,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,h=s._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Id),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Id),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class pS{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h_{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class Id{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new h_,this.map.set(o,c)),c.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uC(i,s,o){const c=i.previousIndex;if(null===c)return c;let l=0;return o&&c<o.length&&(l=o[c]),c+s+l}class IT{constructor(){}supports(s){return s instanceof Map||Py(s)}create(){return new gS}}class gS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Py(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const c=new AT(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class AT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Uu(){return new Ad([new aC])}let Ad=(()=>{class i{constructor(o){this.factories=o}static create(o,c){if(null!=c){const l=c.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:c=>i.create(o,c||Uu()),deps:[[i,new jo,new Es]]}}find(o){const c=this.factories.find(l=>l.supports(o));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=ut({token:i,providedIn:"root",factory:Uu}),i})();function cC(){return new Ff([new IT])}let Ff=(()=>{class i{constructor(o){this.factories=o}static create(o,c){if(c){const l=c.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:c=>i.create(o,c||cC()),deps:[[i,new jo,new Es]]}}find(o){const c=this.factories.find(l=>l.supports(o));if(c)return c;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=ut({token:i,providedIn:"root",factory:cC}),i})();function Lf(i,s,o,c,l=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&c.push(St(h)),gn(h))for(let _=10;_<h.length;_++){const C=h[_],T=C[1].firstChild;null!==T&&Lf(C[1],C,T,c)}const m=o.type;if(8&m)Lf(i,s,o.child,c);else if(32&m){const _=M(o,s);let C;for(;C=_();)c.push(C)}else if(16&m){const _=ly(s,o);if(Array.isArray(_))c.push(..._);else{const C=Pe(s[16]);Lf(C[1],C,_,c,!0)}}o=l?o.projectionNext:o.next}return c}class Zu{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Lf(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(gn(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(Rv(s,c),Lo(o,c))}this._attachedToViewContainer=!1}lw(this._lView[1],this._lView)}onDestroy(s){Qv(this._lView[1],this._lView,null,s)}markForCheck(){tb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Iy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){Gi(!0);try{Iy(i,s,o)}finally{Gi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Wp(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class f_ extends Zu{constructor(s){super(s),this._view=s}detectChanges(){rg(this._view)}checkNoChanges(){!function(i){Gi(!0);try{rg(i)}finally{Gi(!1)}}(this._view)}get context(){return null}}const yS=function(i){return function(i,s,o){if($a(i)&&!o){const c=or(i.index,s);return new Zu(c,c)}return 47&i.type?new Zu(s[16],s):null}(yn(),Ie(),16==(16&i))};let dC=(()=>{class i{}return i.__NG_ELEMENT_ID__=yS,i})();const ST=[new IT],hC=new Ad([new aC]),vS=new Ff(ST),OT=function(){return Dd(yn(),Ie())};let Vg=(()=>{class i{}return i.__NG_ELEMENT_ID__=OT,i})();const Vf=Vg,Uf=class extends Vf{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(s){const o=this._declarationTContainer.tViews,c=Jp(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(c[19]=h.createEmbeddedView(o)),Xp(o,c,s),new Zu(c)}};function Dd(i,s){return 4&i.type?new Uf(s,i,Vu(i,s)):null}class tl{}class pC{}const CS=function(){return Ir(yn(),Ie())};let Zf=(()=>{class i{}return i.__NG_ELEMENT_ID__=CS,i})();const gC=Zf,NT=class extends gC{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const s=du(this._hostTNode,this._hostLView);if(gc(s)){const o=lu(s,this._hostLView),c=cu(s);return new ms(o[1].data[c+8],o)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=RT(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,c){const l=s.createEmbeddedView(o||{});return this.insert(l,c),l}createComponent(s,o,c,l,h){const m=c||this.parentInjector;if(!h&&null==s.ngModule&&m){const C=m.get(tl,null);C&&(h=C)}const _=s.create(m,l,void 0,h);return this.insert(_.hostView,o),_}insert(s,o){const c=s._lView,l=c[1];if(gn(c[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const O=c[3],N=new NT(O,O[6],O[3]);N.detach(N.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,c){const l=10+c,h=o.length;c>0&&(o[l-1][4]=s),c<h-10?(s[4]=o[l],Oi(o,10+c,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(l,c,m,h);const _=mw(h,m),C=c[11],T=Tu(C,m[7]);return null!==T&&function(i,s,o,c,l,h){c[0]=l,c[6]=s,Wp(i,c,o,1,l,h)}(l,m[6],C,c,T,_),s.attachToViewContainerRef(),Oi(Ug(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=RT(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=Rv(this._lContainer,o);c&&(Lo(Ug(this._lContainer),o),lw(c[1],c))}detach(s){const o=this._adjustIndex(s,-1),c=Rv(this._lContainer,o);return c&&null!=Lo(Ug(this._lContainer),o)?new Zu(c):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function RT(i){return i[8]}function Ug(i){return i[8]||(i[8]=[])}function Ir(i,s){let o;const c=s[i.index];if(gn(c))o=c;else{let l;if(8&i.type)l=St(c);else{const h=s[11];l=h.createComment("");const m=Mr(i,s);ql(h,Tu(h,m),l,function(i,s){return en(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=tf(c,s,l,i),Du(s,o)}return new NT(o,i,s)}const sl={};class w_ extends Xc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Nn(s);return new iI(o,this.ngModule)}}function rI(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const qu=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bp});class iI extends oC{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(rD).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return rI(this.componentDef.inputs)}get outputs(){return rI(this.componentDef.outputs)}create(s,o,c,l){const h=(l=l||this.ngModule)?function(i,s){return{get:(o,c,l)=>{const h=i.get(o,sl,l);return h!==sl||c===sl?h:s.get(o,c,l)}}}(s,l.injector):s,m=h.get(Qo,Qa),_=h.get(Za,null),C=m.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=c?function(i,s,o){if(en(i))return i.selectRootElement(s,o===ht.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(C,c,this.componentDef.encapsulation):Bl(m.createRenderer(null,this.componentDef),T,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),O=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||Bp,clean:Ww,playerHandler:s||null,flags:0}}(),Z=Gl(0,null,null,1,0,null,null,null,null,null),H=Jp(null,Z,N,O,null,null,m,C,_,h);let ae,W;gs(H);try{const Oe=function(i,s,o,c,l,h){const m=o[1];o[20]=i;const C=Lc(m,20,2,"#host",null),T=C.mergedAttrs=s.hostAttrs;null!==T&&(Vc(C,T,!0),null!==i&&(uu(l,i,T),null!==C.classes&&Vv(l,i,C.classes),null!==C.styles&&_w(l,i,C.styles)));const S=c.createRenderer(i,s),O=Jp(o,tg(s),null,s.onPush?64:16,o[20],C,c,S,h||null,null);return m.firstCreatePass&&(zn(Wr(C,o),m,s.type),Ey(m,C),Ty(C,o.length,1)),Du(o,O),o[20]=O}(S,this.componentDef,H,m,C);if(S)if(c)uu(C,S,["ng-version",Lg.full]);else{const{attrs:Ce,classes:et}=function(i){const s=[],o=[];let c=1,l=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===l?""!==h&&s.push(h,i[++c]):8===l&&o.push(h);else{if(!ao(l))break;l=h}c++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ce&&uu(C,S,Ce),et&&et.length>0&&Vv(C,S,et.join(" "))}if(W=Hi(Z,20),void 0!==o){const Ce=W.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const lt=o[et];Ce.push(null!=lt?Array.from(lt):null)}}ae=function(i,s,o,c,l){const h=o[1],m=function(i,s,o){const c=yn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Xv(i,c,s,Jh(i,s,1,null),o));const l=ko(s,i,c.directiveStart,c);lr(l,s);const h=Mr(c,s);return h&&lr(h,s),l}(h,o,s);if(c.components.push(m),i[8]=m,l&&l.forEach(C=>C(m,s)),s.contentQueries){const C=yn();s.contentQueries(1,m,C.directiveStart)}const _=yn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Gr(_.index),wy(o[1],_,0,_.directiveStart,_.directiveEnd,s),jw(s,m)),m}(Oe,this.componentDef,H,N,[hr]),Xp(Z,H,null)}finally{uc()}return new jS(this.componentType,ae,Vu(W,H),H,W)}}class jS extends class{}{constructor(s,o,c,l,h){super(),this.location=c,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new f_(l),this.componentType=s}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Yf=new Map;class aI extends tl{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w_(this);const c=sr(s),l=s[nt]||null;l&&Qy(l),this._bootstrapComponents=oo(c.bootstrap),this._r3Injector=ab(s,o,[{provide:tl,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=an.THROW_IF_NOT_FOUND,c=Ye.Default){return s===an||s===tl||s===Mu?this:this._r3Injector.get(s,o,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Jg extends pC{constructor(s){super(),this.moduleType=s,null!==sr(s)&&function(i){const s=new Set;!function o(c){const l=sr(c,!0),h=l.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(h,Yf.get(h),c),Yf.set(h,c));const m=oo(l.imports);for(const _ of m)s.has(_)||(s.add(_),o(_))}(i)}(s)}create(s){return new aI(this.moduleType,s)}}function $C(i,s,o){const c=function(){const i=it.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}()+i,l=Ie();return l[c]===Ct?function(i,s,o){return i[s]=o}(l,c,o?s.call(o):s()):function(i,s){return i[s]}(l,c)}function em(i){return s=>{setTimeout(i,void 0,s)}}const Xo=class extends a.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){var l,h,m;let _=s,C=o||(()=>null),T=c;if(s&&"object"==typeof s){const O=s;_=null===(l=O.next)||void 0===l?void 0:l.bind(O),C=null===(h=O.error)||void 0===h?void 0:h.bind(O),T=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(C=em(C),_&&(_=em(_)),T&&(T=em(T)));const S=super.subscribe({next:_,error:C,complete:T});return s instanceof X.w&&s.add(S),S}};function JC(){return this._results[gf()]()}class tm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=gf(),c=tm.prototype;c[o]||(c[o]=JC)}get changes(){return this._changes||(this._changes=new Xo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const c=this;c.dirty=!1;const l=pi(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let l=i[c],h=s[c];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(c._results,l,o))&&(c._results=l,c.length=l.length,c.last=l[this.length-1],c.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class e0{constructor(s){this.queryList=s,this.matches=null}clone(){return new e0(this.queryList)}setDirty(){this.queryList.setDirty()}}class t0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const c=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let h=0;h<c;h++){const m=o.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new t0(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Xf(s,o).matches&&this.queries[o].setDirty()}}class pI{constructor(s,o,c=null){this.predicate=s,this.flags=o,this.read=c}}class A_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let c=0;c<this.length;c++){const l=null!==o?o.length:0,h=this.getByIndex(c).embeddedTView(s,l);h&&(h.indexInDeclarationView=c,null!==o?o.push(h):o=[h])}return null!==o?new A_(o):null}template(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class n0{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new n0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let l=0;l<c.length;l++){const h=c[l];this.matchTNodeWithReadOption(s,o,gI(o,h)),this.matchTNodeWithReadOption(s,o,Ro(o,s,h,!1,!1))}else c===Vg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Ro(o,s,c,!1,!1))}matchTNodeWithReadOption(s,o,c){if(null!==c){const l=this.metadata.read;if(null!==l)if(l===Fs||l===Zf||l===Vg&&4&o.type)this.addMatch(o.index,-2);else{const h=Ro(o,s,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,c)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function gI(i,s){const o=i.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===s)return o[c+1];return null}function QS(i,s,o,c){return-1===o?function(i,s){return 11&i.type?Vu(i,s):4&i.type?Dd(i,s):null}(s,i):-2===o?function(i,s,o){return o===Fs?Vu(s,i):o===Vg?Dd(s,i):o===Zf?Ir(s,i):void 0}(i,s,c):ko(i,i[1],o,s)}function mI(i,s,o,c){const l=s[19].queries[c];if(null===l.matches){const h=i.data,m=o.matches,_=[];for(let C=0;C<m.length;C+=2){const T=m[C];_.push(T<0?null:QS(s,h[T],m[C+1],o.metadata.read))}l.matches=_}return l.matches}function D_(i,s,o,c){const l=i.queries.getByIndex(o),h=l.matches;if(null!==h){const m=mI(i,s,l,o);for(let _=0;_<h.length;_+=2){const C=h[_];if(C>0)c.push(m[_/2]);else{const T=h[_+1],S=s[-C];for(let O=10;O<S.length;O++){const N=S[O];N[17]===N[3]&&D_(N[1],N,T,c)}if(null!==S[9]){const O=S[9];for(let N=0;N<O.length;N++){const Z=O[N];D_(Z[1],Z,T,c)}}}}}return c}function S_(i){const s=Ie(),o=At(),c=ah();oc(c+1);const l=Xf(o,c);if(i.dirty&&Ju(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const h=l.crossesNgTemplate?D_(o,s,c,[]):mI(o,s,l,c);i.reset(h,d_),i.notifyOnChanges()}return!0}return!1}function r0(i,s,o){const c=At();c.firstCreatePass&&(a0(c,new pI(i,s,o),-1),2==(2&s)&&(c.staticViewQueries=!0)),Bt(c,Ie(),s)}function s0(i,s,o,c){const l=At();if(l.firstCreatePass){const h=yn();a0(l,new pI(s,o,c),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(l,i),2==(2&o)&&(l.staticContentQueries=!0)}Bt(l,Ie(),o)}function o0(){return i=Ie(),s=ah(),i[19].queries[s].queryList;var i,s}function Bt(i,s,o){const c=new tm(4==(4&o));Qv(i,s,c,c.destroy),null===s[19]&&(s[19]=new t0),s[19].queries.push(new e0(c))}function a0(i,s,o){null===i.queries&&(i.queries=new A_),i.queries.track(new n0(s,o))}function Xf(i,s){return i.queries.getByIndex(s)}const b0=new tn("Application Initializer");let Rd=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Fy(h))o.push(h);else if(yg(h)){const m=new Promise((_,C)=>{h.subscribe({complete:_,error:C})});o.push(m)}}Promise.all(o).then(()=>{c()}).catch(l=>{this.reject(l)}),0===o.length&&c(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Cn(b0,8))},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();const RI=new tn("AppId"),kI={provide:RI,useFactory:function(){return`${R_()}${R_()}${R_()}`},deps:[]};function R_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const C0=new tn("Platform Initializer"),w0=new tn("Platform ID"),k_=new tn("appBootstrapListener");let FI=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();const om=new tn("LocaleId"),Hu=new tn("DefaultCurrencyCode");class E1{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const T0=function(i){return new Jg(i)},A1=T0,sp=function(i){return Promise.resolve(T0(i))},VI=function(i){const s=T0(i),c=oo(sr(i).declarations).reduce((l,h)=>{const m=Nn(h);return m&&l.push(new iI(m)),l},[]);return new E1(s,c)},S1=VI,M1=function(i){return Promise.resolve(VI(i))};let am=(()=>{class i{constructor(){this.compileModuleSync=A1,this.compileModuleAsync=sp,this.compileModuleAndAllComponentsSync=S1,this.compileModuleAndAllComponentsAsync=M1}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();const Fx=(()=>Promise.resolve(0))();function L_(i){"undefined"==typeof Zone?Fx.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Zs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&o,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let i=j.requestAnimationFrame,s=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(j,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,cm(i),i.isCheckStableRunning=!0,V_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),cm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,l,h,m,_)=>{try{return ZI(i),o.invokeTask(l,h,m,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),BI(i)}},onInvoke:(o,c,l,h,m,_,C)=>{try{return ZI(i),o.invoke(l,h,m,_,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),BI(i)}},onHasTask:(o,c,l,h)=>{o.hasTask(l,h),c===l&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,cm(i),V_(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,l,h)=>(o.handleError(l,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,s,I0,Td,Td);try{return h.runTask(m,o,c)}finally{h.cancelTask(m)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const I0={};function V_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function cm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ZI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function BI(i){i._nesting--,V_(i)}class jI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,l){return s.apply(o,c)}}let lm=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),L_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())L_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,l){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,l){return[]}}return i.\u0275fac=function(o){return new(o||i)(Cn(Zs))},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})(),qI=(()=>{class i{constructor(){this._applications=new Map,Gu.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return Gu.findTestabilityInTree(this,o,c)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();class $I{addToWindow(s){}findTestabilityInTree(s,o,c){return null}}function HI(i){Gu=i}let Gu=new $I,Bs=!0,Ei=!1;function U_(){return Ei=!0,Bs}function GI(){if(Ei)throw new Error("Cannot enable prod mode after platform setup.");Bs=!1}let Vi;const WI=new tn("AllowMultipleToken");class R1{constructor(s,o){this.name=s,this.token=o}}function up(i,s,o=[]){const c=`Platform: ${s}`,l=new tn(c);return(h=[])=>{let m=KI();if(!m||m.injector.get(WI,!1))if(i)i(o.concat(h).concat({provide:l,useValue:!0}));else{const _=o.concat(h).concat({provide:l,useValue:!0},{provide:of,useValue:"platform"});!function(i){if(Vi&&!Vi.destroyed&&!Vi.injector.get(WI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vi=i.get(YI);const s=i.get(C0,null);s&&s.forEach(o=>o())}(an.create({providers:_,name:c}))}return function(i){const s=KI();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(l)}}function KI(){return Vi&&!Vi.destroyed?Vi:null}let YI=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const _=function(i,s){let o;return o="noop"===i?new jI:("zone.js"===i?void 0:i)||new Zs({enableLongStackTrace:U_(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Zs,useValue:_}];return _.run(()=>{const T=an.create({providers:C,parent:this.injector,name:o.moduleType.name}),S=o.create(T),O=S.injector.get(Yr,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const N=_.onError.subscribe({next:Z=>{O.handleError(Z)}});S.onDestroy(()=>{Z_(this._modules,S),N.unsubscribe()})}),function(i,s,o){try{const c=o();return Fy(c)?c.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(O,_,()=>{const N=S.injector.get(Rd);return N.runInitializers(),N.donePromise.then(()=>(Qy(S.injector.get(om,Ky)||Ky),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,c=[]){const l=D0({},c);return function(i,s,o){const c=new Jg(o);return Promise.resolve(c)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const c=o.injector.get(Fd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>c.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Cn(an))},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();function D0(i,s){return Array.isArray(s)?s.reduce(D0,i):Object.assign(Object.assign({},i),s)}let Fd=(()=>{class i{constructor(o,c,l,h,m){this._zone=o,this._injector=c,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new k.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),L_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ue.T)(_,C.pipe(i=>(0,le.x)()(function(i,s){return function(c){let l;l="function"==typeof i?i:function(){return i};const h=Object.create(c,te.N);return h.source=c,h.subjectFactory=l,h}}(ee)(i))))}bootstrap(o,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof oC?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const h=function(i){return i.isBoundToModule}(l)?void 0:this._injector.get(tl),_=l.create(an.NULL,[],c||l.selector,h),C=_.location.nativeElement,T=_.injector.get(lm,null),S=T&&_.injector.get(qI);return T&&S&&S.registerApplication(C,T),_.onDestroy(()=>{this.detachView(_.hostView),Z_(this.components,_),S&&S.unregisterApplication(C)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;Z_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(k_,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Cn(Zs),Cn(an),Cn(Yr),Cn(Xc),Cn(Rd))},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();function Z_(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class Vx{}class Zx{}const Bx={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let jx=(()=>{class i{constructor(o,c){this._compiler=o,this._config=c||Bx}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[c,l]=o.split("#");return void 0===l&&(l="default"),L(8255)(c).then(h=>h[l]).then(h=>B1(h,c,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[c,l]=o.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),L(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(m=>m[l+h]).then(m=>B1(m,c,l))}}return i.\u0275fac=function(o){return new(o||i)(Cn(am),Cn(Zx,8))},i.\u0275prov=ut({token:i,factory:i.\u0275fac}),i})();function B1(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const N0=function(i){return null},fm=up(null,"core",[{provide:w0,useValue:"unknown"},{provide:YI,deps:[an]},{provide:qI,deps:[]},{provide:FI,deps:[]}]),G1=[{provide:Fd,useClass:Fd,deps:[Zs,an,Yr,Xc,Rd]},{provide:qu,deps:[Zs],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Rd,useClass:Rd,deps:[[new Es,b0]]},{provide:am,useClass:am,deps:[]},kI,{provide:Ad,useFactory:function(){return hC},deps:[]},{provide:Ff,useFactory:function(){return vS},deps:[]},{provide:om,useFactory:function(i){return Qy(i=i||"undefined"!=typeof $localize&&$localize.locale||Ky),i},deps:[[new Tc(om),new Es,new jo]]},{provide:Hu,useValue:"USD"}];let aA=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Cn(Fd))},i.\u0275mod=sa({type:i}),i.\u0275inj=Sr({providers:G1}),i})()},8939:(Je,Ee,L)=>{"use strict";L.d(Ee,{hO:()=>Q,xv:()=>ee,Dh:()=>le,GT:()=>ie,cc:()=>ce,on:()=>F,pX:()=>te});var a=L(3018),X=L(7841),k=L(7823);Je=L.hmd(Je);const ue=["ngOnDestroy"],te=(be,_e,me,Me={})=>new Proxy(be,{get:(Ge,ke)=>me.runOutsideAngular(()=>{var Pt;if(be[ke])return(null===(Pt=null==Me?void 0:Me.spy)||void 0===Pt?void 0:Pt.get)&&Me.spy.get(ke,be[ke]),be[ke];if(ue.indexOf(ke)>-1)return()=>{};const vt=_e.toPromise().then(fn=>{const wt=fn&&fn[ke];return"function"==typeof wt?wt.bind(fn):wt&&wt.then?wt.then(It=>me.run(()=>It)):me.run(()=>wt)});return new Proxy(()=>{},{get:(fn,wt)=>vt[wt],apply:(fn,wt,It)=>vt.then(mt=>{var dt;const Nt=mt&&mt(...It);return(null===(dt=null==Me?void 0:Me.spy)||void 0===dt?void 0:dt.apply)&&Me.spy.apply(ke,It,Nt),Nt})})})}),ie=(be,_e)=>{_e.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Me=>{Object.defineProperty(be.prototype,Me,Object.getOwnPropertyDescriptor(me.prototype||me,Me))})})};class ve{constructor(_e){return _e}}const le=new a.OlP("angularfire2.app.options"),ee=new a.OlP("angularfire2.app.name");function F(be,_e,me){const Ge="object"==typeof me&&me||{};Ge.name=Ge.name||"string"==typeof me&&me||"[DEFAULT]";const Pt=X.Z.apps.filter(vt=>vt&&vt.name===Ge.name)[0]||_e.runOutsideAngular(()=>X.Z.initializeApp(be,Ge));try{JSON.stringify(be)!==JSON.stringify(Pt.options)&&V("error",`${Pt.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new ve(Pt)}const V=(be,..._e)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[be](..._e)},J={provide:ve,useFactory:F,deps:[le,a.R0b,[new a.FiY,ee]]};let Q=(()=>{class be{constructor(me){X.Z.registerVersion("angularfire",k.q4.full,"core"),X.Z.registerVersion("angularfire",k.q4.full,"app-compat"),X.Z.registerVersion("angular",a.q4F.full,me.toString())}static initializeApp(me,Me){return{ngModule:be,providers:[{provide:le,useValue:me},{provide:ee,useValue:Me}]}}}return be.\u0275fac=function(me){return new(me||be)(a.LFG(a.Lbi))},be.\u0275mod=a.oAB({type:be}),be.\u0275inj=a.cJS({providers:[J]}),be})();function ce(be,_e,me,Me,Ge){const[,ke,Pt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===be)||[];if(ke)return function(be,_e){try{return be.toString()===_e.toString()}catch(me){return be===_e}}(Ge,Pt)||(K("error",`${_e} was already initialized on the ${me} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:Ge,was:Pt})),ke;{const vt=Me();return globalThis.\u0275AngularfireInstanceCache.push([be,vt,Ge]),vt}}const fe=!!Je.hot,K=(be,..._e)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[be](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7823:(Je,Ee,L)=>{"use strict";L.d(Ee,{q4:()=>_h,iC:()=>Wi,HU:()=>xi,vb:()=>Cc,JM:()=>bc});var a=L(3018),X=L(2329),k=L(8239),ue=L(8026),te=L(3854),ie=L(3910),ve=L(5422),le=L(6676);const ee="@firebase/installations",F="0.5.5",J=`w:${F}`,Q="FIS_v2",_e=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(E){return E instanceof te.ZR&&E.code.includes("request-failed")}function Me({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ge(E){return{token:E.token,requestStatus:2,expiresIn:mt(E.expiresIn),creationTime:Date.now()}}function ke(E,A){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,k.Z)(function*(E,A){const U=(yield A.json()).error;return _e.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function vt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function fn(E,{refreshToken:A}){const x=vt(E);return x.append("Authorization",function(E){return`${Q} ${E}`}(A)),x}function wt(E){return It.apply(this,arguments)}function It(){return(It=(0,k.Z)(function*(E){const A=yield E();return A.status>=500&&A.status<600?E():A})).apply(this,arguments)}function mt(E){return Number(E.replace("s","000"))}function Nt(E,A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(E,{fid:A}){const x=Me(E),se={method:"POST",headers:vt(E),body:JSON.stringify({fid:A,authVersion:Q,appId:E.appId,sdkVersion:J})},Ae=yield wt(()=>fetch(x,se));if(Ae.ok){const Ze=yield Ae.json();return{fid:Ze.fid||A,registrationStatus:2,refreshToken:Ze.refreshToken,authToken:Ge(Ze.authToken)}}throw yield ke("Create Installation",Ae)})).apply(this,arguments)}function ri(E){return new Promise(A=>{setTimeout(A,E)})}const Wu=/^[cdef][\w-]{21}$/;function ii(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Wu.test(x)?x:""}catch(E){return""}}function si(E){return`${E.appName}!${E.appId}`}const os=new Map;function vo(E,A){const x=si(E);Zn(x,A),function(E,A){const x=(!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=E=>{Zn(E.data.key,E.data.fid)}),Yt);x&&x.postMessage({key:E,fid:A}),0===os.size&&Yt&&(Yt.close(),Yt=null)}(x,A)}function Zn(E,A){const x=os.get(E);if(x)for(const U of x)U(A)}let Yt=null;const De="firebase-installations-store";let ir=null;function Bn(){return ir||(ir=(0,le.openDb)("firebase-installations-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(De)}})),ir}function Zi(E,A){return xt.apply(this,arguments)}function xt(){return(xt=(0,k.Z)(function*(E,A){const x=si(E),Y=(yield Bn()).transaction(De,"readwrite"),se=Y.objectStore(De),Ae=yield se.get(x);return yield se.put(A,x),yield Y.complete,(!Ae||Ae.fid!==A.fid)&&vo(E,A.fid),A})).apply(this,arguments)}function jr(E){return bo.apply(this,arguments)}function bo(){return(bo=(0,k.Z)(function*(E){const A=si(E),U=(yield Bn()).transaction(De,"readwrite");yield U.objectStore(De).delete(A),yield U.complete})).apply(this,arguments)}function vr(E,A){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,k.Z)(function*(E,A){const x=si(E),Y=(yield Bn()).transaction(De,"readwrite"),se=Y.objectStore(De),Ae=yield se.get(x),Ze=A(Ae);return void 0===Ze?yield se.delete(x):yield se.put(Ze,x),yield Y.complete,Ze&&(!Ae||Ae.fid!==Ze.fid)&&vo(E,Ze.fid),Ze})).apply(this,arguments)}function br(E){return oi.apply(this,arguments)}function oi(){return(oi=(0,k.Z)(function*(E){let A;const x=yield vr(E,U=>{const Y=qr(U),se=Qt(E,Y);return A=se.registrationPromise,se.installationEntry});return""===x.fid?{installationEntry:yield A}:{installationEntry:x,registrationPromise:A}})).apply(this,arguments)}function qr(E){return ht(E||{fid:ii(),registrationStatus:0})}function Qt(E,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(_e.create("app-offline"))};const x={fid:A.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(E,A){return Qe.apply(this,arguments)}(E,x)}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Pn(E)}:{installationEntry:A}}function Qe(){return(Qe=(0,k.Z)(function*(E,A){try{return Zi(E,yield Nt(E,A))}catch(x){throw me(x)&&409===x.customData.serverCode?yield jr(E):yield Zi(E,{fid:A.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Pn(E){return as.apply(this,arguments)}function as(){return(as=(0,k.Z)(function*(E){let A=yield Lt(E);for(;1===A.registrationStatus;)yield ri(100),A=yield Lt(E);if(0===A.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield br(E);return U||x}return A})).apply(this,arguments)}function Lt(E){return vr(E,A=>{if(!A)throw _e.create("installation-not-found");return ht(A)})}function ht(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ia(E,A){return $.apply(this,arguments)}function $(){return($=(0,k.Z)(function*({appConfig:E,platformLoggerProvider:A},x){const U=q(E,x),Y=fn(E,x),se=A.getImmediate({optional:!0});se&&Y.append("x-firebase-client",se.getPlatformInfoString());const Ze={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:J}})},je=yield wt(()=>fetch(U,Ze));if(je.ok)return Ge(yield je.json());throw yield ke("Generate Auth Token",je)})).apply(this,arguments)}function q(E,{fid:A}){return`${Me(E)}/${A}/authTokens:generate`}function j(E){return we.apply(this,arguments)}function we(){return(we=(0,k.Z)(function*(E,A=!1){let x;const U=yield vr(E.appConfig,se=>{if(!We(se))throw _e.create("not-registered");const Ae=se.authToken;if(!A&&bt(Ae))return se;if(1===Ae.requestStatus)return x=ne(E,A),se;{if(!navigator.onLine)throw _e.create("app-offline");const Ze=Rt(se);return x=ye(E,Ze),Ze}});return x?yield x:U.authToken})).apply(this,arguments)}function ne(E,A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*(E,A){let x=yield de(E.appConfig);for(;1===x.authToken.requestStatus;)yield ri(100),x=yield de(E.appConfig);const U=x.authToken;return 0===U.requestStatus?j(E,A):U})).apply(this,arguments)}function de(E){return vr(E,A=>{if(!We(A))throw _e.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function ye(E,A){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,k.Z)(function*(E,A){try{const x=yield ia(E,A),U=Object.assign(Object.assign({},A),{authToken:x});return yield Zi(E.appConfig,U),x}catch(x){if(!me(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Zi(E.appConfig,U)}else yield jr(E.appConfig);throw x}})).apply(this,arguments)}function We(E){return void 0!==E&&2===E.registrationStatus}function bt(E){return 2===E.requestStatus&&!function(E){const A=Date.now();return A<E.creationTime||E.creationTime+E.expiresIn<A+36e5}(E)}function Rt(E){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:A})}function Co(){return(Co=(0,k.Z)(function*(E){const A=E,{installationEntry:x,registrationPromise:U}=yield br(A.appConfig);return U?U.catch(console.error):j(A).catch(console.error),x.fid})).apply(this,arguments)}function wo(){return(wo=(0,k.Z)(function*(E,A=!1){const x=E;return yield pl(x.appConfig),(yield j(x,A)).token})).apply(this,arguments)}function pl(E){return ai.apply(this,arguments)}function ai(){return(ai=(0,k.Z)(function*(E){const{registrationPromise:A}=yield br(E);A&&(yield A)})).apply(this,arguments)}function sr(E){return _e.create("missing-app-config-values",{valueName:E})}const Hd="installations";(0,ue._registerComponent)(new ie.wA(Hd,E=>{const A=E.getProvider("app").getImmediate();return{app:A,appConfig:function(E){if(!E||!E.options)throw sr("App Configuration");if(!E.name)throw sr("App Name");const A=["projectId","apiKey","appId"];for(const x of A)if(!E.options[x])throw sr(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(A),platformLoggerProvider:(0,ue._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new ie.wA("installations-internal",E=>{const A=E.getProvider("app").getImmediate(),x=(0,ue._getProvider)(A,Hd).getImmediate();return{getId:()=>function(E){return Co.apply(this,arguments)}(x),getToken:Y=>function(E){return wo.apply(this,arguments)}(x,Y)}},"PRIVATE")),(0,ue.registerVersion)(ee,F),(0,ue.registerVersion)(ee,F,"esm2017");const pn="@firebase/remote-config",Sn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yp{constructor(A,x,U,Y){this.client=A,this.storage=x,this.storageCache=U,this.logger=Y}isCachedDataFresh(A,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,Y=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Y}.`),Y}fetch(A){var x=this;return(0,k.Z)(function*(){const[U,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(A.cacheMaxAgeMillis,U))return Y;A.eTag=Y&&Y.eTag;const se=yield x.client.fetch(A),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Ae),se})()}}function ji(E=navigator){return E.languages&&E.languages[0]||E.language}class gn{constructor(A,x,U,Y,se,Ae){this.firebaseInstallations=A,this.sdkVersion=x,this.namespace=U,this.projectId=Y,this.apiKey=se,this.appId=Ae}fetch(A){var x=this;return(0,k.Z)(function*(){const[U,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},je={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:Y,app_id:x.appId,language_code:ji()},Ut={method:"POST",headers:Ze,body:JSON.stringify(je)},Gt=fetch(Ae,Ut),Wn=new Promise((Cs,Ea)=>{A.signal.addEventListener(()=>{const pu=new Error("The operation was aborted.");pu.name="AbortError",Ea(pu)})});let cr;try{yield Promise.race([Gt,Wn]),cr=yield Gt}catch(Cs){let Ea="fetch-client-network";throw"AbortError"===Cs.name&&(Ea="fetch-timeout"),Sn.create(Ea,{originalErrorMessage:Cs.message})}let Kn=cr.status;const bs=cr.headers.get("ETag")||void 0;let Vo,Ki;if(200===cr.status){let Cs;try{Cs=yield cr.json()}catch(Ea){throw Sn.create("fetch-client-parse",{originalErrorMessage:Ea.message})}Vo=Cs.entries,Ki=Cs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ki?Kn=500:"NO_CHANGE"===Ki?Kn=304:("NO_TEMPLATE"===Ki||"EMPTY_CONFIG"===Ki)&&(Vo={}),304!==Kn&&200!==Kn)throw Sn.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:bs,config:Vo}})()}}class la{constructor(A,x){this.client=A,this.storage=x}fetch(A){var x=this;return(0,k.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:x,backoffCount:U}){var Y=this;return(0,k.Z)(function*(){yield function(E,A){return new Promise((x,U)=>{const Y=Math.max(A-Date.now(),0),se=setTimeout(x,Y);E.addEventListener(()=>{clearTimeout(se),U(Sn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,x);try{const se=yield Y.client.fetch(A);return yield Y.storage.deleteThrottleMetadata(),se}catch(se){if(!function(E){if(!(E instanceof te.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(se))throw se;const Ae={throttleEndTimeMillis:Date.now()+(0,te.$s)(U),backoffCount:U+1};return yield Y.storage.setThrottleMetadata(Ae),Y.attemptFetch(A,Ae)}})()}}class Tm{constructor(A,x,U,Y,se){this.app=A,this._client=x,this._storageCache=U,this._storage=Y,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function da(E,A){const x=E.target.error||void 0;return Sn.create(A,{originalErrorMessage:x&&x.message})}const Ao="app_namespace_store";class Im{constructor(A,x,U,Y=function(){return new Promise((E,A)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{A(da(U,"storage-open"))},x.onsuccess=U=>{E(U.target.result)},x.onupgradeneeded=U=>{const Y=U.target.result;switch(U.oldVersion){case 0:Y.createObjectStore(Ao,{keyPath:"compositeKey"})}}}catch(x){A(Sn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=A,this.appName=x,this.namespace=U,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var x=this;return(0,k.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,se)=>{const Ze=U.transaction([Ao],"readonly").objectStore(Ao),je=x.createCompositeKey(A);try{const Ut=Ze.get(je);Ut.onerror=Gt=>{se(da(Gt,"storage-get"))},Ut.onsuccess=Gt=>{const Wn=Gt.target.result;Y(Wn?Wn.value:void 0)}}catch(Ut){se(Sn.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(A,x){var U=this;return(0,k.Z)(function*(){const Y=yield U.openDbPromise;return new Promise((se,Ae)=>{const je=Y.transaction([Ao],"readwrite").objectStore(Ao),Ut=U.createCompositeKey(A);try{const Gt=je.put({compositeKey:Ut,value:x});Gt.onerror=Wn=>{Ae(da(Wn,"storage-set"))},Gt.onsuccess=()=>{se()}}catch(Gt){Ae(Sn.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(A){var x=this;return(0,k.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,se)=>{const Ze=U.transaction([Ao],"readwrite").objectStore(Ao),je=x.createCompositeKey(A);try{const Ut=Ze.delete(je);Ut.onerror=Gt=>{se(da(Gt,"storage-delete"))},Ut.onsuccess=()=>{Y()}}catch(Ut){se(Sn.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Yd{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,k.Z)(function*(){const x=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),Y=A.storage.getActiveConfig(),se=yield x;se&&(A.lastFetchStatus=se);const Ae=yield U;Ae&&(A.lastSuccessfulFetchTimestampMillis=Ae);const Ze=yield Y;Ze&&(A.activeConfig=Ze)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function yl(){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,k.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ie.wA("remote-config",function(A,{instanceIdentifier:x}){const U=A.getProvider("app").getImmediate(),Y=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Sn.create("registration-window");if(!(0,te.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:se,apiKey:Ae,appId:Ze}=U.options;if(!se)throw Sn.create("registration-project-id");if(!Ae)throw Sn.create("registration-api-key");if(!Ze)throw Sn.create("registration-app-id");const je=new Im(Ze,U.name,x=x||"firebase"),Ut=new Yd(je),Gt=new ve.Yd(pn);Gt.logLevel=ve.in.ERROR;const Wn=new gn(Y,ue.SDK_VERSION,x,se,Ae,Ze),cr=new la(Wn,je),Kn=new yp(cr,je,Ut,Gt),bs=new Tm(U,Kn,Ut,je,Gt);return function(E){const A=(0,te.m9)(E);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(bs),bs},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(pn,"0.3.4"),(0,ue.registerVersion)(pn,"0.3.4","esm2017");const Xd="/firebase-messaging-sw.js",Dm="/firebase-cloud-messaging-push-scope",Ha="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ga="google.c.a.c_id",ha="google.c.a.c_l",li="google.c.a.ts",_l="google.c.a.e";var mn=(()=>{return(E=mn||(mn={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",mn;var E})();function qi(E){const A=new Uint8Array(E);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yu(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),Y=new Uint8Array(U.length);for(let se=0;se<U.length;++se)Y[se]=U.charCodeAt(se);return Y}const za="fcm_token_details_db",vp="fcm_token_object_Store";function vl(E){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,k.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(za))return null;let A=null;return(yield(0,le.openDb)(za,5,function(){var U=(0,k.Z)(function*(Y){var se;if(Y.oldVersion<2||!Y.objectStoreNames.contains(vp))return;const Ae=Y.transaction.objectStore(vp),Ze=yield Ae.index("fcmSenderId").get(E);if(yield Ae.clear(),Ze)if(2===Y.oldVersion){const je=Ze;if(!je.auth||!je.p256dh||!je.endpoint)return;A={token:je.fcmToken,createTime:null!==(se=je.createTime)&&void 0!==se?se:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:qi(je.vapidKey)}}}else if(3===Y.oldVersion){const je=Ze;A={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:qi(je.auth),p256dh:qi(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:qi(je.vapidKey)}}}else if(4===Y.oldVersion){const je=Ze;A={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:qi(je.auth),p256dh:qi(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:qi(je.vapidKey)}}}});return function(Y){return U.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(za),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),bp(A)?A:null})).apply(this,arguments)}function bp(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:A}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Hn="firebase-messaging-store";let Ka=null;function Qs(){return Ka||(Ka=(0,le.openDb)("firebase-messaging-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(Hn)}})),Ka}function Ya(E){return ls.apply(this,arguments)}function ls(){return(ls=(0,k.Z)(function*(E){const A=Qa(E),U=yield(yield Qs()).transaction(Hn).objectStore(Hn).get(A);if(U)return U;{const Y=yield vl(E.appConfig.senderId);if(Y)return yield Hr(E,Y),Y}})).apply(this,arguments)}function Hr(E,A){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(E,A){const x=Qa(E),Y=(yield Qs()).transaction(Hn,"readwrite");return yield Y.objectStore(Hn).put(A,x),yield Y.complete,A})).apply(this,arguments)}function en(E){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,k.Z)(function*(E){const A=Qa(E),U=(yield Qs()).transaction(Hn,"readwrite");yield U.objectStore(Hn).delete(A),yield U.complete})).apply(this,arguments)}function Qa({appConfig:E}){return E.appId}const St=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pa(E,A){return rh.apply(this,arguments)}function rh(){return(rh=(0,k.Z)(function*(E,A){const x=yield or(E),U=ga(A),Y={method:"POST",headers:x,body:JSON.stringify(U)};let se;try{se=yield(yield fetch(Rn(E.appConfig),Y)).json()}catch(Ae){throw St.create("token-subscribe-failed",{errorInfo:Ae})}if(se.error)throw St.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw St.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function So(E,A){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(E,A){const x=yield or(E),U=ga(A.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(U)};let se;try{se=yield(yield fetch(`${Rn(E.appConfig)}/${A.token}`,Y)).json()}catch(Ae){throw St.create("token-update-failed",{errorInfo:Ae})}if(se.error)throw St.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw St.create("token-update-no-token");return se.token})).apply(this,arguments)}function ih(E,A){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,k.Z)(function*(E,A){const U={method:"DELETE",headers:yield or(E)};try{const se=yield(yield fetch(`${Rn(E.appConfig)}/${A}`,U)).json();if(se.error)throw St.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(Y){throw St.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Rn({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function or(E){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,k.Z)(function*({appConfig:E,installations:A}){const x=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ga({p256dh:E,auth:A,endpoint:x,vapidKey:U}){const Y={web:{endpoint:x,auth:A,p256dh:E}};return U!==Ha&&(Y.web.applicationPubKey=U),Y}const Ja=6048e5;function ds(E){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,k.Z)(function*(E){const A=yield ec(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:A.endpoint,auth:qi(A.getKey("auth")),p256dh:qi(A.getKey("p256dh"))},U=yield Ya(E.firebaseDependencies);if(U){if(bl(U.subscriptionOptions,x))return Date.now()>=U.createTime+Ja?sh(E,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield ih(E.firebaseDependencies,U.token)}catch(Y){console.warn(Y)}return Js(E.firebaseDependencies,x)}return Js(E.firebaseDependencies,x)})).apply(this,arguments)}function Xu(E){return it.apply(this,arguments)}function it(){return(it=(0,k.Z)(function*(E){const A=yield Ya(E.firebaseDependencies);A&&(yield ih(E.firebaseDependencies,A.token),yield en(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function sh(E,A){return hs.apply(this,arguments)}function hs(){return(hs=(0,k.Z)(function*(E,A){try{const x=yield So(E.firebaseDependencies,A),U=Object.assign(Object.assign({},A),{token:x,createTime:Date.now()});return yield Hr(E.firebaseDependencies,U),x}catch(x){throw yield Xu(E),x}})).apply(this,arguments)}function Js(E,A){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,k.Z)(function*(E,A){const U={token:yield pa(E,A),createTime:Date.now(),subscriptionOptions:A};return yield Hr(E,U),U.token})).apply(this,arguments)}function ec(E,A){return fs.apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*(E,A){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yu(A)})})).apply(this,arguments)}function bl(E,A){return A.vapidKey===E.vapidKey&&A.endpoint===E.endpoint&&A.auth===E.auth&&A.p256dh===E.p256dh}function Ie(E){const A={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function(E,A){if(!A.notification)return;E.notification={};const x=A.notification.title;x&&(E.notification.title=x);const U=A.notification.body;U&&(E.notification.body=U);const Y=A.notification.image;Y&&(E.notification.image=Y)}(A,E),function(E,A){!A.data||(E.data=A.data)}(A,E),function(E,A){if(!A.fcmOptions)return;E.fcmOptions={};const x=A.fcmOptions.link;x&&(E.fcmOptions.link=x);const U=A.fcmOptions.analytics_label;U&&(E.fcmOptions.analyticsLabel=U)}(A,E),A}function tc(E){return"object"==typeof E&&!!E&&Ga in E}function xo(E,A){const x=[];for(let U=0;U<E.length;U++)x.push(E.charAt(U)),U<A.length&&x.push(A.charAt(U));return x.join("")}function tu(E){return St.create("missing-app-config-values",{valueName:E})}xo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xs{constructor(A,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function(E){if(!E||!E.options)throw tu("App Configuration Object");if(!E.name)throw tu("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const U of A)if(!x[U])throw tu(U);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Y,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function oh(E){return nc.apply(this,arguments)}function nc(){return(nc=(0,k.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Xd,{scope:Dm}),E.swRegistration.update().catch(()=>{})}catch(A){throw St.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function ps(E,A){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,k.Z)(function*(E,A){if(!A&&!E.swRegistration&&(yield oh(E)),A||!E.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");E.swRegistration=A}})).apply(this,arguments)}function Gn(E,A){return hi.apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*(E,A){A?E.vapidKey=A:E.vapidKey||(E.vapidKey=Ha)})).apply(this,arguments)}function eo(){return(eo=(0,k.Z)(function*(E,A){if(!navigator)throw St.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw St.create("permission-blocked");return yield Gn(E,null==A?void 0:A.vapidKey),yield ps(E,null==A?void 0:A.serviceWorkerRegistration),ds(E)})).apply(this,arguments)}function Si(E,A,x){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,k.Z)(function*(E,A,x){const U=rc(A);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Ga],message_name:x[ha],message_time:x[li],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rc(E){switch(E){case mn.NOTIFICATION_CLICKED:return"notification_open";case mn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ya(){return(ya=(0,k.Z)(function*(E,A){const x=A.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===mn.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ie(x)):E.onMessageHandler.next(Ie(x)));const U=x.data;tc(U)&&"1"===U[_l]&&(yield Si(E,x.messageType,U))})).apply(this,arguments)}const sc="@firebase/messaging";function uh(){return gs.apply(this,arguments)}function gs(){return(gs=(0,k.Z)(function*(){try{yield(0,te.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ie.wA("messaging",E=>{const A=new Xs(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(E,A){return ya.apply(this,arguments)}(A,x)),A},"PUBLIC")),(0,ue._registerComponent)(new ie.wA("messaging-internal",E=>{const A=E.getProvider("messaging").getImmediate();return{getToken:U=>function(E,A){return eo.apply(this,arguments)}(A,U)}},"PRIVATE")),(0,ue.registerVersion)(sc,"0.9.9"),(0,ue.registerVersion)(sc,"0.9.9","esm2017");const Gr="analytics",un="firebase_id",iu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dh="https://www.googletagmanager.com/gtag/js",Mn=new ve.Yd("@firebase/analytics");function hh(E){return Promise.all(E.map(A=>A.catch(x=>x)))}function cc(E,A){const x=document.createElement("script");x.src=`${dh}?l=${E}&id=${A}`,x.async=!0,document.head.appendChild(x)}function ou(E,A,x,U,Y,se){return lc.apply(this,arguments)}function lc(){return(lc=(0,k.Z)(function*(E,A,x,U,Y,se){const Ae=U[Y];try{if(Ae)yield A[Ae];else{const je=(yield hh(x)).find(Ut=>Ut.measurementId===Y);je&&(yield A[je.appId])}}catch(Ze){Mn.error(Ze)}E("config",Y,se)})).apply(this,arguments)}function Oo(E,A,x,U,Y){return dc.apply(this,arguments)}function dc(){return(dc=(0,k.Z)(function*(E,A,x,U,Y){try{let se=[];if(Y&&Y.send_to){let Ae=Y.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Ze=yield hh(x);for(const je of Ae){const Ut=Ze.find(Wn=>Wn.measurementId===je),Gt=Ut&&A[Ut.appId];if(!Gt){se=[];break}se.push(Gt)}}0===se.length&&(se=Object.values(A)),yield Promise.all(se),E("event",U,Y||{})}catch(se){Mn.error(se)}})).apply(this,arguments)}function Mm(){const E=window.document.getElementsByTagName("script");for(const A of Object.values(E))if(A.src&&A.src.includes(dh))return A;return null}const ar=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Om=new class{constructor(A={},x=1e3){this.throttleMetadata=A,this.intervalMillis=x}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,x){this.throttleMetadata[A]=x}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function dv(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function uu(E){return hc.apply(this,arguments)}function hc(){return(hc=(0,k.Z)(function*(E){var A;const{appId:x,apiKey:U}=E,Y={method:"GET",headers:dv(U)},se=iu.replace("{app-id}",x),Ae=yield fetch(se,Y);if(200!==Ae.status&&304!==Ae.status){let Ze="";try{const je=yield Ae.json();(null===(A=je.error)||void 0===A?void 0:A.message)&&(Ze=je.error.message)}catch(je){}throw ar.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Ze})}return Ae.json()})).apply(this,arguments)}function fc(E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,k.Z)(function*(E,A=Om,x){const{appId:U,apiKey:Y,measurementId:se}=E.options;if(!U)throw ar.create("no-app-id");if(!Y){if(se)return{measurementId:se,appId:U};throw ar.create("no-api-key")}const Ae=A.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new lu;return setTimeout((0,k.Z)(function*(){Ze.abort()}),void 0!==x?x:6e4),pc({appId:U,apiKey:Y,measurementId:se},Ae,Ze,A)})).apply(this,arguments)}function pc(E,A,x){return gc.apply(this,arguments)}function gc(){return(gc=(0,k.Z)(function*(E,{throttleEndTimeMillis:A,backoffCount:x},U,Y=Om){const{appId:se,measurementId:Ae}=E;try{yield cu(U,A)}catch(Ze){if(Ae)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:se,measurementId:Ae};throw Ze}try{const Ze=yield uu(E);return Y.deleteThrottleMetadata(se),Ze}catch(Ze){if(!Ap(Ze)){if(Y.deleteThrottleMetadata(se),Ae)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:se,measurementId:Ae};throw Ze}const je=503===Number(Ze.customData.httpStatus)?(0,te.$s)(x,Y.intervalMillis,30):(0,te.$s)(x,Y.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+je,backoffCount:x+1};return Y.setThrottleMetadata(se,Ut),Mn.debug(`Calling attemptFetch again in ${je} millis`),pc(E,Ut,U,Y)}})).apply(this,arguments)}function cu(E,A){return new Promise((x,U)=>{const Y=Math.max(A-Date.now(),0),se=setTimeout(x,Y);E.addEventListener(()=>{clearTimeout(se),U(ar.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Ap(E){if(!(E instanceof te.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}class lu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function mc(){return No.apply(this,arguments)}function No(){return(No=(0,k.Z)(function*(){if(!(0,te.hl)())return Mn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(E){return Mn.warn(ar.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(E,A,x,U,Y,se,Ae){var Ze;const je=fc(E);je.then(Kn=>{x[Kn.measurementId]=Kn.appId,E.options.measurementId&&Kn.measurementId!==E.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>Mn.error(Kn)),A.push(je);const Ut=mc().then(Kn=>{if(Kn)return U.getId()}),[Gt,Wn]=yield Promise.all([je,Ut]);Mm()||cc(se,Gt.measurementId),Y("js",new Date);const cr=null!==(Ze=null==Ae?void 0:Ae.config)&&void 0!==Ze?Ze:{};return cr.origin="firebase",cr.update=!0,null!=Wn&&(cr[un]=Wn),Y("config",Gt.measurementId,cr),Gt.measurementId})).apply(this,arguments)}class zr{constructor(A){this.app=A}_delete(){return delete Ht[this.app.options.appId],Promise.resolve()}}let Ht={},rt=[];const Wr={};let du,zn,ba="dataLayer",Kr=!1;function fh(E,A,x){!function(){const E=[];if((0,te.ru)()&&E.push("This is a browser extension environment."),(0,te.zI)()||E.push("Cookies are not available."),E.length>0){const A=E.map((U,Y)=>`(${Y+1}) ${U}`).join(" "),x=ar.create("invalid-analytics-context",{errorInfo:A});Mn.warn(x.message)}}();const U=E.options.appId;if(!U)throw ar.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ar.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ht[U])throw ar.create("already-exists",{id:U});if(!Kr){!function(E){let A=[];Array.isArray(window[E])?A=window[E]:window[E]=A}(ba);const{wrappedGtag:se,gtagCore:Ae}=function(E,A,x,U,Y){let se=function(...Ae){window[U].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(se=window[Y]),window[Y]=function(E,A,x,U){function se(){return(se=(0,k.Z)(function*(Ae,Ze,je){try{"event"===Ae?yield Oo(E,A,x,Ze,je):"config"===Ae?yield ou(E,A,x,U,Ze,je):E("set",Ze)}catch(Ut){Mn.error(Ut)}})).apply(this,arguments)}return function(Ae,Ze,je){return se.apply(this,arguments)}}(se,E,A,x),{gtagCore:se,wrappedGtag:window[Y]}}(Ht,rt,Wr,ba,"gtag");zn=se,du=Ae,Kr=!0}return Ht[U]=function(E,A,x,U,Y,se,Ae){return va.apply(this,arguments)}(E,rt,Wr,A,du,ba,x),new zr(E)}function wl(){return(wl=(0,k.Z)(function*(E,A,x,U,Y){if(Y&&Y.global)E("event",x,U);else{const se=yield A;E("event",x,Object.assign(Object.assign({},U),{send_to:se}))}})).apply(this,arguments)}function ur(){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(E){return!1}})).apply(this,arguments)}const mh="@firebase/analytics";(0,ue._registerComponent)(new ie.wA(Gr,(A,{options:x})=>fh(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue._registerComponent)(new ie.wA("analytics-internal",function(A){try{const x=A.getProvider(Gr).getImmediate();return{logEvent:(U,Y,se)=>function(E,A,x,U){E=(0,te.m9)(E),function(E,A,x,U,Y){return wl.apply(this,arguments)}(zn,Ht[E.app.options.appId],A,x,U).catch(Y=>Mn.error(Y))}(x,U,Y,se)}}catch(x){throw ar.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.registerVersion)(mh,"0.7.5"),(0,ue.registerVersion)(mh,"0.7.5","esm2017");var yh=L(7771),tn=L(3637),xp=L(3342),hu=L(3101),_c=L(309);const _h=new a.GfV("7.2.1"),vh="__angularfire_symbol__analyticsIsSupportedValue",fi="__angularfire_symbol__analyticsIsSupported",Al="__angularfire_symbol__remoteConfigIsSupportedValue",bh="__angularfire_symbol__remoteConfigIsSupported",no="__angularfire_symbol__messagingIsSupportedValue",fu="__angularfire_symbol__messagingIsSupported";function bc(E,A,x){if(A){if(1===A.length)return A[0];const se=A.filter(Ae=>Ae.app===x);if(1===se.length)return se[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[fi]||(globalThis[fi]=ur().then(E=>globalThis[vh]=E).catch(()=>globalThis[vh]=!1)),globalThis[fu]||(globalThis[fu]=uh().then(E=>globalThis[no]=E).catch(()=>globalThis[no]=!1)),globalThis[bh]||(globalThis[bh]=yl().then(E=>globalThis[Al]=E).catch(()=>globalThis[Al]=!1));const Cc=(E,A)=>{const x=A?[A]:(0,X.C6)(),U=[];return x.forEach(Y=>{Y.container.getProvider(E).instances.forEach(Ae=>{U.includes(Ae)||U.push(Ae)})}),U};function wa(){}class wh{constructor(A,x=yh.N){this.zone=A,this.delegate=x}now(){return this.delegate.now()}schedule(A,x,U){const Y=this.zone;return this.delegate.schedule(function(Ae){Y.runGuarded(()=>{A.apply(this,[Ae])})},x,U)}}class pi{constructor(A){this.zone=A,this.task=null}call(A,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wa,{},wa,wa)),x.pipe((0,xp.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xi=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new wh(Zone.current)),this.insideAngular=x.run(()=>new wh(Zone.current,tn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Oi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Wi(E){return Oi(),function(E){return function(x){return(x=x.lift(new pi(E.ngZone))).pipe((0,hu.R)(E.outsideAngular),(0,_c.QV)(E.insideAngular))}}(Oi())(E)}},3854:(Je,Ee,L)=>{"use strict";L.d(Ee,{BH:()=>Q,LL:()=>Ke,ZR:()=>Nt,zI:()=>It,US:()=>ie,tV:()=>ee,h$:()=>ve,$s:()=>Lt,r3:()=>on,Sg:()=>ce,ne:()=>ir,vZ:()=>Yt,ZB:()=>V,pd:()=>_r,m9:()=>ia,z$:()=>Te,jU:()=>be,ru:()=>_e,d:()=>Me,xb:()=>Zn,w1:()=>Ge,hl:()=>fn,uI:()=>fe,UG:()=>K,b$:()=>me,G6:()=>vt,Mn:()=>ke,xO:()=>ja,zd:()=>Sr,eu:()=>wt});const ue=function($){const q=[];let j=0;for(let we=0;we<$.length;we++){let ne=$.charCodeAt(we);ne<128?q[j++]=ne:ne<2048?(q[j++]=ne>>6|192,q[j++]=63&ne|128):55296==(64512&ne)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(ne=65536+((1023&ne)<<10)+(1023&$.charCodeAt(++we)),q[j++]=ne>>18|240,q[j++]=ne>>12&63|128,q[j++]=ne>>6&63|128,q[j++]=63&ne|128):(q[j++]=ne>>12|224,q[j++]=ne>>6&63|128,q[j++]=63&ne|128)}return q},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,q){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ne=0;ne<$.length;ne+=3){const Ve=$[ne],de=ne+1<$.length,ye=de?$[ne+1]:0,Fe=ne+2<$.length,We=Fe?$[ne+2]:0;let Rt=(15&ye)<<2|We>>6,Dn=63&We;Fe||(Dn=64,de||(Rt=64)),we.push(j[Ve>>2],j[(3&Ve)<<4|ye>>4],j[Rt],j[Dn])}return we.join("")},encodeString($,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa($):this.encodeByteArray(ue($),q)},decodeString($,q){return this.HAS_NATIVE_SUPPORT&&!q?atob($):function($){const q=[];let j=0,we=0;for(;j<$.length;){const ne=$[j++];if(ne<128)q[we++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ve=$[j++];q[we++]=String.fromCharCode((31&ne)<<6|63&Ve)}else if(ne>239&&ne<365){const Fe=((7&ne)<<18|(63&$[j++])<<12|(63&$[j++])<<6|63&$[j++])-65536;q[we++]=String.fromCharCode(55296+(Fe>>10)),q[we++]=String.fromCharCode(56320+(1023&Fe))}else{const Ve=$[j++],de=$[j++];q[we++]=String.fromCharCode((15&ne)<<12|(63&Ve)<<6|63&de)}}return q.join("")}(this.decodeStringToByteArray($,q))},decodeStringToByteArray($,q){this.init_();const j=q?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ne=0;ne<$.length;){const Ve=j[$.charAt(ne++)],ye=ne<$.length?j[$.charAt(ne)]:0;++ne;const We=ne<$.length?j[$.charAt(ne)]:64;++ne;const nt=ne<$.length?j[$.charAt(ne)]:64;if(++ne,null==Ve||null==ye||null==We||null==nt)throw Error();we.push(Ve<<2|ye>>4),64!==We&&(we.push(ye<<4&240|We>>2),64!==nt&&we.push(We<<6&192|nt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},ve=function($){const q=ue($);return ie.encodeByteArray(q,!0)},le=function($){return ve($).replace(/\./g,"")},ee=function($){try{return ie.decodeString($,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function V($,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return q}for(const j in q)!q.hasOwnProperty(j)||!J(j)||($[j]=V($[j],q[j]));return $}function J($){return"__proto__"!==$}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,j)=>{this.resolve=q,this.reject=j})}wrapCallback(q){return(j,we)=>{j?this.reject(j):this.resolve(we),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(j):q(j,we))}}}function ce($,q){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=q||"demo-project",ne=$.iat||0,Ve=$.sub||$.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ne,exp:ne+3600,auth_time:ne,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},$);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(de)),""].join(".")}function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function be(){return"object"==typeof self&&self.self===self}function _e(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return Te().indexOf("Electron/")>=0}function Ge(){const $=Te();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ke(){return Te().indexOf("MSAppHost/")>=0}function vt(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fn(){return"object"==typeof indexedDB}function wt(){return new Promise(($,q)=>{try{let j=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(we);ne.onsuccess=()=>{ne.result.close(),j||self.indexedDB.deleteDatabase(we),$(!0)},ne.onupgradeneeded=()=>{j=!1},ne.onerror=()=>{var Ve;q((null===(Ve=ne.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(j){q(j)}})}function It(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Nt extends Error{constructor(q,j,we){super(j),this.code=q,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(q,j,we){this.service=q,this.serviceName=j,this.errors=we}create(q,...j){const we=j[0]||{},ne=`${this.service}/${q}`,Ve=this.errors[q],de=Ve?function($,q){return $.replace(Hs,(j,we)=>{const ne=q[we];return null!=ne?String(ne):`<${we}?>`})}(Ve,we):"Error";return new Nt(ne,`${this.serviceName}: ${de} (${ne}).`,we)}}const Hs=/\{\$([^}]+)}/g;function on($,q){return Object.prototype.hasOwnProperty.call($,q)}function Zn($){for(const q in $)if(Object.prototype.hasOwnProperty.call($,q))return!1;return!0}function Yt($,q){if($===q)return!0;const j=Object.keys($),we=Object.keys(q);for(const ne of j){if(!we.includes(ne))return!1;const Ve=$[ne],de=q[ne];if(ut(Ve)&&ut(de)){if(!Yt(Ve,de))return!1}else if(Ve!==de)return!1}for(const ne of we)if(!j.includes(ne))return!1;return!0}function ut($){return null!==$&&"object"==typeof $}function ja($){const q=[];for(const[j,we]of Object.entries($))Array.isArray(we)?we.forEach(ne=>{q.push(encodeURIComponent(j)+"="+encodeURIComponent(ne))}):q.push(encodeURIComponent(j)+"="+encodeURIComponent(we));return q.length?"&"+q.join("&"):""}function Sr($){const q={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ne,Ve]=we.split("=");q[decodeURIComponent(ne)]=decodeURIComponent(Ve)}}),q}function _r($){const q=$.indexOf("?");if(!q)return"";const j=$.indexOf("#",q);return $.substring(q,j>0?j:void 0)}function ir($,q){const j=new Bn($,q);return j.subscribe.bind(j)}class Bn{constructor(q,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{q(this)}).catch(we=>{this.error(we)})}next(q){this.forEachObserver(j=>{j.next(q)})}error(q){this.forEachObserver(j=>{j.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,j,we){let ne;if(void 0===q&&void 0===j&&void 0===we)throw new Error("Missing Observer.");ne=function($,q){if("object"!=typeof $||null===$)return!1;for(const j of["next","error","complete"])if(j in $&&"function"==typeof $[j])return!0;return!1}(q)?q:{next:q,error:j,complete:we},void 0===ne.next&&(ne.next=jr),void 0===ne.error&&(ne.error=jr),void 0===ne.complete&&(ne.complete=jr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(de){}}),this.observers.push(ne),Ve}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,q)}sendOne(q,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{j(this.observers[q])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jr(){}function Lt($,q=1e3,j=2){const we=q*Math.pow(j,$),ne=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+ne)}function ia($){return $&&$._delegate?$._delegate:$}},2329:(Je,Ee,L)=>{"use strict";L.d(Ee,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=L(8026);(0,a.registerVersion)("firebase","9.6.8","app")},7841:(Je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>a.Z});var a=L(3394);a.Z.registerVersion("firebase","9.6.8","app-compat")},8426:(Je,Ee,L)=>{"use strict";L.r(Ee);var a=L(8239),X=L(3394),k=L(3854),ue=L(8026);function le(y,f){var g={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&f.indexOf(b)<0&&(g[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(b=Object.getOwnPropertySymbols(y);I<b.length;I++)f.indexOf(b[I])<0&&Object.prototype.propertyIsEnumerable.call(y,b[I])&&(g[b[I]]=y[b[I]])}return g}var Nt=L(5422),Ke=L(3910);const os=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},vo=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},on=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zn=new Nt.Yd("@firebase/auth");function Gs(y,...f){Zn.logLevel<=Nt.in.ERROR&&Zn.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function Yt(y,...f){throw _r(y,...f)}function ut(y,...f){return _r(y,...f)}function ja(y,f,g){const b=Object.assign(Object.assign({},vo()),{[f]:g});return new k.LL("auth","Firebase",b).create(f,{appName:y.name})}function Sr(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Yt(y,"argument-error"),ja(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _r(y,...f){if("string"!=typeof y){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return on.create(y,...f)}function De(y,f,...g){if(!y)throw _r(f,...g)}function ir(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Gs(f),new Error(f)}function Bn(y,f){y||ir(f)}const Zi=new Map;function xt(y){Bn(y instanceof Function,"Expected a class definition");let f=Zi.get(y);return f?(Bn(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Zi.set(y,f),f)}function vr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ye(){return"http:"===br()||"https:"===br()}function br(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Qt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Bn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xe(y,f){Bn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Qe{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},as=new Qt(3e4,6e4);function Lt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function ht(y,f,g,b){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(y,f,g,b,I={}){return ia(y,I,(0,a.Z)(function*(){let M={},B={};b&&("GET"===f?B=b:M={body:JSON.stringify(b)});const re=(0,k.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Pe=yield y._getAdditionalHeaders();return Pe["Content-Type"]="application/json",y.languageCode&&(Pe["X-Firebase-Locale"]=y.languageCode),Qe.fetch()(we(y,y.config.apiHost,g,re),Object.assign({method:f,headers:Pe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ia(y,f,g){return $.apply(this,arguments)}function $(){return($=(0,a.Z)(function*(y,f,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Pn),f);try{const I=new ne(y),M=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw Ve(y,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const re=M.ok?B.errorMessage:B.error.message,[Pe,xe]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Ve(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Pe)throw Ve(y,"email-already-in-use",B);const ze=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw ja(y,ze,xe);Yt(y,ze)}}catch(I){if(I instanceof k.ZR)throw I;Yt(y,"network-request-failed")}})).apply(this,arguments)}function q(y,f,g,b){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(function*(y,f,g,b,I={}){const M=yield ht(y,f,g,b,I);return"mfaPendingCredential"in M&&Yt(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function we(y,f,g,b){const I=`${f}${g}?${b}`;return y.config.emulator?Xe(y.config,I):`${y.config.apiScheme}://${I}`}class ne{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ut(this.auth,"network-request-failed")),as.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(y,f,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=ut(y,f,b);return I.customData._tokenResponse=g,I}function ye(){return(ye=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Fe(y,f){return We.apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bt(y,f){return nt.apply(this,arguments)}function nt(){return(nt=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Rt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Co(){return(Co=(0,a.Z)(function*(y,f=!1){const g=(0,k.m9)(y),b=yield g.getIdToken(f),I=wo(b);De(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const M="object"==typeof I.firebase?I.firebase:void 0,B=null==M?void 0:M.sign_in_provider;return{claims:I,token:b,authTime:Rt(fl(I.auth_time)),issuedAtTime:Rt(fl(I.iat)),expirationTime:Rt(fl(I.exp)),signInProvider:B||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function fl(y){return 1e3*Number(y)}function wo(y){const[f,g,b]=y.split(".");if(void 0===f||void 0===g||void 0===b)return Gs("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,k.tV)(g);return I?JSON.parse(I):(Gs("Failed to decode base64 JWT payload"),null)}catch(I){return Gs("Caught error parsing JWT payload as JSON",I),null}}function ai(y,f){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof k.ZR&&Eo(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Eo({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class oa{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class $d{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rt(this.lastLoginAt),this.creationTime=Rt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zs(y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(y){var f;const g=y.auth,b=yield y.getIdToken(),I=yield ai(y,bt(g,{idToken:b}));De(null==I?void 0:I.users.length,g,"internal-error");const M=I.users[0];y._notifyReloadListener(M);const B=(null===(f=M.providerUserInfo)||void 0===f?void 0:f.length)?Hd(M.providerUserInfo):[],re=sr(y.providerData,B),ze=!!y.isAnonymous&&!(y.email&&M.passwordHash||(null==re?void 0:re.length)),qe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:re,metadata:new $d(M.createdAt,M.lastLoginAt),isAnonymous:ze};Object.assign(y,qe)})).apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(y){const f=(0,k.m9)(y);yield zs(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function sr(y,f){return[...y.filter(b=>!f.some(I=>I.providerId===b.providerId)),...f]}function Hd(y){return y.map(f=>{var{providerId:g}=f,b=le(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Le(){return(Le=(0,a.Z)(function*(y,f){const g=yield ia(y,{},(0,a.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:M}=y.config,B=we(y,I,"/v1/token",`key=${M}`),re=yield y._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(B,{method:"POST",headers:re,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){De(f.idToken,"internal-error"),De(void 0!==f.idToken,"internal-error"),De(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(y){const f=wo(y);return De(f,"internal-error"),De(void 0!==f.exp,"internal-error"),De(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,a.Z)(function*(){return De(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,a.Z)(function*(){const{accessToken:I,refreshToken:M,expiresIn:B}=yield function(y,f){return Le.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(I,M,Number(B))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:I,expirationTime:M}=g,B=new ft;return b&&(De("string"==typeof b,"internal-error",{appName:f}),B.refreshToken=b),I&&(De("string"==typeof I,"internal-error",{appName:f}),B.accessToken=I),M&&(De("number"==typeof M,"internal-error",{appName:f}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return ir("not implemented")}}function qt(y,f){De("string"==typeof y||void 0===y,"internal-error",{appName:f})}class pn{constructor(f){var{uid:g,auth:b,stsTokenManager:I}=f,M=le(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new $d(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const b=yield ai(g,g.stsTokenManager.getToken(g.auth,f));return De(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function(y){return Co.apply(this,arguments)}(this,f)}reload(){return function(y){return us.apply(this,arguments)}(this)}_assign(f){this!==f&&(De(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new pn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,a.Z)(function*(){let I=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),I=!0),g&&(yield zs(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield ai(f,function(y,f){return ye.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,I,M,B,re,Pe,xe,ze;const qe=null!==(b=g.displayName)&&void 0!==b?b:void 0,Mt=null!==(I=g.email)&&void 0!==I?I:void 0,Yn=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,wu=null!==(B=g.photoURL)&&void 0!==B?B:void 0,zo=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Zl=null!==(Pe=g._redirectEventId)&&void 0!==Pe?Pe:void 0,qp=null!==(xe=g.createdAt)&&void 0!==xe?xe:void 0,Wh=null!==(ze=g.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:Bl,emailVerified:oy,isAnonymous:ay,providerData:jl,stsTokenManager:$p}=g;De(Bl&&$p,f,"internal-error");const Nv=ft.fromJSON(this.name,$p);De("string"==typeof Bl,f,"internal-error"),qt(qe,f.name),qt(Mt,f.name),De("boolean"==typeof oy,f,"internal-error"),De("boolean"==typeof ay,f,"internal-error"),qt(Yn,f.name),qt(wu,f.name),qt(zo,f.name),qt(Zl,f.name),qt(qp,f.name),qt(Wh,f.name);const xa=new pn({uid:Bl,auth:f,email:Mt,emailVerified:oy,displayName:qe,isAnonymous:ay,photoURL:wu,phoneNumber:Yn,tenantId:zo,stsTokenManager:Nv,createdAt:qp,lastLoginAt:Wh});return jl&&Array.isArray(jl)&&(xa.providerData=jl.map(uy=>Object.assign({},uy))),Zl&&(xa._redirectEventId=Zl),xa}static _fromIdTokenResponse(f,g,b=!1){return(0,a.Z)(function*(){const I=new ft;I.updateFromServerResponse(g);const M=new pn({uid:g.localId,auth:f,stsTokenManager:I,isAnonymous:b});return yield zs(M),M})()}}const sn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,a.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,a.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,a.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function qn(y,f,g){return`firebase:${y}:${f}:${g}`}class Jt{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:I,name:M}=this.auth;this.fullUserKey=qn(this.userKey,I.apiKey,M),this.fullPersistenceKey=qn("persistence",I.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?pn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,a.Z)(function*(){if(!g.length)return new Jt(xt(sn),f,b);const I=(yield Promise.all(g.map(function(){var xe=(0,a.Z)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let M=I[0]||xt(sn);const B=qn(b,f.config.apiKey,f.name);let re=null;for(const xe of g)try{const ze=yield xe._get(B);if(ze){const qe=pn._fromJSON(f,ze);xe!==M&&(re=qe),M=xe;break}}catch(ze){}const Pe=I.filter(xe=>xe._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],re&&(yield M._set(B,re.toJSON())),yield Promise.all(g.map(function(){var xe=(0,a.Z)(function*(ze){if(ze!==M)try{yield ze._remove(B)}catch(qe){}});return function(ze){return xe.apply(this,arguments)}}())),new Jt(M,f,b)):new Jt(M,f,b)})()}}function Sn(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ks(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(aa(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ai(f))return"Blackberry";if(Cr(f))return"Webos";if(pt(f))return"Safari";if((f.includes("chrome/")||qa(f))&&!f.includes("edge/"))return"Chrome";if(Io(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function aa(y=(0,k.z$)()){return/firefox\//i.test(y)}function pt(y=(0,k.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function qa(y=(0,k.z$)()){return/crios\//i.test(y)}function Ks(y=(0,k.z$)()){return/iemobile/i.test(y)}function Io(y=(0,k.z$)()){return/android/i.test(y)}function Ai(y=(0,k.z$)()){return/blackberry/i.test(y)}function Cr(y=(0,k.z$)()){return/webos/i.test(y)}function Bi(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)}function ua(y=(0,k.z$)()){return Bi(y)||Io(y)||Cr(y)||Ai(y)||/windows phone/i.test(y)||Ks(y)}function Ku(y,f=[]){let g;switch(y){case"Browser":g=Sn((0,k.z$)());break;case"Worker":g=`${Sn((0,k.z$)())}-${y}`;break;default:g=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${b}`}class zd{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cs(this),this.idTokenSubscription=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=on,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=xt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var I,M;if(!b._deleted&&(b.persistenceManager=yield Jt.create(b,f),!b._deleted)){if(null===(I=b._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(B){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(M=b.currentUser)||void 0===M?void 0:M.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var b;let I=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,B=null==I?void 0:I._redirectEventId,re=yield g.tryRedirectSignIn(f);(!M||M===B)&&(null==re?void 0:re.user)&&(I=re.user)}return I?I._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(I){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield zs(f)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const b=f?(0,k.m9)(f):null;return b&&De(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){if(!g._deleted)return f&&De(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,a.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(xt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,a.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&xt(f)||g._popupRedirectResolver;De(b,g,"argument-error"),g.redirectPersistenceManager=yield Jt.create(g,[xt(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,I){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return De(B,this,"internal-error"),B.then(()=>M(this.currentUser)),"function"==typeof g?f.addObserver(g,b,I):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ku(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){const g={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(g["X-Firebase-gmpid"]=f.app.options.appId),g})()}}function bn(y){return(0,k.m9)(y)}class cs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $n(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ji(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Ys{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ir("not implemented")}_getIdTokenResponse(f){return ir("not implemented")}_linkToIdToken(f,g){return ir("not implemented")}_getReauthenticationResolver(f){return ir("not implemented")}}function $a(y,f){return la.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:resetPassword",Lt(y,f))})).apply(this,arguments)}function ci(y,f){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Tm(y,f){return da.apply(this,arguments)}function da(){return(da=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:update",Lt(y,f))})).apply(this,arguments)}function Wd(){return(Wd=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithPassword",Lt(y,f))})).apply(this,arguments)}function ml(y,f){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:sendOobCode",Lt(y,f))})).apply(this,arguments)}function Im(y,f){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,a.Z)(function*(y,f){return ml(y,f)})).apply(this,arguments)}function Am(y,f){return _p.apply(this,arguments)}function _p(){return(_p=(0,a.Z)(function*(y,f){return ml(y,f)})).apply(this,arguments)}function Qd(y,f){return yl.apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(y,f){return ml(y,f)})).apply(this,arguments)}function Jd(y,f){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,a.Z)(function*(y,f){return ml(y,f)})).apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,f))})).apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,f))})).apply(this,arguments)}class ha extends Ys{constructor(f,g,b,I=null){super("password",b),this._email=f,this._password=g,this._tenantId=I}static _fromEmailAndPassword(f,g){return new ha(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new ha(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function(y,f){return Wd.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,f){return Ha.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Yt(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return ci(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(y,f){return Ga.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Yt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function li(y,f){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithIdp",Lt(y,f))})).apply(this,arguments)}class mn extends Ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new mn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Yt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I}=g,M=le(g,["providerId","signInMethod"]);if(!b||!I)return null;const B=new mn(b,I);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(f){return li(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,li(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,li(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function qi(y,f){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:sendVerificationCode",Lt(y,f))})).apply(this,arguments)}function th(){return(th=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,f))})).apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(y,f){const g=yield q(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,f));if(g.temporaryProof)throw Ve(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wa={USER_NOT_FOUND:"user-not-found"};function fa(){return(fa=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wa)})).apply(this,arguments)}class Do extends Ys{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Do({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Do({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(y,f){return th.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(y,f){return vl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(y,f){return fa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:M}=f;return b||g||I||M?new Do({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:M}):null}}class Qs{constructor(f){var g,b,I,M,B,re;const Pe=(0,k.zd)((0,k.pd)(f)),xe=null!==(g=Pe.apiKey)&&void 0!==g?g:null,ze=null!==(b=Pe.oobCode)&&void 0!==b?b:null,qe=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Pe.mode)&&void 0!==I?I:null);De(xe&&ze&&qe,"argument-error"),this.apiKey=xe,this.operation=qe,this.code=ze,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(B=Pe.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(re=Pe.tenantId)&&void 0!==re?re:null}static parseLink(f){const g=function(y){const f=(0,k.zd)((0,k.pd)(y)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||f||y}(f);try{return new Qs(g)}catch(b){return null}}}let ls=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return ha._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=Qs.parseLink(b);return De(I,"argument-error"),ha._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Hr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $i extends Hr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class en extends $i{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return De("providerId"in g&&"signInMethod"in g,"argument-error"),mn._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return De(f.idToken||f.accessToken,"argument-error"),mn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return en.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return en.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:M,nonce:B,providerId:re}=f;if(!b&&!I&&!g&&!M||!re)return null;try{return new en(re)._credential({idToken:g,accessToken:b,nonce:B,pendingToken:M})}catch(Pe){return null}}}let Qu=(()=>{class y extends $i{constructor(){super("facebook.com")}static credential(g){return mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Qa=(()=>{class y extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch(M){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nh=(()=>{class y extends $i{constructor(){super("github.com")}static credential(g){return mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class pa extends Ys{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return li(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,li(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,li(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I,pendingToken:M}=g;return b&&I&&M&&b===I?new pa(b,M):null}static _create(f,g){return new pa(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends Hr{constructor(f){De(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return So.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return So.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=pa.fromJSON(f);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return pa._create(b,g)}catch(I){return null}}}let Mr=(()=>{class y extends $i{constructor(){super("twitter.com")}static credential(g,b){return mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch(M){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ih(y,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signUp",Lt(y,f))})).apply(this,arguments)}class Rn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,I=!1){return(0,a.Z)(function*(){const M=yield pn._fromIdTokenResponse(f,b,I),B=or(b);return new Rn({user:M,providerId:B,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const I=or(b);return new Rn({user:f,providerId:I,_tokenResponse:b,operationType:g})})()}}function or(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ga(){return(ga=(0,a.Z)(function*(y){var f;const g=bn(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Rn({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield ih(g,{returnSecureToken:!0}),I=yield Rn._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class Ja extends k.ZR{constructor(f,g,b,I){var M;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,Ja.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,I){return new Ja(f,g,b,I)}}function ds(y,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Ja._fromErrorAndOperation(y,M,f,b):M})}function Xa(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function it(){return(it=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y);yield Js(!0,g,f);const{providerUserInfo:b}=yield Fe(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),I=Xa(b||[]);return g.providerData=g.providerData.filter(M=>I.has(M.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function sh(y,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(y,f,g=!1){const b=yield ai(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Rn._forOperation(y,"link",b)})).apply(this,arguments)}function Js(y,f,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(y,f,g){yield zs(f);const I=!1===y?"provider-already-linked":"no-such-provider";De(Xa(f.providerData).has(g)===y,f.auth,I)})).apply(this,arguments)}function ec(y,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(y,f,g=!1){const{auth:b}=y,I="reauthenticate";try{const M=yield ai(y,ds(b,I,f,y),g);De(M.idToken,b,"internal-error");const B=wo(M.idToken);De(B,b,"internal-error");const{sub:re}=B;return De(y.uid===re,b,"user-mismatch"),Rn._forOperation(y,I,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Yt(b,"user-mismatch"),M}})).apply(this,arguments)}function bl(y,f){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(y,f,g=!1){const b="signIn",I=yield ds(y,b,f),M=yield Rn._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function At(y,f){return eu.apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function*(y,f){return bl(bn(y),f)})).apply(this,arguments)}function yn(y,f){return tc.apply(this,arguments)}function tc(){return(tc=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y);return yield Js(!1,g,f.providerId),sh(g,f)})).apply(this,arguments)}function xo(y,f){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(y,f){return ec((0,k.m9)(y),f)})).apply(this,arguments)}function tu(y,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(y,f){return q(y,"POST","/v1/accounts:signInWithCustomToken",Lt(y,f))})).apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(y,f){const g=bn(y),b=yield tu(g,{token:f,returnSecureToken:!0}),I=yield Rn._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ps{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Gi._fromServerResponse(f,g):Yt(f,"internal-error")}}class Gi extends ps{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Gi(g)}}function Gn(y,f,g){var b;De((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ma(){return(ma=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y),I={requestType:"PASSWORD_RESET",email:f};g&&Gn(b,I,g),yield Am(b,I)})).apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(y,f,g){yield $a((0,k.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function rc(){return(rc=(0,a.Z)(function*(y,f){yield Tm((0,k.m9)(y),{oobCode:f})})).apply(this,arguments)}function ic(y,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y),b=yield $a(g,{oobCode:f}),I=b.requestType;switch(De(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(b.mfaInfo,g,"internal-error");default:De(b.email,g,"internal-error")}let M=null;return b.mfaInfo&&(M=ps._fromServerResponse(bn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:I}})).apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(y,f){const{data:g}=yield ic((0,k.m9)(y),f);return g.email})).apply(this,arguments)}function oc(){return(oc=(0,a.Z)(function*(y,f,g){const b=bn(y),I=yield ih(b,{returnSecureToken:!0,email:f,password:g}),M=yield Rn._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(M.user),M})).apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y),I={requestType:"EMAIL_SIGNIN",email:f};De(g.handleCodeInApp,b,"argument-error"),g&&Gn(b,I,g),yield Qd(b,I)})).apply(this,arguments)}function nu(){return(nu=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y),I=ls.credentialWithLink(f,g||vr());return De(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),At(b,I)})).apply(this,arguments)}function Sm(y,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:createAuthUri",Lt(y,f))})).apply(this,arguments)}function wp(){return(wp=(0,a.Z)(function*(y,f){const b={identifier:f,continueUri:Ye()?vr():"http://localhost"},{signinMethods:I}=yield Sm((0,k.m9)(y),b);return I||[]})).apply(this,arguments)}function Gr(){return(Gr=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Gn(g.auth,I,f);const{email:M}=yield Im(g.auth,I);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function ru(){return(ru=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Gn(b.auth,M,g);const{email:B}=yield Jd(b.auth,M);B!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ep(y,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(y,f){return ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,k.m9)(y),M={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield ai(b,Ep(b.auth,M));b.displayName=B.displayName||null,b.photoURL=B.photoUrl||null;const re=b.providerData.find(({providerId:Pe})=>"password"===Pe);re&&(re.displayName=b.displayName,re.photoURL=b.photoURL),yield b._updateTokensIfNecessary(B)})).apply(this,arguments)}function su(y,f,g){return ou.apply(this,arguments)}function ou(){return(ou=(0,a.Z)(function*(y,f,g){const{auth:b}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(M.email=f),g&&(M.password=g);const B=yield ai(y,ci(b,M));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Oo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class dc extends Oo{constructor(f,g,b,I){super(f,g,b),this.username=I}}class to extends Oo{constructor(f,g){super(f,"facebook.com",g)}}class au extends dc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Mm extends Oo{constructor(f,g){super(f,"google.com",g)}}class Tp extends dc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function ar(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var f,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const B=null===(g=null===(f=wo(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new Oo(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!b)return null;switch(b){case"facebook.com":return new to(M,I);case"github.com":return new au(M,I);case"google.com":return new Mm(M,I);case"twitter.com":return new Tp(M,I,y.screenName||null);case"custom":case"anonymous":return new Oo(M,null);default:return new Oo(M,b,I)}}(g)}class Mi{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Mi("enroll",f)}static _fromMfaPendingCredential(f){return new Mi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Mi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Mi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class pc{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=bn(f),I=g.customData._serverResponse,M=(I.mfaInfo||[]).map(re=>ps._fromServerResponse(b,re));De(I.mfaPendingCredential,b,"internal-error");const B=Mi._fromMfaPendingCredential(I.mfaPendingCredential);return new pc(B,M,function(){var re=(0,a.Z)(function*(Pe){const xe=yield Pe._process(b,B);delete I.mfaInfo,delete I.mfaPendingCredential;const ze=Object.assign(Object.assign({},I),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(g.operationType){case"signIn":const qe=yield Rn._fromIdTokenResponse(b,g.operationType,ze);return yield b._updateCurrentUser(qe.user),qe;case"reauthenticate":return De(g.user,b,"internal-error"),Rn._forOperation(g.user,g.operationType,ze);default:Yt(b,"internal-error")}});return function(Pe){return re.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}function cu(y,f){return ht(y,"POST","/v2/accounts/mfaEnrollment:start",Lt(y,f))}class mc{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ps._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new mc(f)}getSession(){var f=this;return(0,a.Z)(function*(){return Mi._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var b=this;return(0,a.Z)(function*(){const I=f,M=yield b.getSession(),B=yield ai(b.user,I._process(b.user.auth,M,g));return yield b.user._updateTokensIfNecessary(B),b.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const b="string"==typeof f?f:f.uid,I=yield g.user.getIdToken(),M=yield ai(g.user,function(y,f){return ht(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(y,f))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==b),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(B){if("auth/user-token-expired"!==B.code)throw B}})()}}const No=new WeakMap,va="__sak";class zr{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const kn=(()=>{class y extends zr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,k.z$)();return pt(y)||Bi(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ua(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),M=this.localCache[b];I!==M&&g(b,M,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((re,Pe,xe)=>{this.notifyListeners(re,xe)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(I);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const M=()=>{const re=this.storage.getItem(I);!b&&this.localCache[I]===re||this.notifyListeners(I,re)},B=this.storage.getItem(I);(0,k.w1)()&&10===document.documentMode&&B!==g.newValue&&g.newValue!==g.oldValue?setTimeout(M,10):M()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const M of Array.from(I))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,M=this;return(0,a.Z)(function*(){yield I().call(M,g,b),M.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,a.Z)(function*(){const M=yield b().call(I,g);return I.localCache[g]=JSON.stringify(M),M})()}_remove(g){var b=()=>super._remove,I=this;return(0,a.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),zn=(()=>{class y extends zr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Dp=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(M=>M.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,a.Z)(function*(){const I=g,{eventId:M,eventType:B,data:re}=I.data,Pe=b.handlersMap[B];if(!(null==Pe?void 0:Pe.size))return;I.ports[0].postMessage({status:"ack",eventId:M,eventType:B});const xe=Array.from(Pe).map(function(){var qe=(0,a.Z)(function*(Mt){return Mt(I.origin,re)});return function(Mt){return qe.apply(this,arguments)}}()),ze=yield function(y){return Promise.all(y.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(xe);I.ports[0].postMessage({status:"done",eventId:M,eventType:B,response:ze})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ca(y="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return y+g}class fh{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var I=this;return(0,a.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let B,re;return new Promise((Pe,xe)=>{const ze=Ca("",20);M.port1.start();const qe=setTimeout(()=>{xe(new Error("unsupported_event"))},b);re={messageChannel:M,onMessage(Mt){const Yn=Mt;if(Yn.data.eventId===ze)switch(Yn.data.status){case"ack":clearTimeout(qe),B=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Pe(Yn.data.response);break;default:clearTimeout(qe),clearTimeout(B),xe(new Error("invalid_response"))}}},I.handlers.add(re),M.port1.addEventListener("message",re.onMessage),I.target.postMessage({eventType:f,eventId:ze,data:g},[M.port2])}).finally(()=>{re&&I.removeMessageHandler(re)})})()}}function $t(){return window}function El(){return void 0!==$t().WorkerGlobalScope&&"function"==typeof $t().importScripts}function ko(){return(ko=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const yc="firebaseLocalStorageDb",zi="firebaseLocalStorage",Il="fbase_key";class ys{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ur(y,f){return y.transaction([zi],f?"readwrite":"readonly").objectStore(zi)}function Fo(){const y=indexedDB.open(yc,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(zi,{keyPath:Il})}catch(I){g(I)}}),y.addEventListener("success",(0,a.Z)(function*(){const b=y.result;b.objectStoreNames.contains(zi)?f(b):(b.close(),yield function(){const y=indexedDB.deleteDatabase(yc);return new ys(y).toPromise()}(),f(yield Fo()))}))})}function st(y,f,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(y,f,g){const b=ur(y,!0).put({[Il]:f,value:g});return new ys(b).toPromise()})).apply(this,arguments)}function gh(){return(gh=(0,a.Z)(function*(y,f){const g=ur(y,!1).get(f),b=yield new ys(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function mh(y,f){const g=ur(y,!0).delete(f);return new ys(g).toPromise()}const tn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Fo()),g.db})()}_withRetries(g){var b=this;return(0,a.Z)(function*(){let I=0;for(;;)try{const M=yield b._openDb();return yield g(M)}catch(M){if(I++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return El()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Dp._getInstance(El()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(I,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(I,M){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(I,M){return["keyChanged"]});return function(I,M){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function(){return ko.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fh(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(b=M[0])||void 0===b?void 0:b.fulfilled)&&(null===(I=M[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Fo();return yield st(g,va,"1"),yield mh(g,va),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(M=>st(M,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,a.Z)(function*(){const I=yield b._withRetries(M=>function(y,f){return gh.apply(this,arguments)}(M,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(I=>mh(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const b=yield g._withRetries(B=>{const re=ur(B,!1).getAll();return new ys(re).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],M=new Set;for(const{fbase_key:B,value:re}of b)M.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(re)&&(g.notifyListeners(B,re),I.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!M.has(B)&&(g.notifyListeners(B,null),I.push(B));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const M of Array.from(I))M(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function xp(y,f){return ht(y,"POST","/v2/accounts/mfaSignIn:start",Lt(y,f))}function _h(){return(_h=(0,a.Z)(function*(y){return(yield ht(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fi(y){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=I=>{const M=ut("internal-error");M.customData=I,g(M)},b.type="text/javascript",b.charset="UTF-8",function(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Al(y){return`__${y}${Math.floor(1e6*Math.random())}`}const fu=1e12;class Ch{constructor(f){this.auth=f,this.counter=fu,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Fn(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||fu;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||fu))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var b;return null===(b=g._widgets.get(f||fu))||void 0===b||b.execute(),""})()}}class Fn{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;De(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cn=Al("rcb"),bc=new Qt(3e4,6e4);class wa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$t().grecaptcha}load(f,g=""){return De((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve($t().grecaptcha):new Promise((b,I)=>{const M=$t().setTimeout(()=>{I(ut(f,"network-request-failed"))},bc.get());$t()[cn]=()=>{$t().clearTimeout(M),delete $t()[cn];const re=$t().grecaptcha;if(!re)return void I(ut(f,"internal-error"));const Pe=re.render;re.render=(xe,ze)=>{const qe=Pe(xe,ze);return this.counter++,qe},this.hostLanguage=g,b(re)},fi(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:cn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),I(ut(f,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!$t().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pi{load(f){return(0,a.Z)(function*(){return new Ch(f)})()}clearedOneInstance(){}}const xi="recaptcha",Oi={theme:"light",type:"image"};class Lo{constructor(f,g=Object.assign({},Oi),b){this.parameters=g,this.type=xi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(b),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;De(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pi:new wa,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(M=>{const B=re=>{!re||(f.tokenChangeListeners.delete(B),M(re))};f.tokenChangeListeners.add(B),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=$t()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){De(Ye()&&!El(),f.auth,"internal-error"),yield function(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(y){return _h.apply(this,arguments)}(f.auth);De(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wc{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Do._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Wi(){return(Wi=(0,a.Z)(function*(y,f,g){const b=bn(y),I=yield A(b,f,(0,k.m9)(g));return new wc(I,M=>At(b,M))})).apply(this,arguments)}function Eh(){return(Eh=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y);yield Js(!1,b,"phone");const I=yield A(b.auth,f,(0,k.m9)(g));return new wc(I,M=>yn(b,M))})).apply(this,arguments)}function E(){return(E=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y),I=yield A(b.auth,f,(0,k.m9)(g));return new wc(I,M=>xo(b,M))})).apply(this,arguments)}function A(y,f,g){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(function*(y,f,g){var b;const I=yield g.verify();try{let M;if(De("string"==typeof I,y,"argument-error"),De(g.type===xi,y,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const B=M.session;if("phoneNumber"in M)return De("enroll"===B.type,y,"internal-error"),(yield cu(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{De("signin"===B.type,y,"internal-error");const re=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return De(re,y,"missing-multi-factor-info"),(yield xp(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield qi(y,{phoneNumber:M.phoneNumber,recaptchaToken:I});return B}}finally{g._reset()}})).apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(y,f){yield sh((0,k.m9)(y),f)})).apply(this,arguments)}let se=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,b){return A(this.auth,g,(0,k.m9)(b))}static credential(g,b){return Do._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?Do._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ae(y,f){return f?xt(f):(De(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ze extends Ys{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return li(f,this._buildIdpRequest())}_linkToIdToken(f,g){return li(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return li(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function je(y){return bl(y.auth,new Ze(y),y.bypassAuthState)}function Ut(y){const{auth:f,user:g}=y;return De(g,f,"internal-error"),ec(g,new Ze(y),y.bypassAuthState)}function Gt(y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(y){const{auth:f,user:g}=y;return De(g,f,"internal-error"),sh(g,new Ze(y),y.bypassAuthState)})).apply(this,arguments)}class cr{constructor(f,g,b,I,M=!1){this.auth=f,this.resolver=b,this.user=I,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(b,I){f.pendingPromise={resolve:b,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:M,tenantId:B,error:re,type:Pe}=f;if(re)return void g.reject(re);const xe={auth:g.auth,requestUri:b,sessionId:I,tenantId:B||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Pe)(xe))}catch(ze){g.reject(ze)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return Gt;case"reauthViaPopup":case"reauthViaRedirect":return Ut;default:Yt(this.auth,"internal-error")}}resolve(f){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kn=new Qt(2e3,1e4);function Vo(){return(Vo=(0,a.Z)(function*(y,f,g){const b=bn(y);Sr(y,f,Hr);const I=Ae(b,g);return new Et(b,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y);Sr(b.auth,f,Hr);const I=Ae(b.auth,g);return new Et(b.auth,"reauthViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}function pu(){return(pu=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y);Sr(b.auth,f,Hr);const I=Ae(b.auth,g);return new Et(b.auth,"linkViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}let Et=(()=>{class y extends cr{constructor(g,b,I,M,B){super(g,b,M,B),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const b=yield g.execute();return De(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,a.Z)(function*(){Bn(1===g.filter.length,"Popup operations only handle one event");const b=Ca();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(ut(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=(null===(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Kn.get())};g()}}return y.currentPopupAction=null,y})();const ws=new Map;class Ec extends cr{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let b=ws.get(g.auth._key());if(!b){try{const M=(yield function(y,f){return Op.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(M)}catch(I){b=()=>Promise.reject(I)}ws.set(g.auth._key(),b)}return g.bypassAuthState||ws.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const I=yield b.auth._redirectUserForId(f.eventId);if(I)return b.user=I,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Op(){return(Op=(0,a.Z)(function*(y,f){const g=gu(f),b=Zo(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function Cn(y,f){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,a.Z)(function*(y,f){return Zo(y)._set(gu(f),"true")})).apply(this,arguments)}function Zo(y){return xt(y._redirectPersistence)}function gu(y){return qn("pendingRedirect",y.config.apiKey,y.name)}function Ln(){return(Ln=(0,a.Z)(function*(y,f,g){const b=bn(y);Sr(y,f,Hr);const I=Ae(b,g);return yield Cn(I,b),I._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y);Sr(b.auth,f,Hr);const I=Ae(b.auth,g);yield Cn(I,b.auth);const M=yield xl(b);return I._openRedirect(b.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function Pp(){return(Pp=(0,a.Z)(function*(y,f,g){const b=(0,k.m9)(y);Sr(b.auth,f,Hr);const I=Ae(b.auth,g);yield Js(!1,b,f.providerId),yield Cn(I,b.auth);const M=yield xl(b);return I._openRedirect(b.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function Sl(){return(Sl=(0,a.Z)(function*(y,f){return yield bn(y)._initializationPromise,Ia(y,f,!1)})).apply(this,arguments)}function Ia(y,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,a.Z)(function*(y,f,g=!1){const b=bn(y),I=Ae(b,f),B=yield new Ec(b,I,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield b._persistUserIfCurrent(B.user),yield b._setRedirectUser(null,f)),B})).apply(this,arguments)}function xl(y){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(y){const f=Ca(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ro{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!mu(f)){const I=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ut(this.auth,I))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(km(f))}saveEventToCache(f){this.cachedEventUids.add(km(f)),this.lastProcessedEventTime=Date.now()}}function km(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function mu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ah(y){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,a.Z)(function*(y,f={}){return ht(y,"GET","/v1/projects",f)})).apply(this,arguments)}const fv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dh=/^https?/;function yu(){return(yu=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ah(y);for(const g of f)try{if(Ic(g))return}catch(b){}Yt(y,"unauthorized-domain")})).apply(this,arguments)}function Ic(y){const f=vr(),{protocol:g,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===b}if(!Dh.test(g))return!1;if(fv.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const Ac=new Qt(3e4,6e4);function Sh(){const y=$t().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let xh=null;function Pl(y){return xh=xh||function(y){return new Promise((f,g)=>{var b,I,M;function B(){Sh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Sh(),g(ut(y,"network-request-failed"))},timeout:Ac.get()})}if(null===(I=null===(b=$t().gapi)||void 0===b?void 0:b.iframes)||void 0===I?void 0:I.Iframe)f(gapi.iframes.getContext());else{if(!(null===(M=$t().gapi)||void 0===M?void 0:M.load)){const re=Al("iframefcb");return $t()[re]=()=>{gapi.load?B():g(ut(y,"network-request-failed"))},fi(`https://apis.google.com/js/api.js?onload=${re}`).catch(Pe=>g(Pe))}B()}}).catch(f=>{throw xh=null,f})}(y),xh}const kp=new Qt(5e3,15e3),Nl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_u=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pv(y){const f=y.config;De(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Xe(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},I=_u.get(y.config.apiHost);I&&(b.eid=I);const M=y._getFrameworks();return M.length&&(b.fw=M.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function Fp(){return(Fp=(0,a.Z)(function*(y){const f=yield Pl(y),g=$t().gapi;return De(g,y,"internal-error"),f.open({where:document.body,url:pv(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nl,dontclear:!0},b=>new Promise(function(){var I=(0,a.Z)(function*(M,B){yield b.restyle({setHideOnLeave:!1});const re=ut(y,"network-request-failed"),Pe=$t().setTimeout(()=>{B(re)},kp.get());function xe(){$t().clearTimeout(Pe),M(b)}b.ping(xe).then(xe,()=>{B(re)})});return function(M,B){return I.apply(this,arguments)}}()))})).apply(this,arguments)}const mv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Rl(y,f,g,b,I,M){De(y.config.authDomain,y,"auth-domain-config-required"),De(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ue.SDK_VERSION,eventId:I};if(f instanceof Hr){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Pe,xe]of Object.entries(M||{}))B[Pe]=xe}if(f instanceof $i){const Pe=f.getScopes().filter(xe=>""!==xe);Pe.length>0&&(B.scopes=Pe.join(","))}y.tenantId&&(B.tid=y.tenantId);const re=B;for(const Pe of Object.keys(re))void 0===re[Pe]&&delete re[Pe];return`${function({config:y}){return y.emulator?Xe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(re).slice(1)}`}const Sc="webStorageSupport";class kl extends class{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ir("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new kl(f)}_finalizeEnroll(f,g,b){return function(y,f){return ht(y,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(y,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(y,f){return ht(y,"POST","/v2/accounts/mfaSignIn:finalize",Lt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vu=(()=>{class y{constructor(){}static assertion(g){return kl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,Lp="@firebase/auth";class Mc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{var I;f((null===(I=b)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $o(){return window}function xc(){return(xc=(0,a.Z)(function*(y,f,g){var b;const{BuildInfo:I}=$o();Bn(f.sessionId,"AuthEvent did not contain a session ID");const M=yield zm(f.sessionId),B={};return Bi()?B.ibi=I.packageName:Io()?B.apn=I.packageName:Yt(y,"operation-not-supported-in-this-environment"),I.displayName&&(B.appDisplayName=I.displayName),B.sessionId=M,Rl(y,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,B)})).apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(y){const{BuildInfo:f}=$o(),g={};Bi()?g.iosBundleId=f.packageName:Io()?g.androidPackageName=f.packageName:Yt(y,"operation-not-supported-in-this-environment"),yield Ah(y,g)})).apply(this,arguments)}function Rh(){return(Rh=(0,a.Z)(function*(y,f,g){const{cordova:b}=$o();let I=()=>{};try{yield new Promise((M,B)=>{let re=null;function Pe(){var qe;M();const Mt=null===(qe=b.plugins.browsertab)||void 0===qe?void 0:qe.close;"function"==typeof Mt&&Mt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function xe(){re||(re=window.setTimeout(()=>{B(ut(y,"redirect-cancelled-by-user"))},2e3))}function ze(){"visible"===(null==document?void 0:document.visibilityState)&&xe()}f.addPassiveListener(Pe),document.addEventListener("resume",xe,!1),Io()&&document.addEventListener("visibilitychange",ze,!1),I=()=>{f.removePassiveListener(Pe),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",ze,!1),re&&window.clearTimeout(re)}})}finally{I()}})).apply(this,arguments)}function zm(y){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,a.Z)(function*(y){const f=wv(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wv(y){if(Bn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}y="Browser",(0,ue._registerComponent)(new Ke.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),{apiKey:I,authDomain:M}=b.options;return(B=>{De(I&&!I.includes(":"),"invalid-api-key",{appName:B.name}),De(!(null==M?void 0:M.includes(":")),"argument-error",{appName:B.name});const re={apiKey:I,authDomain:M,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ku(y)},Pe=new zd(B,re);return function(y,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(xt);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Pe,g),Pe})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Ke.wA("auth-internal",f=>{const g=bn(f.getProvider("auth").getImmediate());return new Mc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Lp,"0.19.9",void 0),(0,ue.registerVersion)(Lp,"0.19.9","esm2017");class Fh extends ro{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function Wm(y){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(y){const f=yield bu()._get(Is(y));return f&&(yield bu()._remove(Is(y))),f})).apply(this,arguments)}function Ev(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function bu(){return xt(kn)}function Is(y){return qn("authEvent",y.config.apiKey,y.name)}function Vh(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,k.zd)(g.join("?"))}function Ll(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ut("no-auth-event")}}function Vl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function wr(y=(0,k.z$)()){return!("file:"!==Vl()&&"ionic:"!==Vl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jm(){try{const y=self.localStorage,f=Ca();if(y)return y.setItem(f,"1"),y.removeItem(f),!function(y=(0,k.z$)()){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return jh()&&(0,k.hl)()}return!1}function jh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Up(){return("http:"===Vl()||"https:"===Vl()||(0,k.ru)()||wr())&&!((0,k.b$)()||(0,k.UG)())&&Jm()&&!jh()}function Zp(){return wr()&&"undefined"!=typeof document}function $h(){return($h=(0,a.Z)(function*(){return!!Zp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const dr={LOCAL:"local",NONE:"none",SESSION:"session"},Sa=De,Pc="persistence";function ty(y){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,a.Z)(function*(y){yield y._initializationPromise;const f=ny(),g=qn(Pc,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function ny(){var y;try{return(null===(y="undefined"!=typeof window?window:null)||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Dv=De;class Yr{constructor(){this.browserResolver=xt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zn,this._completeRedirectFn=Ia}_openPopup(f,g,b,I){var M=this;return(0,a.Z)(function*(){var B;Bn(null===(B=M.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const re=Rl(f,g,b,vr(),I);return function(y,f,g,b=500,I=600){const M=Math.max((window.screen.availHeight-I)/2,0).toString(),B=Math.max((window.screen.availWidth-b)/2,0).toString();let re="";const Pe=Object.assign(Object.assign({},mv),{width:b.toString(),height:I.toString(),top:M,left:B}),xe=(0,k.z$)().toLowerCase();g&&(re=qa(xe)?"_blank":g),aa(xe)&&(f=f||"http://localhost",Pe.scrollbars="yes");const ze=Object.entries(Pe).reduce((Mt,[Yn,wu])=>`${Mt}${Yn}=${wu},`,"");if(function(y=(0,k.z$)()){var f;return Bi(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(xe)&&"_self"!==re)return function(y,f){const g=document.createElement("a");g.href=y,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",re),new Dc(null);const qe=window.open(f||"",re,ze);De(qe,y,"popup-blocked");try{qe.focus()}catch(Mt){}return new Dc(qe)}(f,re,Ca())})()}_openRedirect(f,g,b,I){var M=this;return(0,a.Z)(function*(){return yield M._originValidation(f),y=Rl(f,g,b,vr(),I),$t().location.href=y,new Promise(()=>{});var y})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:I,promise:M}=this.eventManagers[g];return I?Promise.resolve(I):(Bn(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const b=yield function(y){return Fp.apply(this,arguments)}(f),I=new ro(f);return b.register("authEvent",M=>(De(null==M?void 0:M.authEvent,f,"invalid-auth-event"),{status:I.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:I},g.iframes[f._key()]=b,I})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Sc,{type:Sc},I=>{var M;const B=null===(M=null==I?void 0:I[0])||void 0===M?void 0:M[Sc];void 0!==B&&g(!!B),Yt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return yu.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ua()||pt()||Bi()}}),this.cordovaResolver=xt(class{constructor(){this._redirectPersistence=zn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ia}_initialize(f){var g=this;return(0,a.Z)(function*(){const b=f._key();let I=g.eventManagers.get(b);return I||(I=new Fh(f),g.eventManagers.set(b,I),g.attachCallbackListeners(f,I)),I})()}_openPopup(f){Yt(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,I){var M=this;return(0,a.Z)(function*(){!function(y){var f,g,b,I,M,B,re,Pe,xe,ze;const qe=$o();De("function"==typeof(null===(f=null==qe?void 0:qe.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==qe?void 0:qe.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(M=null===(I=null===(b=null==qe?void 0:qe.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Pe=null===(re=null===(B=null==qe?void 0:qe.cordova)||void 0===B?void 0:B.plugins)||void 0===re?void 0:re.browsertab)||void 0===Pe?void 0:Pe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(ze=null===(xe=null==qe?void 0:qe.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===ze?void 0:ze.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield M._initialize(f);yield B.initialized(),B.resetRedirect(),ws.clear(),yield M._originValidation(f);const re=function(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Ev(),postBody:null,tenantId:y.tenantId,error:ut(y,"no-auth-event")}}(f,b,I);yield function(y,f){return bu()._set(Is(y),f)}(f,re);const Pe=yield function(y,f,g){return xc.apply(this,arguments)}(f,re,g),xe=yield function(y){const{cordova:f}=$o();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let I=null;b?f.plugins.browsertab.openUrl(y):I=f.InAppBrowser.open(y,function(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(Pe);return function(y,f,g){return Rh.apply(this,arguments)}(f,B,xe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Fl.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:M}=$o(),B=setTimeout((0,a.Z)(function*(){yield Wm(f),g.onEvent(Ll())}),500),re=function(){var ze=(0,a.Z)(function*(qe){clearTimeout(B);const Mt=yield Wm(f);let Yn=null;Mt&&(null==qe?void 0:qe.url)&&(Yn=function(y,f){var g,b;const I=function(y){const f=Vh(y),g=f.link?decodeURIComponent(f.link):void 0,b=Vh(g).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Vh(I).link||I||b||g||y}(f);if(I.includes("/__/auth/callback")){const M=Vh(I),B=M.firebaseError?function(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(M.firebaseError)):null,re=null===(b=null===(g=null==B?void 0:B.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Pe=re?ut(re):null;return Pe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Mt,qe.url)),g.onEvent(Yn||Ll())});return function(Mt){return ze.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,re);const Pe=I,xe=`${M.packageName.toLowerCase()}://`;$o().handleOpenURL=function(){var ze=(0,a.Z)(function*(qe){if(qe.toLowerCase().startsWith(xe)&&re({url:qe}),"function"==typeof Pe)try{Pe(qe)}catch(Mt){console.error(Mt)}});return function(qe){return ze.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zn,this._completeRedirectFn=Ia}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,I){var M=this;return(0,a.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(f,g,b,I)})()}_openRedirect(f,g,b,I){var M=this;return(0,a.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(f,g,b,I)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Zp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return $h.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ry(y){return y.unwrap()}function zh(y){return sy(y)}function sy(y){const{_tokenResponse:f}=y instanceof k.ZR?y.customData:y;if(!f)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return se.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Qa;break;case"facebook.com":b=Qu;break;case"github.com":b=nh;break;case"twitter.com":b=Mr;break;default:const{oauthIdToken:I,oauthAccessToken:M,oauthTokenSecret:B,pendingToken:re,nonce:Pe}=f;return M||B||I||re?re?g.startsWith("saml.")?pa._create(g,re):mn._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:I,accessToken:M}):new en(g).credential({idToken:I,accessToken:M,rawNonce:Pe}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Vn(y,f){return f.catch(g=>{throw g instanceof k.ZR&&function(y,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Mv(y,function(y,f){var g;const b=(0,k.m9)(y),I=f;return De(f.customData.operationType,b,"argument-error"),De(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),pc._fromError(b,I)}(y,f));else if(b){const I=sy(f),M=f;I&&(M.credential=I,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:zh(g),additionalUserInfo:ar(g),user:Go.getOrCreate(I)}})}function yi(y,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Vn(y,g.confirm(b))}})).apply(this,arguments)}class Mv{constructor(f,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Vn(ry(this.auth),this.resolver.resolveSignIn(f))}}class Go{constructor(f){this._delegate=f,this.multiFactor=function(y){const f=(0,k.m9)(y);return No.has(f)||No.set(f,mc._fromUser(f)),No.get(f)}(f)}static getOrCreate(f){return Go.USER_MAP.has(f)||Go.USER_MAP.set(f,new Go(f)),Go.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return Vn(g.auth,yn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,a.Z)(function*(){return yi(b.auth,function(y,f,g){return Eh.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return Vn(g.auth,function(y,f,g){return pu.apply(this,arguments)}(g._delegate,f,Yr))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield ty(bn(g.auth)),function(y,f,g){return function(y,f,g){return Pp.apply(this,arguments)}(y,f,g)}(g._delegate,f,Yr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return Vn(g.auth,xo(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return yi(this.auth,function(y,f,g){return E.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Vn(this.auth,function(y,f,g){return Cs.apply(this,arguments)}(this._delegate,f,Yr))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield ty(bn(g.auth)),function(y,f,g){return function(y,f,g){return Es.apply(this,arguments)}(y,f,g)}(g._delegate,f,Yr)})()}sendEmailVerification(f){return function(y,f){return Gr.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function(y,f){return it.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(y,f){return su((0,k.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function(y,f){return su((0,k.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(y,f){return Y.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(y,f){return Mn.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(y,f,g){return ru.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Go.USER_MAP=new WeakMap;const so=De;let xv=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;so(I,"invalid-api-key",{appName:g.name}),so(I,"invalid-api-key",{appName:g.name});const M="undefined"!=typeof window?Yr:void 0;this._delegate=b.initialize({options:{persistence:Ov(I,g.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(os),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function(y,f,g){const b=bn(y);De(b._canInitEmulator,b,"emulator-config-failed"),De(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),M=$n(f),{host:B,port:re}=function(y){const f=$n(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const M=I[1];return{host:M,port:ji(b.substr(M.length+1))}}{const[M,B]=b.split(":");return{host:M,port:ji(B)}}}(f);b.config.emulator={url:`${M}//${B}${null===re?"":`:${re}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:B,port:re,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function(y,f){return rc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ic(this._delegate,g)}confirmPasswordReset(g,b){return function(y,f,g){return Si.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,a.Z)(function*(){return Vn(I._delegate,function(y,f,g){return oc.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,f){return wp.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,f){const g=Qs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){so(Up(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function(y,f){return Sl.apply(this,arguments)}(g._delegate,Yr);return b?Vn(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,f){bn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:M,error:B,complete:re}=Bp(g,b,I);return this._delegate.onAuthStateChanged(M,B,re)}onIdTokenChanged(g,b,I){const{next:M,error:B,complete:re}=Bp(g,b,I);return this._delegate.onIdTokenChanged(M,B,re)}sendSignInLinkToEmail(g,b){return function(y,f,g){return gs.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function(y,f,g){return ma.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,a.Z)(function*(){let I;switch(function(y,f){Sa(Object.values(dr).includes(f),y,"invalid-persistence-type"),(0,k.b$)()?Sa(f!==dr.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Sa(f===dr.NONE,y,"unsupported-persistence-type"):jh()?Sa(f===dr.NONE||f===dr.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Sa(f===dr.NONE||Jm(),y,"unsupported-persistence-type")}(b._delegate,g),g){case dr.SESSION:I=zn;break;case dr.LOCAL:I=(yield xt(tn)._isAvailable())?tn:kn;break;case dr.NONE:I=sn;break;default:return Yt("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Vn(this._delegate,function(y){return ga.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Vn(this._delegate,At(this._delegate,g))}signInWithCustomToken(g){return Vn(this._delegate,function(y,f){return nc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Vn(this._delegate,function(y,f,g){return At((0,k.m9)(y),ls.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Vn(this._delegate,function(y,f,g){return nu.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return yi(this._delegate,function(y,f,g){return Wi.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,a.Z)(function*(){return so(Up(),b._delegate,"operation-not-supported-in-this-environment"),Vn(b._delegate,function(y,f,g){return Vo.apply(this,arguments)}(b._delegate,g,Yr))})()}signInWithRedirect(g){var b=this;return(0,a.Z)(function*(){return so(Up(),b._delegate,"operation-not-supported-in-this-environment"),yield ty(b._delegate),function(y,f,g){return function(y,f,g){return Ln.apply(this,arguments)}(y,f,g)}(b._delegate,g,Yr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,f){return _a.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=dr,y})();function Bp(y,f,g){let b=y;"function"!=typeof y&&({next:b,error:f,complete:g}=y);const I=b;return{next:B=>I(B&&Go.getOrCreate(B)),error:f,complete:g}}function Ov(y,f){const g=function(y,f){const g=ny();if(!g)return[];const b=qn(Pc,y,f);switch(g.getItem(b)){case dr.NONE:return[sn];case dr.LOCAL:return[tn,zn];case dr.SESSION:return[zn];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(tn)&&g.push(tn),"undefined"!=typeof window)for(const b of[kn,zn])g.includes(b)||g.push(b);return g.includes(sn)||g.push(sn),g}class jp{constructor(){this.providerId="phone",this._delegate=new se(ry(X.Z.auth()))}static credential(f,g){return se.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}jp.PHONE_SIGN_IN_METHOD=se.PHONE_SIGN_IN_METHOD,jp.PROVIDER_ID=se.PROVIDER_ID;const Pv=De;class Nc{constructor(f,g,b=X.Z.app()){var I;Pv(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Lo(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new Ke.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new xv(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ls,FacebookAuthProvider:Qu,GithubAuthProvider:nh,GoogleAuthProvider:Qa,OAuthProvider:en,SAMLAuthProvider:So,PhoneAuthProvider:jp,PhoneMultiFactorGenerator:vu,RecaptchaVerifier:Nc,TwitterAuthProvider:Mr,Auth:xv,AuthCredential:Ys,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.9")}(X.Z)},6676:function(Je,Ee){!function(L){"use strict";function a(K){return Array.prototype.slice.call(K)}function X(K){return new Promise(function(be,_e){K.onsuccess=function(){be(K.result)},K.onerror=function(){_e(K.error)}})}function k(K,be,_e){var me,Me=new Promise(function(Ge,ke){X(me=K[be].apply(K,_e)).then(Ge,ke)});return Me.request=me,Me}function ue(K,be,_e){var me=k(K,be,_e);return me.then(function(Me){if(Me)return new F(Me,me.request)})}function te(K,be,_e){_e.forEach(function(me){Object.defineProperty(K.prototype,me,{get:function(){return this[be][me]},set:function(Me){this[be][me]=Me}})})}function ie(K,be,_e,me){me.forEach(function(Me){Me in _e.prototype&&(K.prototype[Me]=function(){return k(this[be],Me,arguments)})})}function ve(K,be,_e,me){me.forEach(function(Me){Me in _e.prototype&&(K.prototype[Me]=function(){return this[be][Me].apply(this[be],arguments)})})}function le(K,be,_e,me){me.forEach(function(Me){Me in _e.prototype&&(K.prototype[Me]=function(){return ue(this[be],Me,arguments)})})}function ee(K){this._index=K}function F(K,be){this._cursor=K,this._request=be}function V(K){this._store=K}function J(K){this._tx=K,this.complete=new Promise(function(be,_e){K.oncomplete=function(){be()},K.onerror=function(){_e(K.error)},K.onabort=function(){_e(K.error)}})}function Q(K,be,_e){this._db=K,this.oldVersion=be,this.transaction=new J(_e)}function ce(K){this._db=K}te(ee,"_index",["name","keyPath","multiEntry","unique"]),ie(ee,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(ee,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(F,"_cursor",["direction","key","primaryKey","value"]),ie(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(F.prototype[K]=function(){var be=this,_e=arguments;return Promise.resolve().then(function(){return be._cursor[K].apply(be._cursor,_e),X(be._request).then(function(me){if(me)return new F(me,be._request)})})})}),V.prototype.createIndex=function(){return new ee(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new ee(this._store.index.apply(this._store,arguments))},te(V,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ve(V,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},te(J,"_tx",["objectStoreNames","mode"]),ve(J,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},te(Q,"_db",["name","version","objectStoreNames"]),ve(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),ce.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},te(ce,"_db",["name","version","objectStoreNames"]),ve(ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[V,ee].forEach(function(be){K in be.prototype&&(be.prototype[K.replace("open","iterate")]=function(){var _e=a(arguments),me=_e[_e.length-1],Me=this._store||this._index,Ge=Me[K].apply(Me,_e.slice(0,-1));Ge.onsuccess=function(){me(Ge.result)}})})}),[ee,V].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(be,_e){var me=this,Me=[];return new Promise(function(Ge){me.iterateCursor(be,function(ke){ke?(Me.push(ke.value),void 0===_e||Me.length!=_e?ke.continue():Ge(Me)):Ge(Me)})})})}),L.openDb=function(K,be,_e){var me=k(indexedDB,"open",[K,be]),Me=me.request;return Me&&(Me.onupgradeneeded=function(Ge){_e&&_e(new Q(Me.result,Ge.oldVersion,Me.transaction))}),me.then(function(Ge){return new ce(Ge)})},L.deleteDb=function(K){return k(indexedDB,"deleteDatabase",[K])},Object.defineProperty(L,"__esModule",{value:!0})}(Ee)},7574:(Je,Ee,L)=>{"use strict";L.d(Ee,{y:()=>V});var a=L(7393),k=L(9181),ue=L(6490),ie=L(6554),ve=L(4487);var F=L(2494);let V=(()=>{class Q{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const fe=new Q;return fe.source=this,fe.operator=Te,fe}subscribe(Te,fe,K){const{operator:be}=this,_e=function(Q,ce,Te){if(Q){if(Q instanceof a.L)return Q;if(Q[k.b])return Q[k.b]()}return Q||ce||Te?new a.L(Q,ce,Te):new a.L(ue.c)}(Te,fe,K);if(_e.add(be?be.call(_e,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),F.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(Te){try{return this._subscribe(Te)}catch(fe){F.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=fe),function(Q){for(;Q;){const{closed:ce,destination:Te,isStopped:fe}=Q;if(ce||fe)return!1;Q=Te&&Te instanceof a.L?Te:null}return!0}(Te)?Te.error(fe):console.warn(fe)}}forEach(Te,fe){return new(fe=J(fe))((K,be)=>{let _e;_e=this.subscribe(me=>{try{Te(me)}catch(Me){be(Me),_e&&_e.unsubscribe()}},be,K)})}_subscribe(Te){const{source:fe}=this;return fe&&fe.subscribe(Te)}[ie.L](){return this}pipe(...Te){return 0===Te.length?this:function(Q){return 0===Q.length?ve.y:1===Q.length?Q[0]:function(Te){return Q.reduce((fe,K)=>K(fe),Te)}}(Te)(this)}toPromise(Te){return new(Te=J(Te))((fe,K)=>{let be;this.subscribe(_e=>be=_e,_e=>K(_e),()=>fe(be))})}}return Q.create=ce=>new Q(ce),Q})();function J(Q){if(Q||(Q=F.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(Je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>k});var a=L(2494),X=L(4449);const k={closed:!0,next(ue){},error(ue){if(a.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,X.z)(ue)},complete(){}}},9765:(Je,Ee,L)=>{"use strict";L.d(Ee,{Yc:()=>ve,xQ:()=>le});var a=L(7574),X=L(7393),k=L(5319),ue=L(7971),te=L(8858),ie=L(9181);class ve extends X.L{constructor(V){super(V),this.destination=V}}let le=(()=>{class F extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new ve(this)}lift(J){const Q=new ee(this,this);return Q.operator=J,Q}next(J){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:Q}=this,ce=Q.length,Te=Q.slice();for(let fe=0;fe<ce;fe++)Te[fe].next(J)}}error(J){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=J,this.isStopped=!0;const{observers:Q}=this,ce=Q.length,Te=Q.slice();for(let fe=0;fe<ce;fe++)Te[fe].error(J);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:J}=this,Q=J.length,ce=J.slice();for(let Te=0;Te<Q;Te++)ce[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(J){if(this.closed)throw new ue.N;return super._trySubscribe(J)}_subscribe(J){if(this.closed)throw new ue.N;return this.hasError?(J.error(this.thrownError),k.w.EMPTY):this.isStopped?(J.complete(),k.w.EMPTY):(this.observers.push(J),new te.W(this,J))}asObservable(){const J=new a.y;return J.source=this,J}}return F.create=(V,J)=>new ee(V,J),F})();class ee extends le{constructor(V,J){super(),this.destination=V,this.source=J}next(V){const{destination:J}=this;J&&J.next&&J.next(V)}error(V){const{destination:J}=this;J&&J.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:J}=this;return J?this.source.subscribe(V):k.w.EMPTY}}},8858:(Je,Ee,L)=>{"use strict";L.d(Ee,{W:()=>X});var a=L(5319);class X extends a.w{constructor(ue,te){super(),this.subject=ue,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,te=ue.observers;if(this.subject=null,!te||0===te.length||ue.isStopped||ue.closed)return;const ie=te.indexOf(this.subscriber);-1!==ie&&te.splice(ie,1)}}},7393:(Je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>ve});var a=L(9105),X=L(6490),k=L(5319),ue=L(9181),te=L(2494),ie=L(4449);class ve extends k.w{constructor(F,V,J){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!F){this.destination=X.c;break}if("object"==typeof F){F instanceof ve?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,F,V,J)}}[ue.b](){return this}static create(F,V,J){const Q=new ve(F,V,J);return Q.syncErrorThrowable=!1,Q}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class le extends ve{constructor(F,V,J,Q){super(),this._parentSubscriber=F;let ce,Te=this;(0,a.m)(V)?ce=V:V&&(ce=V.next,J=V.error,Q=V.complete,V!==X.c&&(Te=Object.create(V),(0,a.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=ce,this._error=J,this._complete=Q}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;te.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:J}=te.v;if(this._error)J&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)J?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,ie.z)(F),this.unsubscribe();else{if(this.unsubscribe(),J)throw F;(0,ie.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(J){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw J;(0,ie.z)(J)}}__tryOrSetError(F,V,J){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,J)}catch(Q){return te.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Q,F.syncErrorThrown=!0,!0):((0,ie.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Je,Ee,L)=>{"use strict";L.d(Ee,{w:()=>ie});var a=L(9796),X=L(1555),k=L(9105);const te=(()=>{function le(ee){return Error.call(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee,this}return le.prototype=Object.create(Error.prototype),le})();class ie{constructor(ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=ee)}unsubscribe(){let ee;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:J,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ie)F.remove(this);else if(null!==F)for(let ce=0;ce<F.length;++ce)F[ce].remove(this);if((0,k.m)(J)){V&&(this._unsubscribe=void 0);try{J.call(this)}catch(ce){ee=ce instanceof te?ve(ce.errors):[ce]}}if((0,a.k)(Q)){let ce=-1,Te=Q.length;for(;++ce<Te;){const fe=Q[ce];if((0,X.K)(fe))try{fe.unsubscribe()}catch(K){ee=ee||[],K instanceof te?ee=ee.concat(ve(K.errors)):ee.push(K)}}}if(ee)throw new te(ee)}add(ee){let F=ee;if(!ee)return ie.EMPTY;switch(typeof ee){case"function":F=new ie(ee);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ie)){const Q=F;F=new ie,F._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+ee+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof ie){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const J=this._subscriptions;return null===J?this._subscriptions=[F]:J.push(F),F}remove(ee){const F=this._subscriptions;if(F){const V=F.indexOf(ee);-1!==V&&F.splice(V,1)}}}var le;function ve(le){return le.reduce((ee,F)=>ee.concat(F instanceof te?F.errors:F),[])}ie.EMPTY=((le=new ie).closed=!0,le)},2494:(Je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>X});let a=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=k},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(Je,Ee,L)=>{"use strict";L.d(Ee,{IY:()=>ue,Ds:()=>ie,ft:()=>le});var a=L(7393),X=L(7574),k=L(7444);class ue extends a.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends a.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function le(ee,F){if(F.closed)return;if(ee instanceof X.y)return ee.subscribe(F);let V;try{V=(0,k.s)(ee)(F)}catch(J){F.error(J)}return V}},2441:(Je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>te,N:()=>ie});var a=L(9765),X=L(7574),k=L(5319),ue=L(1307);class te extends X.y{constructor(V,J){super(),this.source=V,this.subjectFactory=J,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new k.w,V.add(this.source.subscribe(new ve(this.getSubject(),this))),V.closed&&(this._connection=null,V=k.w.EMPTY)),V}refCount(){return(0,ue.x)()(this)}}const ie=(()=>{const F=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ve extends a.Yc{constructor(V,J){super(V),this.connectable=J}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const J=V._connection;V._refCount=0,V._subject=null,V._connection=null,J&&J.unsubscribe()}}}},9193:(Je,Ee,L)=>{"use strict";L.d(Ee,{E:()=>X,c:()=>k});var a=L(7574);const X=new a.y(te=>te.complete());function k(te){return te?function(te){return new a.y(ie=>te.schedule(()=>ie.complete()))}(te):X}},4402:(Je,Ee,L)=>{"use strict";L.d(Ee,{D:()=>Te});var a=L(7574),X=L(7444),k=L(5319),ue=L(6554),ve=L(4087),le=L(377),V=L(4072),J=L(9489);function Te(fe,K){return K?function(fe,K){if(null!=fe){if(function(fe){return fe&&"function"==typeof fe[ue.L]}(fe))return function(fe,K){return new a.y(be=>{const _e=new k.w;return _e.add(K.schedule(()=>{const me=fe[ue.L]();_e.add(me.subscribe({next(Me){_e.add(K.schedule(()=>be.next(Me)))},error(Me){_e.add(K.schedule(()=>be.error(Me)))},complete(){_e.add(K.schedule(()=>be.complete()))}}))})),_e})}(fe,K);if((0,V.t)(fe))return function(fe,K){return new a.y(be=>{const _e=new k.w;return _e.add(K.schedule(()=>fe.then(me=>{_e.add(K.schedule(()=>{be.next(me),_e.add(K.schedule(()=>be.complete()))}))},me=>{_e.add(K.schedule(()=>be.error(me)))}))),_e})}(fe,K);if((0,J.z)(fe))return(0,ve.r)(fe,K);if(function(fe){return fe&&"function"==typeof fe[le.hZ]}(fe)||"string"==typeof fe)return function(fe,K){if(!fe)throw new Error("Iterable cannot be null");return new a.y(be=>{const _e=new k.w;let me;return _e.add(()=>{me&&"function"==typeof me.return&&me.return()}),_e.add(K.schedule(()=>{me=fe[le.hZ](),_e.add(K.schedule(function(){if(be.closed)return;let Me,Ge;try{const ke=me.next();Me=ke.value,Ge=ke.done}catch(ke){return void be.error(ke)}Ge?be.complete():(be.next(Me),this.schedule())}))})),_e})}(fe,K)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,K):fe instanceof a.y?fe:new a.y((0,X.s)(fe))}},6693:(Je,Ee,L)=>{"use strict";L.d(Ee,{n:()=>ue});var a=L(7574),X=L(5015),k=L(4087);function ue(te,ie){return ie?(0,k.r)(te,ie):new a.y((0,X.V)(te))}},6682:(Je,Ee,L)=>{"use strict";L.d(Ee,{T:()=>te});var a=L(7574),X=L(4869),k=L(3282),ue=L(6693);function te(...ie){let ve=Number.POSITIVE_INFINITY,le=null,ee=ie[ie.length-1];return(0,X.K)(ee)?(le=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(ve=ie.pop())):"number"==typeof ee&&(ve=ie.pop()),null===le&&1===ie.length&&ie[0]instanceof a.y?ie[0]:(0,k.J)(ve)((0,ue.n)(ie,le))}},5917:(Je,Ee,L)=>{"use strict";L.d(Ee,{of:()=>ue});var a=L(4869),X=L(6693),k=L(4087);function ue(...te){let ie=te[te.length-1];return(0,a.K)(ie)?(te.pop(),(0,k.r)(te,ie)):(0,X.n)(te)}},8002:(Je,Ee,L)=>{"use strict";L.d(Ee,{U:()=>X});var a=L(7393);function X(te,ie){return function(le){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new k(te,ie))}}class k{constructor(ie,ve){this.project=ie,this.thisArg=ve}call(ie,ve){return ve.subscribe(new ue(ie,this.project,this.thisArg))}}class ue extends a.L{constructor(ie,ve,le){super(ie),this.project=ve,this.count=0,this.thisArg=le||this}_next(ie){let ve;try{ve=this.project.call(this.thisArg,ie,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(ve)}}},3282:(Je,Ee,L)=>{"use strict";L.d(Ee,{J:()=>k});var a=L(9773),X=L(4487);function k(ue=Number.POSITIVE_INFINITY){return(0,a.zg)(X.y,ue)}},9773:(Je,Ee,L)=>{"use strict";L.d(Ee,{zg:()=>ue});var a=L(8002),X=L(4402),k=L(5345);function ue(le,ee,F=Number.POSITIVE_INFINITY){return"function"==typeof ee?V=>V.pipe(ue((J,Q)=>(0,X.D)(le(J,Q)).pipe((0,a.U)((ce,Te)=>ee(J,ce,Q,Te))),F)):("number"==typeof ee&&(F=ee),V=>V.lift(new te(le,F)))}class te{constructor(ee,F=Number.POSITIVE_INFINITY){this.project=ee,this.concurrent=F}call(ee,F){return F.subscribe(new ie(ee,this.project,this.concurrent))}}class ie extends k.Ds{constructor(ee,F,V=Number.POSITIVE_INFINITY){super(ee),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ee){this.active<this.concurrent?this._tryNext(ee):this.buffer.push(ee)}_tryNext(ee){let F;const V=this.index++;try{F=this.project(ee,V)}catch(J){return void this.destination.error(J)}this.active++,this._innerSub(F)}_innerSub(ee){const F=new k.IY(this),V=this.destination;V.add(F);const J=(0,k.ft)(ee,F);J!==F&&V.add(J)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ee){this.destination.next(ee)}notifyComplete(){const ee=this.buffer;this.active--,ee.length>0?this._next(ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Je,Ee,L)=>{"use strict";L.d(Ee,{ht:()=>V,QV:()=>ee});var a=L(7393),X=L(9193),k=L(5917),ue=L(7574);class le{constructor(ce,Te,fe){this.kind=ce,this.value=Te,this.error=fe,this.hasValue="N"===ce}observe(ce){switch(this.kind){case"N":return ce.next&&ce.next(this.value);case"E":return ce.error&&ce.error(this.error);case"C":return ce.complete&&ce.complete()}}do(ce,Te,fe){switch(this.kind){case"N":return ce&&ce(this.value);case"E":return Te&&Te(this.error);case"C":return fe&&fe()}}accept(ce,Te,fe){return ce&&"function"==typeof ce.next?this.observe(ce):this.do(ce,Te,fe)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return Q=this.error,new ue.y(Te=>Te.error(Q));case"C":return(0,X.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(ce){return void 0!==ce?new le("N",ce):le.undefinedValueNotification}static createError(ce){return new le("E",void 0,ce)}static createComplete(){return le.completeNotification}}function ee(Q,ce=0){return function(fe){return fe.lift(new F(Q,ce))}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0);class F{constructor(ce,Te=0){this.scheduler=ce,this.delay=Te}call(ce,Te){return Te.subscribe(new V(ce,this.scheduler,this.delay))}}class V extends a.L{constructor(ce,Te,fe=0){super(ce),this.scheduler=Te,this.delay=fe}static dispatch(ce){const{notification:Te,destination:fe}=ce;Te.observe(fe),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new J(ce,this.destination)))}_next(ce){this.scheduleMessage(le.createNext(ce))}_error(ce){this.scheduleMessage(le.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(le.createComplete()),this.unsubscribe()}}class J{constructor(ce,Te){this.notification=ce,this.destination=Te}}},1307:(Je,Ee,L)=>{"use strict";L.d(Ee,{x:()=>X});var a=L(7393);function X(){return function(ie){return ie.lift(new k(ie))}}class k{constructor(ie){this.connectable=ie}call(ie,ve){const{connectable:le}=this;le._refCount++;const ee=new ue(ie,le),F=ve.subscribe(ee);return ee.closed||(ee.connection=le.connect()),F}}class ue extends a.L{constructor(ie,ve){super(ie),this.connectable=ve}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const ve=ie._refCount;if(ve<=0)return void(this.connection=null);if(ie._refCount=ve-1,ve>1)return void(this.connection=null);const{connection:le}=this,ee=ie._connection;this.connection=null,ee&&(!le||ee===le)&&ee.unsubscribe()}}},3101:(Je,Ee,L)=>{"use strict";L.d(Ee,{R:()=>K});var a=L(7574);let X=1;const k=Promise.resolve(),ue={};function te(_e){return _e in ue&&(delete ue[_e],!0)}const ie={setImmediate(_e){const me=X++;return ue[me]=!0,k.then(()=>te(me)&&_e()),me},clearImmediate(_e){te(_e)}};var le=L(6465),F=L(6102);const Q=new class extends F.v{flush(me){this.active=!0,this.scheduled=void 0;const{actions:Me}=this;let Ge,ke=-1,Pt=Me.length;me=me||Me.shift();do{if(Ge=me.execute(me.state,me.delay))break}while(++ke<Pt&&(me=Me.shift()));if(this.active=!1,Ge){for(;++ke<Pt&&(me=Me.shift());)me.unsubscribe();throw Ge}}}(class extends le.o{constructor(me,Me){super(me,Me),this.scheduler=me,this.work=Me}requestAsyncId(me,Me,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(me,Me,Ge):(me.actions.push(this),me.scheduled||(me.scheduled=ie.setImmediate(me.flush.bind(me,null))))}recycleAsyncId(me,Me,Ge=0){if(null!==Ge&&Ge>0||null===Ge&&this.delay>0)return super.recycleAsyncId(me,Me,Ge);0===me.actions.length&&(ie.clearImmediate(Me),me.scheduled=void 0)}});var ce=L(9796);class fe extends a.y{constructor(me,Me=0,Ge=Q){var _e;super(),this.source=me,this.delayTime=Me,this.scheduler=Ge,(!(!(0,ce.k)(_e=Me)&&_e-parseFloat(_e)+1>=0)||Me<0)&&(this.delayTime=0),(!Ge||"function"!=typeof Ge.schedule)&&(this.scheduler=Q)}static create(me,Me=0,Ge=Q){return new fe(me,Me,Ge)}static dispatch(me){const{source:Me,subscriber:Ge}=me;return this.add(Me.subscribe(Ge))}_subscribe(me){return this.scheduler.schedule(fe.dispatch,this.delayTime,{source:this.source,subscriber:me})}}function K(_e,me=0){return function(Ge){return Ge.lift(new be(_e,me))}}class be{constructor(me,Me){this.scheduler=me,this.delay=Me}call(me,Me){return new fe(Me,this.delay,this.scheduler).subscribe(me)}}},3342:(Je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>ue});var a=L(7393);function X(){}var k=L(9105);function ue(ve,le,ee){return function(V){return V.lift(new te(ve,le,ee))}}class te{constructor(le,ee,F){this.nextOrObserver=le,this.error=ee,this.complete=F}call(le,ee){return ee.subscribe(new ie(le,this.nextOrObserver,this.error,this.complete))}}class ie extends a.L{constructor(le,ee,F,V){super(le),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=F||X,this._tapComplete=V||X,(0,k.m)(ee)?(this._context=this,this._tapNext=ee):ee&&(this._context=ee,this._tapNext=ee.next||X,this._tapError=ee.error||X,this._tapComplete=ee.complete||X)}_next(le){try{this._tapNext.call(this._context,le)}catch(ee){return void this.destination.error(ee)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(ee){return void this.destination.error(ee)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4087:(Je,Ee,L)=>{"use strict";L.d(Ee,{r:()=>k});var a=L(7574),X=L(5319);function k(ue,te){return new a.y(ie=>{const ve=new X.w;let le=0;return ve.add(te.schedule(function(){le!==ue.length?(ie.next(ue[le++]),ie.closed||ve.add(this.schedule())):ie.complete()})),ve})}},6465:(Je,Ee,L)=>{"use strict";L.d(Ee,{o:()=>k});var a=L(5319);class X extends a.w{constructor(te,ie){super()}schedule(te,ie=0){return this}}class k extends X{constructor(te,ie){super(te,ie),this.scheduler=te,this.work=ie,this.pending=!1}schedule(te,ie=0){if(this.closed)return this;this.state=te;const ve=this.id,le=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(le,ve,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(le,this.id,ie),this}requestAsyncId(te,ie,ve=0){return setInterval(te.flush.bind(te,this),ve)}recycleAsyncId(te,ie,ve=0){if(null!==ve&&this.delay===ve&&!1===this.pending)return ie;clearInterval(ie)}execute(te,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(te,ie);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ie){let le,ve=!1;try{this.work(te)}catch(ee){ve=!0,le=!!ee&&ee||new Error(ee)}if(ve)return this.unsubscribe(),le}_unsubscribe(){const te=this.id,ie=this.scheduler,ve=ie.actions,le=ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&ve.splice(le,1),null!=te&&(this.id=this.recycleAsyncId(ie,te,null)),this.delay=null}}},6102:(Je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>X});let a=(()=>{class k{constructor(te,ie=k.now){this.SchedulerAction=te,this.now=ie}schedule(te,ie=0,ve){return new this.SchedulerAction(this,te).schedule(ve,ie)}}return k.now=()=>Date.now(),k})();class X extends a{constructor(ue,te=a.now){super(ue,()=>X.delegate&&X.delegate!==this?X.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,te=0,ie){return X.delegate&&X.delegate!==this?X.delegate.schedule(ue,te,ie):super.schedule(ue,te,ie)}flush(ue){const{actions:te}=this;if(this.active)return void te.push(ue);let ie;this.active=!0;do{if(ie=ue.execute(ue.state,ue.delay))break}while(ue=te.shift());if(this.active=!1,ie){for(;ue=te.shift();)ue.unsubscribe();throw ie}}}},3637:(Je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>k});var a=L(6465);const k=new(L(6102).v)(a.o)},7771:(Je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>ie,N:()=>te});var a=L(6465),k=L(6102);const te=new class extends k.v{}(class extends a.o{constructor(le,ee){super(le,ee),this.scheduler=le,this.work=ee}schedule(le,ee=0){return ee>0?super.schedule(le,ee):(this.delay=ee,this.state=le,this.scheduler.flush(this),this)}execute(le,ee){return ee>0||this.closed?super.execute(le,ee):this._execute(le,ee)}requestAsyncId(le,ee,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(le,ee,F):le.flush(this)}}),ie=te},377:(Je,Ee,L)=>{"use strict";L.d(Ee,{hZ:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,Ee,L)=>{"use strict";L.d(Ee,{N:()=>X});const X=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(Je,Ee,L)=>{"use strict";function a(X){setTimeout(()=>{throw X},0)}L.d(Ee,{z:()=>a})},4487:(Je,Ee,L)=>{"use strict";function a(X){return X}L.d(Ee,{y:()=>a})},9796:(Je,Ee,L)=>{"use strict";L.d(Ee,{k:()=>a});const a=Array.isArray||(X=>X&&"number"==typeof X.length)},9489:(Je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>a});const a=X=>X&&"number"==typeof X.length&&"function"!=typeof X},9105:(Je,Ee,L)=>{"use strict";function a(X){return"function"==typeof X}L.d(Ee,{m:()=>a})},1555:(Je,Ee,L)=>{"use strict";function a(X){return null!==X&&"object"==typeof X}L.d(Ee,{K:()=>a})},4072:(Je,Ee,L)=>{"use strict";function a(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}L.d(Ee,{t:()=>a})},4869:(Je,Ee,L)=>{"use strict";function a(X){return X&&"function"==typeof X.schedule}L.d(Ee,{K:()=>a})},7444:(Je,Ee,L)=>{"use strict";L.d(Ee,{s:()=>V});var a=L(5015),X=L(4449),ue=L(377),ie=L(6554),le=L(9489),ee=L(4072),F=L(1555);const V=J=>{if(J&&"function"==typeof J[ie.L])return(J=>Q=>{const ce=J[ie.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(Q)})(J);if((0,le.z)(J))return(0,a.V)(J);if((0,ee.t)(J))return(J=>Q=>(J.then(ce=>{Q.closed||(Q.next(ce),Q.complete())},ce=>Q.error(ce)).then(null,X.z),Q))(J);if(J&&"function"==typeof J[ue.hZ])return(J=>Q=>{const ce=J[ue.hZ]();for(;;){let Te;try{Te=ce.next()}catch(fe){return Q.error(fe),Q}if(Te.done){Q.complete();break}if(Q.next(Te.value),Q.closed)break}return"function"==typeof ce.return&&Q.add(()=>{ce.return&&ce.return()}),Q})(J);{const ce=`You provided ${(0,F.K)(J)?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(Je,Ee,L)=>{"use strict";L.d(Ee,{V:()=>a});const a=X=>k=>{for(let ue=0,te=X.length;ue<te&&!k.closed;ue++)k.next(X[ue]);k.complete()}},520:(Je,Ee,L)=>{"use strict";var a=L(3018);let X=null;function k(){return X}const ve=new a.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,a.Yz7)({factory:ee,token:n,providedIn:"platform"}),n})();function ee(){return(0,a.LFG)(V)}const F=new a.OlP("Location Initialized");let V=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,u){J()?this._history.pushState(t,r,u):this.location.hash=u}replaceState(t,r,u){J()?this._history.replaceState(t,r,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ve))},n.\u0275prov=(0,a.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Q(){return new V((0,a.LFG)(ve))}function ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,a.Yz7)({factory:be,token:n,providedIn:"root"}),n})();function be(n){const e=(0,a.LFG)(ve).location;return new me((0,a.LFG)(le),e&&e.origin||"")}const _e=new a.OlP("appBaseHref");let me=(()=>{class n extends K{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ce(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fe(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${r}${u}`:r}pushState(t,r,u,d){const p=this.prepareExternalUrl(u+fe(d));this._platformLocation.pushState(t,r,p)}replaceState(t,r,u,d){const p=this.prepareExternalUrl(u+fe(d));this._platformLocation.replaceState(t,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,u;null===(u=(r=this._platformLocation).historyGo)||void 0===u||u.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends K{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ce(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,u,d){let p=this.prepareExternalUrl(u+fe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,r,p)}replaceState(t,r,u,d){let p=this.prepareExternalUrl(u+fe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,u;null===(u=(r=this._platformLocation).historyGo)||void 0===u||u.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const u=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(vt(u)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,vt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",u=null){this._platformStrategy.pushState(u,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(r)),u)}replaceState(t,r="",u=null){this._platformStrategy.replaceState(u,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(r)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,u;null===(u=(r=this._platformStrategy).historyGo)||void 0===u||u.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(u=>u(t,r))}subscribe(t,r,u){return this._subject.subscribe({next:t,error:r,complete:u})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(K),a.LFG(le))},n.normalizeQueryParams=fe,n.joinWithSlash=ce,n.stripTrailingSlash=Te,n.\u0275prov=(0,a.Yz7)({factory:ke,token:n,providedIn:"root"}),n})();function ke(){return new Ge((0,a.LFG)(K),(0,a.LFG)(le))}function vt(n){return n.replace(/\/index.html$/,"")}var It=(()=>((It=It||{})[It.Zero=0]="Zero",It[It.One=1]="One",It[It.Two=2]="Two",It[It.Few=3]="Few",It[It.Many=4]="Many",It[It.Other=5]="Other",It))();const _r=a.kL8;class qn{}let Sn=(()=>{class n extends qn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(_r(r||this.locale)(t)){case It.Zero:return"zero";case It.One:return"one";case It.Two:return"two";case It.Few:return"few";case It.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function pt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[u,d]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(u.trim()===e)return decodeURIComponent(d)}return null}class Io{constructor(e,t,r,u){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ai=(()=>{class n{constructor(t,r,u){this._viewContainer=t,this._template=r,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((u,d,p)=>{if(null==u.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Io(null,this._ngForOf,-1,-1),null===p?void 0:p),w=new Cr(u,v);r.push(w)}else if(null==p)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const v=this._viewContainer.get(d);this._viewContainer.move(v,p);const w=new Cr(u,v);r.push(w)}});for(let u=0;u<r.length;u++)this._perViewChange(r[u].view,r[u].record);for(let u=0,d=this._viewContainer.length;u<d;u++){const p=this._viewContainer.get(u);p.context.index=u,p.context.count=d,p.context.ngForOf=this._ngForOf}t.forEachIdentityChange(u=>{this._viewContainer.get(u.currentIndex).context.$implicit=u.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Cr{constructor(e,t){this.record=e,this.view=t}}let $r=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Di{constructor(){this.$implicit=null,this.ngIf=null}}function Xt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let li=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:qn,useClass:Sn}]}),n})();function za(n){return"server"===n}let Wa=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new bp((0,a.LFG)(ve),window)}),n})();class bp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let u=r.currentNode;for(;u;){const d=u.shadowRoot;if(d){const p=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(p)return p}u=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(r-d[0],u-d[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fa(this.window.history)||fa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ka{}class Ya extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ya,X||(X=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ls=ls||document.querySelector("base"),ls?ls.getAttribute("href"):null);return null==t?null:function(n){$i=$i||document.createElement("a"),$i.setAttribute("href",n);const e=$i.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pt(document.cookie,e)}}let $i,ls=null;const Qu=new a.OlP("TRANSITION_ID"),nh=[{provide:a.ip1,useFactory:function(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=k(),u=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<u.length;d++)r.remove(u[d])})}},deps:[Qu,ve,a.zs3],multi:!0}];class St{static init(){(0,a.VLi)(new St)}addToWindow(e){a.dqk.getAngularTestability=(r,u=!0)=>{const d=e.findTestabilityInTree(r,u);if(null==d)throw new Error("Could not find testability for element.");return d},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const u=a.dqk.getAllAngularTestabilities();let d=u.length,p=!1;const v=function(w){p=p||w,d--,0==d&&r(p)};u.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const u=e.getTestability(t);return null!=u?u:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let pa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=new a.OlP("EventManagerPlugins");let Js=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(u=>u.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,u){return this._findPluginFor(r).addEventListener(t,r,u)}addGlobalEventListener(t,r,u){return this._findPluginFor(r).addGlobalEventListener(t,r,u)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const u=this._plugins;for(let d=0;d<u.length;d++){const p=u[d];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(hs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Mo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const u=k().getGlobalEventTarget(this._doc,e);if(!u)throw new Error(`Unsupported event target ${u} for event ${t}`);return this.addEventListener(u,t,r)}}let ec=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),r.add(u))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),fs=(()=>{class n extends ec{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,u){t.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,u.push(r.appendChild(p))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,u)=>{this._addStylesToHost(t,u,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bl))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ve))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function bl(n){k().remove(n)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function Xs(n,e,t){for(let r=0;r<e.length;r++){let u=e[r];Array.isArray(u)?Xs(n,u,t):(u=u.replace(At,n),t.push(u))}return t}function oh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ps=(()=>{class n{constructor(t,r,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Gi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let u=this.rendererByCompId.get(r.id);return u||(u=new eo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,u)),u.applyToHost(t),u}case 1:case a.ifc.ShadowDom:return new Si(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const u=Xs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Js),a.LFG(fs),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Gi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ie[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,u){if(u){t=u+":"+t;const d=Ie[u];d?e.setAttributeNS(d,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const u=Ie[r];u?e.removeAttributeNS(u,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,u){u&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,u&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,oh(r)):this.eventManager.addEventListener(e,t,oh(r))}}class eo extends Gi{constructor(e,t,r,u){super(e),this.component=r;const d=Xs(u+"-"+r.id,r.styles,[]);t.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(At,u+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(At,n)}(u+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Si extends Gi{constructor(e,t,r,u){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Xs(u.id,u.styles,[]);for(let p=0;p<d.length;p++){const v=document.createElement("style");v.textContent=d[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Cl=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,u){return t.addEventListener(r,u,!1),()=>this.removeEventListener(t,r,u)}removeEventListener(t,r,u){return t.removeEventListener(r,u)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ve))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const gs=["alt","control","meta","shift"],ac={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gr=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,u){const d=n.parseEventName(r),p=n.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,d.domEventName,p))}static parseEventName(t){const r=t.toLowerCase().split("."),u=r.shift();if(0===r.length||"keydown"!==u&&"keyup"!==u)return null;const d=n._normalizeKey(r.pop());let p="";if(gs.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),p+=w+".")}),p+=d,0!=r.length||0===d.length)return null;const v={};return v.domEventName=u,v.fullKey=p,v}static getEventFullKey(t){let r="",u=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&nu.hasOwnProperty(e)&&(e=nu[e]))}return ac[e]||e}(t);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),gs.forEach(d=>{d!=u&&xr[d](t)&&(r+=d+".")}),r+=u,r}static eventCallback(t,r,u){return d=>{n.getEventFullKey(d)===t&&u.runGuarded(()=>r(d))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ve))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const dc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){Ya.makeCurrent(),St.init()},multi:!0},{provide:ve,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),to=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:hs,useClass:Cl,multi:!0,deps:[ve,a.R0b,a.Lbi]},{provide:hs,useClass:Gr,multi:!0,deps:[ve]},[],{provide:ps,useClass:ps,deps:[Js,fs,a.AFp]},{provide:a.FYo,useExisting:ps},{provide:ec,useExisting:fs},{provide:fs,useClass:fs,deps:[ve]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Js,useClass:Js,deps:[hs,a.R0b]},{provide:Ka,useClass:pa,deps:[]},[]];let au=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Qu,useExisting:a.AFp},nh]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:to,imports:[li,a.hGG]}),n})();"undefined"!=typeof window&&window;var zr=L(8939),Ht=L(4402),rt=L(5917),Wr=L(9765),ba=L(7971);class kn extends Wr.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ba.N;return this._value}next(e){super.next(this._value=e)}}var du=L(4869),zn=L(9796),Kr=L(7393);class Dp extends Kr.L{notifyNext(e,t,r,u,d){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ca extends Kr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fh=L(7444),$t=L(7574);function wl(n,e,t,r,u=new Ca(n,t,r)){if(!u.closed)return e instanceof $t.y?e.subscribe(u):(0,fh.s)(e)(u)}var El=L(6693);const Ro={};class Tl{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new ph(e,this.resultSelector))}}class ph extends Dp{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ro),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(wl(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const u=this.values,p=this.toRespond?u[r]===Ro?--this.toRespond:this.toRespond:0;u[r]=t,0===p&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const ms=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var zi=L(3282);function ys(...n){return(0,zi.J)(1)((0,rt.of)(...n))}var ur=L(9193);function _s(n){return new $t.y(e=>{let t;try{t=n()}catch(u){return void e.error(u)}return(t?(0,Ht.D)(t):(0,ur.c)()).subscribe(e)})}var Fo=L(2441),st=L(8002),vs=L(5345);function _n(n,e){return"function"==typeof e?t=>t.pipe(_n((r,u)=>(0,Ht.D)(n(r,u)).pipe((0,st.U)((d,p)=>e(r,d,u,p))))):t=>t.lift(new gh(n))}class gh{constructor(e){this.project=e}call(e,t){return t.subscribe(new mh(e,this.project))}}class mh extends vs.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(u){return void this.destination.error(u)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new vs.IY(this),u=this.destination;u.add(r),this.innerSubscription=(0,vs.ft)(e,r),this.innerSubscription!==r&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Mp=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function yh(n){return e=>0===n?(0,ur.c)():e.lift(new tn(n))}class tn{constructor(e){if(this.total=e,this.total<0)throw new Mp}call(e,t){return t.subscribe(new xp(e,this.total))}}class xp extends Kr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function hu(...n){const e=n[n.length-1];return(0,du.K)(e)?(n.pop(),t=>ys(n,t,e)):t=>ys(n,t)}function _c(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(u){return u.lift(new _h(n,e,t))}}class _h{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new vh(e,this.accumulator,this.seed,this.hasSeed))}}class vh extends Kr.L{constructor(e,t,r,u){super(e),this.accumulator=t,this._seed=r,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(u){this.destination.error(u)}this.seed=r,this.destination.next(r)}}function fi(n,e){return function(r){return r.lift(new Al(n,e))}}class Al{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new bh(e,this.predicate,this.thisArg))}}class bh extends Kr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function no(n){return function(t){const r=new fu(n),u=t.lift(r);return r.caught=u}}class fu{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ch(e,this.selector,this.caught))}}class Ch extends vs.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const r=new vs.IY(this);this.add(r);const u=(0,vs.ft)(t,r);u!==r&&this.add(u)}}}var Fn=L(9773);function vc(n,e){return(0,Fn.zg)(n,e,1)}function cn(n){return function(t){return 0===n?(0,ur.c)():t.lift(new bc(n))}}class bc{constructor(e){if(this.total=e,this.total<0)throw new Mp}call(e,t){return t.subscribe(new Cc(e,this.total))}}class Cc extends Kr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,u=this.count++;t.length<r?t.push(e):t[u%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,u=this.ring;for(let d=0;d<r;d++){const p=t++%r;e.next(u[p])}}e.complete()}}function wa(n=xi){return e=>e.lift(new wh(n))}class wh{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new pi(e,this.errorFactory))}}class pi extends Kr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function xi(){return new ms}function Oi(n=null){return e=>e.lift(new Lo(n))}class Lo{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Or(e,this.defaultValue))}}class Or extends Kr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var wc=L(4487);function Wi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((u,d)=>n(u,d,r)):wc.y,yh(1),t?Oi(e):wa(()=>new ms))}var gi=L(3342),Eh=L(1307),Th=L(5319);class A{constructor(e){this.callback=e}call(e,t){return t.subscribe(new x(e,this.callback))}}class x extends Kr.L{constructor(e,t){super(e),this.add(new Th.w(t))}}class U{constructor(e,t){this.id=e,this.url=t}}class Y extends U{constructor(e,t,r="imperative",u=null){super(e,t),this.navigationTrigger=r,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class se extends U{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends U{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ze extends U{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends U{constructor(e,t,r,u){super(e,t),this.urlAfterRedirects=r,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends U{constructor(e,t,r,u){super(e,t),this.urlAfterRedirects=r,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gt extends U{constructor(e,t,r,u,d){super(e,t),this.urlAfterRedirects=r,this.state=u,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wn extends U{constructor(e,t,r,u){super(e,t),this.urlAfterRedirects=r,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends U{constructor(e,t,r,u){super(e,t),this.urlAfterRedirects=r,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ea{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Et="primary";class ow{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ws(n){return new ow(n)}const Ec="ngNavigationCancelingError";function Ta(n){const e=Error("NavigationCancelingError: "+n);return e[Ec]=!0,e}function Cn(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const u={};for(let d=0;d<r.length;d++){const p=r[d],v=n[d];if(p.startsWith(":"))u[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,r.length),posParams:u}}function Uo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let u;for(let d=0;d<t.length;d++)if(u=t[d],!Zo(n[u],e[u]))return!1;return!0}function Zo(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((u,d)=>r[d]===u)}return n===e}function gu(n){return Array.prototype.concat.apply([],n)}function Rm(n){return n.length>0?n[n.length-1]:null}function Ln(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Bo(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Ht.D)(Promise.resolve(n)):(0,rt.of)(n)}const Es={exact:function Np(n,e,t){if(!mu(n.segments,e.segments)||!xl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Np(n.children[r],e.children[r],t))return!1;return!0},subset:Ia},Dl={exact:function(n,e){return Uo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zo(n[t],e[t]))},ignored:()=>!0};function jo(n,e,t){return Es[t.paths](n.root,e.root,t.matrixParams)&&Dl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ia(n,e,t){return Ml(n,e,e.segments,t)}function Ml(n,e,t,r){if(n.segments.length>t.length){const u=n.segments.slice(0,t.length);return!(!mu(u,t)||e.hasChildren()||!xl(u,t,r))}if(n.segments.length===t.length){if(!mu(n.segments,t)||!xl(n.segments,t,r))return!1;for(const u in e.children)if(!n.children[u]||!Ia(n.children[u],e.children[u],r))return!1;return!0}{const u=t.slice(0,n.segments.length),d=t.slice(n.segments.length);return!!(mu(n.segments,u)&&xl(n.segments,u,r)&&n.children[Et])&&Ml(n.children[Et],e,d,r)}}function xl(n,e,t){return e.every((r,u)=>Dl[t](n[u].parameters,r.parameters))}class qo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ws(this.queryParams)),this._queryParamMap}toString(){return fv.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ln(t,(r,u)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}}class ro{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ws(this.parameters)),this._parameterMap}toString(){return Pl(this)}}function mu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Ah{}class Rp{parse(e){const t=new mv(e);return new qo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Ol(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(u=>`${Ic(t)}=${Ic(u)}`).join("&"):`${Ic(t)}=${Ic(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const fv=new Rp;function Dh(n){return n.segments.map(e=>Pl(e)).join("/")}function Ol(n,e){if(!n.hasChildren())return Dh(n);if(e){const t=n.children[Et]?Ol(n.children[Et],!1):"",r=[];return Ln(n.children,(u,d)=>{d!==Et&&r.push(`${d}:${Ol(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Ln(n.children,(r,u)=>{u===Et&&(t=t.concat(e(r,u)))}),Ln(n.children,(r,u)=>{u!==Et&&(t=t.concat(e(r,u)))}),t}(n,(r,u)=>u===Et?[Ol(n.children[Et],!1)]:[`${u}:${Ol(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${Dh(n)}/${t[0]}`:`${Dh(n)}/(${t.join("//")})`}}function yu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(n){return yu(n).replace(/%3B/gi,";")}function Sh(n){return yu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mh(n){return decodeURIComponent(n)}function xh(n){return Mh(n.replace(/\+/g,"%20"))}function Pl(n){return`${Sh(n.path)}${function(n){return Object.keys(n).map(e=>`;${Sh(e)}=${Sh(n[e])}`).join("")}(n.parameters)}`}const Vm=/^[^\/()?;=#]+/;function Nl(n){const e=n.match(Vm);return e?e[0]:""}const _u=/^[^=?&#]+/,gv=/^[^?&#]+/;class mv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new Dt(e,t)),r}parseSegment(){const e=Nl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ro(Mh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=Nl(this.remaining);u&&(r=u,this.capture(r))}e[Mh(t)]=Mh(r)}parseQueryParam(e){const t=function(n){const e=n.match(_u);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(gv);return e?e[0]:""}(this.remaining);p&&(r=p,this.capture(r))}const u=xh(t),d=xh(r);if(e.hasOwnProperty(u)){let p=e[u];Array.isArray(p)||(p=[p],e[u]=p),p.push(d)}else e[u]=d}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nl(this.remaining),u=this.remaining[r.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let d;r.indexOf(":")>-1?(d=r.substr(0,r.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=Et);const p=this.parseChildren();t[d]=1===Object.keys(p).length?p[Et]:new Dt([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Um{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ts(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ts(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Aa(e,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==e)}pathFromRoot(e){return Aa(e,this._root).map(t=>t.value)}}function Ts(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ts(n,t);if(r)return r}return null}function Aa(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Aa(n,t);if(r.length)return r.unshift(e),r}return[]}class io{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zm extends Um{constructor(e,t){super(e),this.snapshot=t,Oh(this,e)}toString(){return this.snapshot.toString()}}function Bm(n,e){const t=function(n,e){const p=new Sc([],{},{},"",{},Et,e,null,n.root,-1,{});return new jm("",new io(p,[]))}(n,e),r=new kn([new ro("",{})]),u=new kn({}),d=new kn({}),p=new kn({}),v=new kn(""),w=new Da(r,u,p,v,d,Et,e,t.root);return w.snapshot=t.root,new Zm(new io(w,[]),t)}class Da{constructor(e,t,r,u,d,p,v,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=u,this.data=d,this.outlet=p,this.component=v,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>ws(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>ws(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rl(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const u=t[r],d=t[r-1];if(u.routeConfig&&""===u.routeConfig.path)r--;else{if(d.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Sc{constructor(e,t,r,u,d,p,v,w,D,P,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=u,this.data=d,this.outlet=p,this.component=v,this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=P,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jm extends Um{constructor(e,t){super(t),this.url=e,Oh(this,t)}toString(){return vv(this._root)}}function Oh(n,e){e.value._routerState=n,e.children.forEach(t=>Oh(n,t))}function vv(n){const e=n.children.length>0?` { ${n.children.map(vv).join(", ")} } `:"";return`${n.value}${e}`}function kl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Uo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Uo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Uo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Uo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vu(n,e){return Uo(n.params,e.params)&&function(n,e){return mu(n,e)&&n.every((t,r)=>Uo(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||vu(n.parent,e.parent))}function mi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const u=function(n,e,t){return e.children.map(r=>{for(const u of t.children)if(n.shouldReuseRoute(r.value,u.value.snapshot))return mi(n,r,u);return mi(n,r)})}(n,e,t);return new io(r,u)}{if(n.shouldAttach(e.value)){const d=n.retrieve(e.value);if(null!==d){const p=d.route;return Mc(e,p),p}}const r=function(n){return new Da(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}(e.value),u=e.children.map(d=>mi(n,d));return new io(r,u)}}function Mc(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Mc(n.children[t],e.children[t])}function $o(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ph(n){return"object"==typeof n&&null!=n&&n.outlets}function Hm(n,e,t,r,u){let d={};return r&&Ln(r,(p,v)=>{d[v]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),new qo(t.root===n?e:xc(t.root,n,e),d,u)}function xc(n,e,t){const r={};return Ln(n.children,(u,d)=>{r[d]=u===e?t:xc(u,e,t)}),new Dt(n.segments,r)}class Nh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$o(r[0]))throw new Error("Root segment cannot have matrix parameters");const u=r.find(Ph);if(u&&u!==Rm(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function zm(n,e,t){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return Oc(n,e,t);const r=function(n,e,t){let r=0,u=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;u<n.segments.length;){if(r>=t.length)return d;const p=n.segments[u],v=t[r];if(Ph(v))break;const w=`${v}`,D=r<t.length-1?t[r+1]:null;if(u>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!Lh(w,D,p))return d;r+=2}else{if(!Lh(w,{},p))return d;r++}u++}return{match:!0,pathIndex:u,commandIndex:r}}(n,e,t),u=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const d=new Dt(n.segments.slice(0,r.pathIndex),{});return d.children[Et]=new Dt(n.segments.slice(r.pathIndex),n.children),Oc(d,0,u)}return r.match&&0===u.length?new Dt(n.segments,{}):r.match&&!n.hasChildren()?kh(n,e,t):r.match?Oc(n,0,u):kh(n,e,t)}function Oc(n,e,t){if(0===t.length)return new Dt(n.segments,{});{const r=function(n){return Ph(n[0])?n[0].outlets:{[Et]:n}}(t),u={};return Ln(r,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(u[p]=zm(n.children[p],e,d))}),Ln(n.children,(d,p)=>{void 0===r[p]&&(u[p]=d)}),new Dt(n.segments,u)}}function kh(n,e,t){const r=n.segments.slice(0,e);let u=0;for(;u<t.length;){const d=t[u];if(Ph(d)){const w=Fh(d.outlets);return new Dt(r,w)}if(0===u&&$o(t[0])){r.push(new ro(n.segments[e].path,Vp(t[0]))),u++;continue}const p=Ph(d)?d.outlets[Et]:`${d}`,v=u<t.length-1?t[u+1]:null;p&&v&&$o(v)?(r.push(new ro(p,Vp(v))),u+=2):(r.push(new ro(p,{})),u++)}return new Dt(r,{})}function Fh(n){const e={};return Ln(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=kh(new Dt([],{}),0,t))}),e}function Vp(n){const e={};return Ln(n,(t,r)=>e[r]=`${t}`),e}function Lh(n,e,t){return n==t.path&&Uo(e,t.parameters)}class ln{constructor(e,t,r,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const u=Dc(t);e.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,u[p],r),delete u[p]}),Ln(u,(d,p)=>{this.deactivateRouteAndItsChildren(d,r)})}deactivateRoutes(e,t,r){const u=e.value,d=t?t.value:null;if(u===d)if(u.component){const p=r.getContext(u.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,r);else d&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const u=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),u=r&&e.value.component?r.children:t,d=Dc(e);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],u);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const u=Dc(t);e.children.forEach(d=>{this.activateRoutes(d,u[d.value.outlet],r),this.forwardEvent(new Ea(d.value.snapshot))}),e.children.length&&this.forwardEvent(new Ki(e.value.snapshot))}activateRoutes(e,t,r){const u=e.value,d=t?t.value:null;if(kl(u),u===d)if(u.component){const p=r.getOrCreateContext(u.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,r);else if(u.component){const p=r.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),Km(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(u.snapshot),w=v?v.module.componentFactoryResolver:null;p.attachRef=null,p.route=u,p.resolver=w,p.outlet&&p.outlet.activateWith(u,w),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,r)}}function Km(n){kl(n.value),n.children.forEach(Km)}class bu{constructor(e,t){this.routes=e,this.module=t}}function Is(n){return"function"==typeof n}function Cu(n){return n instanceof qo}const Ll=Symbol("INITIAL_VALUE");function Ho(){return _n(n=>function(...n){let e,t;return(0,du.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,zn.k)(n[0])&&(n=n[0]),(0,El.n)(n,t).lift(new Tl(e))}(n.map(e=>e.pipe(yh(1),hu(Ll)))).pipe(_c((e,t)=>{let r=!1;return t.reduce((u,d,p)=>u!==Ll?u:(d===Ll&&(r=!0),r||!1!==d&&p!==t.length-1&&!Cu(d)?u:d),e)},Ll),fi(e=>e!==Ll),(0,st.U)(e=>Cu(e)?e:!0===e),yh(1)))}let Pr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:function(){return[$l]},encapsulation:2}),n})();function Uh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ym(r,Vl(e,r))}}function Ym(n,e){n.children&&Uh(n.children,e)}function Vl(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function lr(n){const e=n.children&&n.children.map(lr),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=Pr),t}function wr(n){return n.outlet||Et}function Zh(n,e){const t=n.filter(r=>wr(r)===e);return t.push(...n.filter(r=>wr(r)!==e)),t}const Qm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Qm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(e.matcher||Cn)(t,n,e);if(!d)return Object.assign({},Qm);const p={};Ln(d.posParams,(w,D)=>{p[D]=w.path});const v=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:v,positionalParamSegments:null!==(r=d.posParams)&&void 0!==r?r:{}}}function Ul(n,e,t,r,u="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>qh(n,e,r)&&wr(r)!==Et)}(n,t,r)){const p=new Dt(e,function(n,e,t,r){const u={};u[Et]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const d of t)if(""===d.path&&wr(d)!==Et){const p=new Dt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,u[wr(d)]=p}return u}(n,e,r,new Dt(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>qh(n,e,r))}(n,t,r)){const p=new Dt(n.segments,function(n,e,t,r,u,d){const p={};for(const v of r)if(qh(n,t,v)&&!u[wr(v)]){const w=new Dt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===d?n.segments.length:e.length,p[wr(v)]=w}return Object.assign(Object.assign({},u),p)}(n,e,t,r,n.children,u));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const d=new Dt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}function qh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $h(n,e,t,r){return!!(wr(n)===r||r!==Et&&qh(e,t,n))&&("**"===n.path||Bh(e,n,t).matched)}function Xm(n,e,t){return 0===e.length&&!n.children[t]}class dr{constructor(e){this.segmentGroup=e||null}}class Sa{constructor(e){this.urlTree=e}}function Pc(n){return new $t.y(e=>e.error(new dr(n)))}function ey(n){return new $t.y(e=>e.error(new Sa(n)))}function ty(n){return new $t.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class ny{constructor(e,t,r,u,d){this.configLoader=t,this.urlSerializer=r,this.urlTree=u,this.config=d,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=Ul(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Et).pipe((0,st.U)(d=>this.createUrlTree(Yr(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(no(d=>{if(d instanceof Sa)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof dr?this.noMatchError(d):d}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Et).pipe((0,st.U)(u=>this.createUrlTree(Yr(u),e.queryParams,e.fragment))).pipe(no(u=>{throw u instanceof dr?this.noMatchError(u):u}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const u=e.segments.length>0?new Dt([],{[Et]:e}):e;return new qo(u,t,r)}expandSegmentGroup(e,t,r,u){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(d=>new Dt([],d))):this.expandSegment(e,r,t,r.segments,u,!0)}expandChildren(e,t,r){const u=[];for(const d of Object.keys(r.children))"primary"===d?u.unshift(d):u.push(d);return(0,Ht.D)(u).pipe(vc(d=>{const p=r.children[d],v=Zh(t,d);return this.expandSegmentGroup(e,v,p,d).pipe((0,st.U)(w=>({segment:w,outlet:d})))}),_c((d,p)=>(d[p.outlet]=p.segment,d),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((u,d)=>n(u,d,r)):wc.y,cn(1),t?Oi(e):wa(()=>new ms))}())}expandSegment(e,t,r,u,d,p){return(0,Ht.D)(r).pipe(vc(v=>this.expandSegmentAgainstRoute(e,t,r,v,u,d,p).pipe(no(D=>{if(D instanceof dr)return(0,rt.of)(null);throw D}))),Wi(v=>!!v),no((v,w)=>{if(v instanceof ms||"EmptyError"===v.name){if(Xm(t,u,d))return(0,rt.of)(new Dt([],{}));throw new dr(t)}throw v}))}expandSegmentAgainstRoute(e,t,r,u,d,p,v){return $h(u,t,d,p)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(e,t,u,d,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,u,d,p):Pc(t):Pc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,u,d,p){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,u,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,u,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,u){const d=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ey(d):this.lineralizeSegments(r,d).pipe((0,Fn.zg)(p=>{const v=new Dt(p,{});return this.expandSegment(e,v,t,p,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,u,d,p){const{matched:v,consumedSegments:w,lastChild:D,positionalParamSegments:P}=Bh(t,u,d);if(!v)return Pc(t);const R=this.applyRedirectCommands(w,u.redirectTo,P);return u.redirectTo.startsWith("/")?ey(R):this.lineralizeSegments(u,R).pipe((0,Fn.zg)(G=>this.expandSegment(e,t,r,G.concat(d.slice(D)),p,!1)))}matchSegmentAgainstRoute(e,t,r,u,d){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,rt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,st.U)(G=>(r._loadedConfig=G,new Dt(u,{})))):(0,rt.of)(new Dt(u,{}));const{matched:p,consumedSegments:v,lastChild:w}=Bh(t,r,u);if(!p)return Pc(t);const D=u.slice(w);return this.getChildConfig(e,r,u).pipe((0,Fn.zg)(R=>{const G=R.module,z=R.routes,{segmentGroup:oe,slicedSegments:Re}=Ul(t,v,D,z),Be=new Dt(oe.segments,oe.children);if(0===Re.length&&Be.hasChildren())return this.expandChildren(G,z,Be).pipe((0,st.U)(Vt=>new Dt(v,Vt)));if(0===z.length&&0===Re.length)return(0,rt.of)(new Dt(v,{}));const at=wr(r)===d;return this.expandSegment(G,Be,z,Re,at?Et:d,!0).pipe((0,st.U)(vn=>new Dt(v.concat(vn.segments),vn.children)))}))}getChildConfig(e,t,r){return t.children?(0,rt.of)(new bu(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,rt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Fn.zg)(u=>{return u?this.configLoader.load(e.injector,t).pipe((0,st.U)(d=>(t._loadedConfig=d,d))):(n=t,new $t.y(e=>e.error(Ta(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,rt.of)(new bu([],e))}runCanLoadGuards(e,t,r){const u=t.canLoad;if(!u||0===u.length)return(0,rt.of)(!0);const d=u.map(p=>{const v=e.get(p);let w;if((n=v)&&Is(n.canLoad))w=v.canLoad(t,r);else{if(!Is(v))throw new Error("Invalid CanLoad guard");w=v(t,r)}var n;return Bo(w)});return(0,rt.of)(d).pipe(Ho(),(0,gi.b)(p=>{if(!Cu(p))return;const v=Ta(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw v.url=p,v}),(0,st.U)(p=>!0===p))}lineralizeSegments(e,t){let r=[],u=t.root;for(;;){if(r=r.concat(u.segments),0===u.numberOfChildren)return(0,rt.of)(r);if(u.numberOfChildren>1||!u.children[Et])return ty(e.redirectTo);u=u.children[Et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,u){const d=this.createSegmentGroup(e,t.root,r,u);return new qo(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ln(e,(u,d)=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);r[d]=t[v]}else r[d]=u}),r}createSegmentGroup(e,t,r,u){const d=this.createSegments(e,t.segments,r,u);let p={};return Ln(t.children,(v,w)=>{p[w]=this.createSegmentGroup(e,v,r,u)}),new Dt(d,p)}createSegments(e,t,r,u){return t.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,u):this.findOrReturn(d,r))}findPosParam(e,t,r){const u=r[t.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return u}findOrReturn(e,t){let r=0;for(const u of t){if(u.path===e.path)return t.splice(r),u;r++}return e}}function Yr(n){const e={};for(const r of Object.keys(n.children)){const d=Yr(n.children[r]);(d.segments.length>0||d.hasChildren())&&(e[r]=d)}return function(n){if(1===n.numberOfChildren&&n.children[Et]){const e=n.children[Et];return new Dt(n.segments.concat(e.segments),e.children)}return n}(new Dt(n.segments,e))}class iy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zh{constructor(e,t){this.component=e,this.route=t}}function Sv(n,e,t){const r=n._root;return Ma(r,e?e._root:null,t,[r.value])}function Vn(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ma(n,e,t,r,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=Dc(e);return n.children.forEach(p=>{(function(n,e,t,r,u={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mu(n.url,e.url)||!Uo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vu(n,e)||!Uo(n.queryParams,e.queryParams);case"paramsChange":default:return!vu(n,e)}}(p,d,d.routeConfig.runGuardsAndResolvers);w?u.canActivateChecks.push(new iy(r)):(d.data=p.data,d._resolvedData=p._resolvedData),Ma(n,e,d.component?v?v.children:null:t,r,u),w&&v&&v.outlet&&v.outlet.isActivated&&u.canDeactivateChecks.push(new zh(v.outlet.component,p))}else p&&so(e,v,u),u.canActivateChecks.push(new iy(r)),Ma(n,null,d.component?v?v.children:null:t,r,u)})(p,d[p.value.outlet],t,r.concat([p.value]),u),delete d[p.value.outlet]}),Ln(d,(p,v)=>so(p,t.getContext(v),u)),u}function so(n,e,t){const r=Dc(n),u=n.value;Ln(r,(d,p)=>{so(d,u.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new zh(u.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,u))}class y{}function f(n){return new $t.y(e=>e.error(n))}class b{constructor(e,t,r,u,d,p){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const e=Ul(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Et);if(null===t)return null;const r=new Sc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new io(r,t),d=new jm(this.url,u);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(e){const t=e.value,r=Rl(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const d of Object.keys(t.children)){const p=t.children[d],v=Zh(e,d),w=this.processSegmentGroup(v,p,d);if(null===w)return null;r.push(...w)}const u=re(r);return u.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet)),u}processSegment(e,t,r,u){for(const d of e){const p=this.processSegmentAgainstRoute(d,t,r,u);if(null!==p)return p}return Xm(t,r,u)?[]:null}processSegmentAgainstRoute(e,t,r,u){if(e.redirectTo||!$h(e,t,r,u))return null;let d,p=[],v=[];if("**"===e.path){const z=r.length>0?Rm(r).parameters:{};d=new Sc(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qe(e),wr(e),e.component,e,xe(t),ze(t)+r.length,Mt(e))}else{const z=Bh(t,e,r);if(!z.matched)return null;p=z.consumedSegments,v=r.slice(z.lastChild),d=new Sc(p,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qe(e),wr(e),e.component,e,xe(t),ze(t)+p.length,Mt(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:P}=Ul(t,p,v,w.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);var n;if(0===P.length&&D.hasChildren()){const z=this.processChildren(w,D);return null===z?null:[new io(d,z)]}if(0===w.length&&0===P.length)return[new io(d,[])];const R=wr(e)===u,G=this.processSegment(w,D,P,R?Et:u);return null===G?null:[new io(d,G)]}}function B(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function re(n){const e=[],t=new Set;for(const r of n){if(!B(r)){e.push(r);continue}const u=e.find(d=>r.value.routeConfig===d.value.routeConfig);void 0!==u?(u.children.push(...r.children),t.add(u)):e.push(r)}for(const r of t){const u=re(r.children);e.push(new io(r.value,u))}return e.filter(r=>!t.has(r))}function xe(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ze(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function qe(n){return n.data||{}}function Mt(n){return n.resolve||{}}function Wh(n){return _n(e=>{const t=n(e);return t?(0,Ht.D)(t).pipe((0,st.U)(()=>e)):(0,rt.of)(e)})}class ay extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const jl=new a.OlP("ROUTES");class $p{constructor(e,t,r,u){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=u}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const u=this.loadModuleFactory(t.loadChildren).pipe((0,st.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=d.create(e);return new bu(gu(p.injector.get(jl,void 0,a.XFs.Self|a.XFs.Optional)).map(lr),p)}),no(d=>{throw t._loader$=void 0,d}));return t._loader$=new Fo.c(u,()=>new Wr.xQ).pipe((0,Eh.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Ht.D)(this.loader.load(e)):Bo(e()).pipe((0,Fn.zg)(t=>t instanceof a.YKP?(0,rt.of)(t):(0,Ht.D)(this.compiler.compileModuleAsync(t))))}}class Nv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xa,this.attachRef=null}}class xa{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Nv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Rv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lw(n){throw n}function kv(n,e,t){return e.parse("/")}function dw(n,e){return(0,rt.of)(null)}const zA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qn=(()=>{class n{constructor(t,r,u,d,p,v,w,D){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=u,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wr.xQ,this.errorHandler=lw,this.malformedUriErrorHandler=kv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dw,afterPreactivation:dw},this.urlHandlingStrategy=new Rv,this.routeReuseStrategy=new ay,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(a.h0i),this.console=p.get(a.c2e);const G=p.get(a.R0b);this.isNgZoneEnabled=G instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new qo(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $p(v,w,z=>this.triggerEvent(new Kn(z)),z=>this.triggerEvent(new bs(z))),this.routerState=Bm(this.currentUrlTree,this.rootComponentType),this.transitions=new kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(fi(u=>0!==u.id),(0,st.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),_n(u=>{let d=!1,p=!1;return(0,rt.of)(u).pipe((0,gi.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_n(v=>{const w=this.browserUrlTree.toString(),D=!this.navigated||v.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return Hp(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,rt.of)(v).pipe(_n(R=>{const G=this.transitions.getValue();return r.next(new Y(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),G!==this.transitions.getValue()?ur.E:Promise.resolve(R)}),function(n,e,t,r){return _n(u=>function(n,e,t,r,u){return new ny(n,e,t,r,u).apply()}(n,e,t,u.extractedUrl,r).pipe((0,st.U)(d=>Object.assign(Object.assign({},u),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gi.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,e,t,r,u){return(0,Fn.zg)(d=>function(n,e,t,r,u="emptyOnly",d="legacy"){try{const p=new b(n,e,t,r,u,d).recognize();return null===p?f(new y):(0,rt.of)(p)}catch(p){return f(p)}}(n,e,d.urlAfterRedirects,t(d.urlAfterRedirects),r,u).pipe((0,st.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gi.b)(R=>{"eager"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(R.urlAfterRedirects,R),this.browserUrlTree=R.urlAfterRedirects);const G=new je(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(G)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:G,extractedUrl:z,source:oe,restoredState:Re,extras:Be}=v,at=new Y(G,this.serializeUrl(z),oe,Re);r.next(at);const Ft=Bm(z,this.rootComponentType).snapshot;return(0,rt.of)(Object.assign(Object.assign({},v),{targetSnapshot:Ft,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),ur.E}),Wh(v=>{const{targetSnapshot:w,id:D,extractedUrl:P,rawUrl:R,extras:{skipLocationChange:G,replaceUrl:z}}=v;return this.hooks.beforePreactivation(w,{navigationId:D,appliedUrlTree:P,rawUrlTree:R,skipLocationChange:!!G,replaceUrl:!!z})}),(0,gi.b)(v=>{const w=new Ut(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),(0,st.U)(v=>Object.assign(Object.assign({},v),{guards:Sv(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Fn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:u,guards:{canActivateChecks:d,canDeactivateChecks:p}}=t;return 0===p.length&&0===d.length?(0,rt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Ht.D)(n).pipe((0,Fn.zg)(u=>function(n,e,t,r,u){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,rt.of)(!0);const p=d.map(v=>{const w=Vn(v,e,u);let D;if(function(n){return n&&Is(n.canDeactivate)}(w))D=Bo(w.canDeactivate(n,e,t,r));else{if(!Is(w))throw new Error("Invalid CanDeactivate guard");D=Bo(w(n,e,t,r))}return D.pipe(Wi())});return(0,rt.of)(p).pipe(Ho())}(u.component,u.route,t,e,r)),Wi(u=>!0!==u,!0))}(p,r,u,n).pipe((0,Fn.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,r){return(0,Ht.D)(e).pipe(vc(u=>ys(function(n,e){return null!==n&&e&&e(new Vo(n)),(0,rt.of)(!0)}(u.route.parent,r),function(n,e){return null!==n&&e&&e(new Cs(n)),(0,rt.of)(!0)}(u.route,r),function(n,e,t){const r=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>_s(()=>{const v=p.guards.map(w=>{const D=Vn(w,p.node,t);let P;if(function(n){return n&&Is(n.canActivateChild)}(D))P=Bo(D.canActivateChild(r,n));else{if(!Is(D))throw new Error("Invalid CanActivateChild guard");P=Bo(D(r,n))}return P.pipe(Wi())});return(0,rt.of)(v).pipe(Ho())}));return(0,rt.of)(d).pipe(Ho())}(n,u.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,rt.of)(!0);const u=r.map(d=>_s(()=>{const p=Vn(d,e,t);let v;if(function(n){return n&&Is(n.canActivate)}(p))v=Bo(p.canActivate(e,n));else{if(!Is(p))throw new Error("Invalid CanActivate guard");v=Bo(p(e,n))}return v.pipe(Wi())}));return(0,rt.of)(u).pipe(Ho())}(n,u.route,t))),Wi(u=>!0!==u,!0))}(r,d,n,e):(0,rt.of)(v)),(0,st.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,gi.b)(v=>{if(Cu(v.guardsResult)){const D=Ta(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw D.url=v.guardsResult,D}const w=new Gt(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(w)}),fi(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Wh(v=>{if(v.guards.canActivateChecks.length)return(0,rt.of)(v).pipe((0,gi.b)(w=>{const D=new Wn(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),_n(w=>{let D=!1;return(0,rt.of)(w).pipe(function(n,e){return(0,Fn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:u}}=t;if(!u.length)return(0,rt.of)(t);let d=0;return(0,Ht.D)(u).pipe(vc(p=>function(n,e,t,r){return function(n,e,t,r){const u=Object.keys(n);if(0===u.length)return(0,rt.of)({});const d={};return(0,Ht.D)(u).pipe((0,Fn.zg)(p=>function(n,e,t,r){const u=Vn(n,e,r);return Bo(u.resolve?u.resolve(e,t):u(e,t))}(n[p],e,t,r).pipe((0,gi.b)(v=>{d[p]=v}))),cn(1),(0,Fn.zg)(()=>Object.keys(d).length===u.length?(0,rt.of)(d):ur.E))}(n._resolve,n,e,r).pipe((0,st.U)(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),Rl(n,t).resolve),null)))}(p.route,r,n,e)),(0,gi.b)(()=>d++),cn(1),(0,Fn.zg)(p=>d===u.length?(0,rt.of)(t):ur.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gi.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,gi.b)(w=>{const D=new cr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}))}),Wh(v=>{const{targetSnapshot:w,id:D,extractedUrl:P,rawUrl:R,extras:{skipLocationChange:G,replaceUrl:z}}=v;return this.hooks.afterPreactivation(w,{navigationId:D,appliedUrlTree:P,rawUrlTree:R,skipLocationChange:!!G,replaceUrl:!!z})}),(0,st.U)(v=>{const w=function(n,e,t){const r=mi(n,e._root,t?t._root:void 0);return new Zm(r,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:w})}),(0,gi.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new ln(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,gi.b)({next(){d=!0},complete(){d=!0}}),function(n){return e=>e.lift(new A(n))}(()=>{var v;if(!d&&!p){const w=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,w)):this.cancelNavigationTransition(u,w)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===u.id&&(this.currentNavigation=null)}),no(v=>{if(p=!0,function(n){return n&&n[Ec]}(v)){const w=Cu(v.url);w||(this.navigated=!0,this.restoreHistory(u,!0));const D=new Ae(u.id,this.serializeUrl(u.extractedUrl),v.message);r.next(D),w?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),R={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hp(u.source)};this.scheduleNavigation(P,"imperative",null,R,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const w=new Ze(u.id,this.serializeUrl(u.extractedUrl),v);r.next(w);try{u.resolve(this.errorHandler(v))}catch(D){u.reject(D)}}return ur.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:u,state:d,urlTree:p}=r,v={replaceUrl:!0};if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(v.state=w)}this.scheduleNavigation(p,u,d,v)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const u=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!u||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Uh(t),this.config=t.map(lr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:u,queryParams:d,fragment:p,queryParamsHandling:v,preserveFragment:w}=r,D=u||this.routerState.root,P=w?this.currentUrlTree.fragment:p;let R=null;switch(v){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=d||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,e,t,r,u){if(0===t.length)return Hm(e.root,e.root,e,r,u);const d=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nh(!0,0,n);let e=0,t=!1;const r=n.reduce((u,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const v={};return Ln(d.outlets,(w,D)=>{v[D]="string"==typeof w?w.split("/"):w}),[...u,{outlets:v}]}if(d.segmentPath)return[...u,d.segmentPath]}return"string"!=typeof d?[...u,d]:0===p?(d.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?t=!0:".."===v?e++:""!=v&&u.push(v))}),u):[...u,d]},[]);return new Nh(t,e,r)}(t);if(d.toRoot())return Hm(e.root,new Dt([],{}),e,r,u);const p=function(n,e,t){if(n.isAbsolute)return new Gm(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const d=t.snapshot._urlSegment;return new Gm(d,d===e.root,0)}const r=$o(n.commands[0])?0:1;return function(n,e,t){let r=n,u=e,d=t;for(;d>u;){if(d-=u,r=r.parent,!r)throw new Error("Invalid number of '../'");u=r.segments.length}return new Gm(r,!1,u-d)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(d,e,n),v=p.processChildren?Oc(p.segmentGroup,p.index,d.commands):zm(p.segmentGroup,p.index,d.commands);return Hm(p.segmentGroup,v,e,r,u)}(D,this.currentUrlTree,t,R,null!=P?P:null)}navigateByUrl(t,r={skipLocationChange:!1}){const u=Cu(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(u){r=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return r}isActive(t,r){let u;if(u=!0===r?Object.assign({},zA):!1===r?Object.assign({},hw):r,Cu(t))return jo(this.currentUrlTree,t,u);const d=this.parseUrl(t);return jo(this.currentUrlTree,d,u)}removeEmptyProps(t){return Object.keys(t).reduce((r,u)=>{const d=t[u];return null!=d&&(r[u]=d),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,u,d,p){var v,w;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),P=Hp(r)&&D&&!Hp(D.source),z=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===t.toString();if(P&&z)return Promise.resolve(!0);let oe,Re,Be;p?(oe=p.resolve,Re=p.reject,Be=p.promise):Be=new Promise((vn,Vt)=>{oe=vn,Re=Vt});const at=++this.navigationId;let Ft;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Ft=u&&u.\u0275routerPageId?u.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Ft=0,this.setTransition({id:at,targetPageId:Ft,source:r,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:d,resolve:oe,reject:Re,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(vn=>Promise.reject(vn))}setBrowserUrl(t,r){const u=this.urlSerializer.serialize(t),d=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(u)||r.extras.replaceUrl?this.location.replaceState(u,"",d):this.location.go(u,"",d)}restoreHistory(t,r=!1){var u,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const u=new Ae(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.DyG),a.LFG(Ah),a.LFG(xa),a.LFG(Ge),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Hp(n){return"imperative"!==n}let Eu=(()=>{class n{constructor(t,r,u,d,p){this.router=t,this.route=r,this.commands=[],this.onChanges=new Wr.xQ,null==u&&d.setAttribute(p.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Tu(this.skipLocationChange),replaceUrl:Tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qn),a.Y36(Da),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),n})(),Fv=(()=>{class n{constructor(t,r,u){this.router=t,this.route=r,this.locationStrategy=u,this.commands=[],this.onChanges=new Wr.xQ,this.subscription=t.events.subscribe(d=>{d instanceof se&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,u,d,p){if(0!==t||r||u||d||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:Tu(this.skipLocationChange),replaceUrl:Tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qn),a.Y36(Da),a.Y36(K))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&t&&(a.Ikx("href",r.href,a.LSH),a.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),n})();function Tu(n){return""===n||!!n}let Lv=(()=>{class n{constructor(t,r,u,d,p,v){this.router=t,this.element=r,this.renderer=u,this.cdr=d,this.link=p,this.linkWithHref=v,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof se&&this.update()})}ngAfterContentInit(){(0,rt.of)(this.links.changes,this.linksWithHrefs.changes,(0,rt.of)(null)).pipe((0,zi.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(u=>!!u).map(u=>u.onChanges);this.linkInputChangesSubscription=(0,Ht.D)(r).pipe((0,zi.J)()).subscribe(u=>{this.isActive!==this.isLinkActive(this.router)(u)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(u=>!!u)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return u=>t.isActive(u.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qn),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Eu,8),a.Y36(Fv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,u){if(1&t&&(a.Suo(u,Eu,5),a.Suo(u,Fv,5)),2&t){let d;a.iGM(d=a.CRH())&&(r.links=d),a.iGM(d=a.CRH())&&(r.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[a.TTD]}),n})(),$l=(()=>{class n{constructor(t,r,u,d,p){this.parentContexts=t,this.location=r,this.resolver=u,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=d||Et,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,w=new pw(t,v,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xa),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class pw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Da?this.route:e===xa?this.childContexts:this.parent.get(e,t)}}class cy{}class Gp{preload(e,t){return(0,rt.of)(null)}}let zp=(()=>{class n{constructor(t,r,u,d,p){this.router=t,this.injector=d,this.preloadingStrategy=p,this.loader=new $p(r,u,D=>t.triggerEvent(new Kn(D)),D=>t.triggerEvent(new bs(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof se),vc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const u=[];for(const d of r)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;u.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?u.push(this.preloadConfig(t,d)):d.children&&u.push(this.processRoutes(t,d.children));return(0,Ht.D)(u).pipe((0,zi.J)(),(0,st.U)(d=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,rt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Fn.zg)(d=>(r._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qn),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(cy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ly=(()=>{class n{constructor(t,r,u={}){this.router=t,this.viewportScroller=r,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof se&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qn),a.LFG(Wa),a.LFG(void 0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Rc=new a.OlP("ROUTER_CONFIGURATION"),dy=new a.OlP("ROUTER_FORROOT_GUARD"),WA=[Ge,{provide:Ah,useClass:Rp},{provide:Qn,useFactory:function(n,e,t,r,u,d,p,v={},w,D){const P=new Qn(null,n,e,t,r,u,d,gu(p));return w&&(P.urlHandlingStrategy=w),D&&(P.routeReuseStrategy=D),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,P),v.enableTracing&&P.events.subscribe(R=>{var G,z;null===(G=console.group)||void 0===G||G.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(z=console.groupEnd)||void 0===z||z.call(console)}),P},deps:[Ah,xa,Ge,a.zs3,a.v3s,a.Sil,jl,Rc,[class{},new a.FiY],[class{},new a.FiY]]},xa,{provide:Da,useFactory:function(n){return n.routerState.root},deps:[Qn]},{provide:a.v3s,useClass:a.EAV},zp,Gp,class{preload(e,t){return t().pipe(no(()=>(0,rt.of)(null)))}},{provide:Rc,useValue:{enableTracing:!1}}];function yw(){return new a.PXZ("Router",Qn)}let Kh=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[WA,Uv(t),{provide:dy,useFactory:Vv,deps:[[Qn,new a.FiY,new a.tp0]]},{provide:Rc,useValue:r||{}},{provide:K,useFactory:_w,deps:[le,[new a.tBr(_e),new a.FiY],Rc]},{provide:ly,useFactory:KA,deps:[Qn,Wa,Rc]},{provide:cy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Gp},{provide:a.PXZ,multi:!0,useFactory:yw},[hy,{provide:a.ip1,multi:!0,useFactory:QA,deps:[hy]},{provide:ao,useFactory:JA,deps:[hy]},{provide:a.tb,multi:!0,useExisting:ao}]]}}static forChild(t){return{ngModule:n,providers:[Uv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dy,8),a.LFG(Qn,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function KA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ly(n,e,t)}function _w(n,e,t={}){return t.useHash?new Me(n,e):new me(n,e)}function Vv(n){return"guarded"}function Uv(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:jl,multi:!0,useValue:n}]}let hy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wr.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const u=new Promise(v=>r=v),d=this.injector.get(Qn),p=this.injector.get(Rc);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),r(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,rt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),d.initialNavigation()):r(!0),u})}bootstrapListener(t){const r=this.injector.get(Rc),u=this.injector.get(zp),d=this.injector.get(ly),p=this.injector.get(Qn),v=this.injector.get(a.z2F);t===v.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&p.initialNavigation(),u.setUpPreloading(),d.init(),p.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function QA(n){return n.appInitializer.bind(n)}function JA(n){return n.bootstrapListener.bind(n)}const ao=new a.OlP("Router Initializer");let tD=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-auth"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[$l],styles:[""]}),n})();var nD=L(3637),_i=L(7823);function Zv(){return n=>n.lift(new bw)}class bw{call(e,t){return t.subscribe(new rD(e))}}class rD extends Kr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class sD{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ct(e,this.compare,this.keySelector))}}class Ct extends Kr.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:u}=this;t=u?u(e):e}catch(u){return this.destination.error(u)}let r=!1;if(this.hasKey)try{const{compare:u}=this;r=u(this.key,t)}catch(u){return this.destination.error(u)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}L(8426);var $e,Cw=L(3394),pe=L(8239),Qr=L(8026),Kp=L(3910),kc=L(5422),Ot=L(3854),Iu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wo={},Yp=Yp||{},Tt=Iu||self;function Qp(){}function ww(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function As(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Yh="closure_uid_"+(1e9*Math.random()>>>0),Bv=0;function KM(n,e,t){return n.call.apply(n.bind,arguments)}function aD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,r),n.apply(e,u)}}return function(){return n.apply(e,arguments)}}function Nr(n,e,t){return(Nr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KM:aD).apply(null,arguments)}function jv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,u,d){for(var p=Array(arguments.length-2),v=2;v<arguments.length;v++)p[v-2]=arguments[v];return e.prototype[u].apply(r,p)}}function Hl(){this.s=this.s,this.o=this.o}var Tw={};Hl.prototype.s=!1,Hl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Yh)&&n[Yh]||(n[Yh]=++Bv)}(this);delete Tw[n]}},Hl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Iw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},py=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,u="string"==typeof n?n.split(""):n;for(let d=0;d<r;d++)d in u&&e.call(t,u[d],d,n)};function uD(n){return Array.prototype.concat.apply([],arguments)}function Aw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qv(n){return/^[\s\xa0]*$/.test(n)}var Qi,cD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yi(n,e){return-1!=n.indexOf(e)}function Dw(n,e){return n<e?-1:n>e?1:0}e:{var lD=Tt.navigator;if(lD){var dD=lD.userAgent;if(dD){Qi=dD;break e}}Qi=""}function Sw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Au(n){const e={};for(const t in n)e[t]=n[t];return e}var gy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mw(n,e){let t,r;for(let u=1;u<arguments.length;u++){for(t in r=arguments[u],r)n[t]=r[t];for(let d=0;d<gy.length;d++)t=gy[d],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function my(n){return my[" "](n),n}my[" "]=Qp;var Qh,n,xw=Yi(Qi,"Opera"),Fc=Yi(Qi,"Trident")||Yi(Qi,"MSIE"),Ow=Yi(Qi,"Edge"),Oa=Ow||Fc,Hv=Yi(Qi,"Gecko")&&!(Yi(Qi.toLowerCase(),"webkit")&&!Yi(Qi,"Edge"))&&!(Yi(Qi,"Trident")||Yi(Qi,"MSIE"))&&!Yi(Qi,"Edge"),hD=Yi(Qi.toLowerCase(),"webkit")&&!Yi(Qi,"Edge");function fD(){var n=Tt.document;return n?n.documentMode:void 0}e:{var Gv="",yy=(n=Qi,Hv?/rv:([^\);]+)(\)|;)/.exec(n):Ow?/Edge\/([\d\.]+)/.exec(n):Fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hD?/WebKit\/(\S+)/.exec(n):xw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yy&&(Gv=yy?yy[1]:""),Fc){var zv=fD();if(null!=zv&&zv>parseFloat(Gv)){Qh=String(zv);break e}}Qh=Gv}var pD={};function Jp(){return e=pD,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=cD(String(Qh)).split("."),t=cD("9").split("."),r=Math.max(e.length,t.length);for(let p=0;0==n&&p<r;p++){var u=e[p]||"",d=t[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;n=Dw(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Dw(0==u[2].length,0==d[2].length)||Dw(u[2],d[2]),u=u[3],d=d[3]}while(0==n)}return 0<=n}();var e}var Jh=Tt.document&&Fc&&(fD()||parseInt(Qh,10))||void 0,Xp=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",Qp,e),Tt.removeEventListener("test",Qp,e)}catch(t){}return n}();function Jn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function eg(n,e){if(Jn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Hv){e:{try{my(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&eg.Z.h.call(this)}}Jn.prototype.h=function(){this.defaultPrevented=!0},Jr(eg,Jn);var Pw={2:"touch",3:"pen",4:"mouse"};eg.prototype.h=function(){eg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xh="closure_listenable_"+(1e6*Math.random()|0),Wv=0;function Kv(n,e,t,r,u){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=u,this.key=++Wv,this.ca=this.fa=!1}function tg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Gl(n){this.src=n,this.g={},this.h=0}function Yv(n,e){var t=e.type;if(t in n.g){var d,r=n.g[t],u=Iw(r,e);(d=0<=u)&&Array.prototype.splice.call(r,u,1),d&&(tg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vy(n,e,t,r){for(var u=0;u<n.length;++u){var d=n[u];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==r)return u}return-1}Gl.prototype.add=function(n,e,t,r,u){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var p=vy(n,e,r,u);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new Kv(e,this.src,d,!!r,u)).fa=t,n.push(e)),e};var Nw="closure_lm_"+(1e6*Math.random()|0),by={};function Qv(n,e,t,r,u){if(r&&r.once)return Fw(n,e,t,r,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Qv(n,e[d],t,r,u);return null}return t=Cy(t),n&&n[Xh]?n.N(e,t,As(r)?!!r.capture:!!r,u):Rw(n,e,t,!1,r,u)}function Rw(n,e,t,r,u,d){if(!e)throw Error("Invalid event type");var p=As(u)?!!u.capture:!!u,v=Uw(n);if(v||(n[Nw]=v=new Gl(n)),(t=v.add(e,t,r,p,d)).proxy)return t;if(r=function(){var e=gD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Xp||(u=p),void 0===u&&(u=!1),n.addEventListener(e.toString(),r,u);else if(n.attachEvent)n.attachEvent(Vw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Fw(n,e,t,r,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Fw(n,e[d],t,r,u);return null}return t=Cy(t),n&&n[Xh]?n.O(e,t,As(r)?!!r.capture:!!r,u):Rw(n,e,t,!0,r,u)}function Lw(n,e,t,r,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Lw(n,e[d],t,r,u);else r=As(r)?!!r.capture:!!r,t=Cy(t),n&&n[Xh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vy(d=n.g[e],t,r,u))&&(tg(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=Uw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vy(e,t,r,u)),(t=-1<n?e[n]:null)&&Pi(t))}function Pi(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xh])Yv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Vw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Uw(e))?(Yv(t,n),0==t.h&&(t.src=null,e[Nw]=null)):tg(n)}}}function Vw(n){return n in by?by[n]:by[n]="on"+n}function gD(n,e){if(n.ca)n=!0;else{e=new eg(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Pi(n),n=t.call(r,e)}return n}function Uw(n){return(n=n[Nw])instanceof Gl?n:null}var Zw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cy(n){return"function"==typeof n?n:(n[Zw]||(n[Zw]=function(e){return n.handleEvent(e)}),n[Zw])}function Xr(){Hl.call(this),this.i=new Gl(this),this.P=this,this.I=null}function ei(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Jn(e,n);else if(e instanceof Jn)e.target=e.target||n;else{var u=e;Mw(e=new Jn(r,n),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var p=e.g=t[d];u=ef(p,r,!0,e)&&u}if(u=ef(p=e.g=n,r,!0,e)&&u,u=ef(p,r,!1,e)&&u,t)for(d=0;d<t.length;d++)u=ef(p=e.g=t[d],r,!1,e)&&u}function ef(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.ca&&p.capture==t){var v=p.listener,w=p.ia||p.src;p.fa&&Yv(n.i,p),u=!1!==v.call(w,r)&&u}}return u&&!r.defaultPrevented}Jr(Xr,Hl),Xr.prototype[Xh]=!0,Xr.prototype.removeEventListener=function(n,e,t,r){Lw(this,n,e,t,r)},Xr.prototype.M=function(){if(Xr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)tg(t[r]);delete n.g[e],n.h--}}this.I=null},Xr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wy=Tt.JSON.stringify;function mD(){var n=Xv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jv,Bw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jw,n=>n.reset());class jw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _D(n){Tt.setTimeout(()=>{throw n},0)}function Ey(n,e){Jv||function(){var n=Tt.Promise.resolve(void 0);Jv=function(){n.then(bD)}}(),Ty||(Jv(),Ty=!0),Xv.add(n,e)}var Ty=!1,Xv=new class{constructor(){this.h=this.g=null}add(e,t){const r=Bw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function bD(){for(var n;n=mD();){try{n.h.call(n.g)}catch(t){_D(t)}var e=Bw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ty=!1}function Ds(n,e){Xr.call(this),this.h=n||1,this.g=e||Tt,this.j=Nr(this.kb,this),this.l=Date.now()}function ng(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function eb(n,e,t){if("function"==typeof n)t&&(n=Nr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Nr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function qw(n){n.g=eb(()=>{n.g=null,n.i&&(n.i=!1,qw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(Ds,Xr),($e=Ds.prototype).da=!1,$e.S=null,$e.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ei(this,"tick"),this.da&&(ng(this),this.start()))}},$e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.M=function(){Ds.Z.M.call(this),ng(this),delete this.g};class QM extends Hl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qw(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tf(n){Hl.call(this),this.h=n,this.g={}}Jr(tf,Hl);var $w=[];function Hw(n,e,t,r){Array.isArray(t)||(t&&($w[0]=t.toString()),t=$w);for(var u=0;u<t.length;u++){var d=Qv(e,t[u],r||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function Gw(n){Sw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pi(e)},n),n.g={}}function nf(){this.g=!0}function Du(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var u=r[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<u.length;p++)u[p]=""}}}return wy(t)}catch(v){return e}}(n,t)+(r?" "+r:"")})}tf.prototype.M=function(){tf.Z.M.call(this),Gw(this)},tf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nf.prototype.Aa=function(){this.g=!1},nf.prototype.info=function(){};var Su={},Iy=null;function rg(){return Iy=Iy||new Xr}function zw(n){Jn.call(this,Su.Ma,n)}function ig(n){const e=rg();ei(e,new zw(e,n))}function Ay(n,e){Jn.call(this,Su.STAT_EVENT,n),this.stat=e}function Ji(n){const e=rg();ei(e,new Ay(e,n))}function Ww(n,e){Jn.call(this,Su.Na,n),this.size=e}function rf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}Su.Ma="serverreachability",Jr(zw,Jn),Su.STAT_EVENT="statevent",Jr(Ay,Jn),Su.Na="timingevent",Jr(Ww,Jn);var sg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dy(){}function Pa(){}Dy.prototype.h=null;var Kw,Vc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ib(){Jn.call(this,"d")}function sb(){Jn.call(this,"c")}function Mu(){}function sf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new tf(this),this.P=og,this.W=new Ds(n=Oa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new of}function of(){this.i=null,this.g="",this.h=!1}Jr(ib,Jn),Jr(sb,Jn),Jr(Mu,Dy),Mu.prototype.g=function(){return new XMLHttpRequest},Mu.prototype.i=function(){return{}},Kw=new Mu;var og=45e3,ob={},af={};function Sy(n,e,t){n.K=1,n.v=lf(Ra(e)),n.s=t,n.U=!0,Yw(n,null)}function Yw(n,e){n.F=Date.now(),ag(n),n.A=Ra(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),gb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new of,n.g=Tb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new QM(Nr(n.Ia,n,n.g),n.O)),Hw(n.V,n.g,"readystatechange",n.gb),e=n.H?Au(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ig(1),function(n,e,t,r,u,d){n.info(function(){if(n.g)if(d)for(var p="",v=d.split("&"),w=0;w<v.length;w++){var D=v[w].split("=");if(1<D.length){var P=D[0];D=D[1];var R=P.split("_");p=2<=R.length&&"type"==R[1]?p+(P+"=")+D+"&":p+(P+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+r+") [attempt "+u+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ab(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Qw(n,e,t){let u,r=!0;for(;!n.I&&n.C<t.length;){if(u=ub(n,t),u==af){4==e&&(n.o=4,Ji(14),r=!1),Du(n.j,n.m,null,"[Incomplete Response]");break}if(u==ob){n.o=4,Ji(15),Du(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Du(n.j,n.m,u,null),cb(n,u)}ab(n)&&u!=af&&u!=ob&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hc(e),e.L=!0,Ji(11))):(Du(n.j,n.m,t,"[Invalid Chunked Response]"),Uc(n),Na(n))}function ub(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?af:(t=Number(e.substring(t,r)),isNaN(t)?ob:(r+=1)+t>e.length?af:(e=e.substr(r,t),n.C=r+t,e))}function ag(n){n.Y=Date.now()+n.P,Jw(n,n.P)}function Jw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rf(Nr(n.eb,n),e)}function ug(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Na(n){0==n.l.G||n.I||Ql(n.l,n)}function Uc(n){ug(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ng(n.W),Gw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function cb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||yb(t.i,n)))if(t.I=n.N,!n.J&&yb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var u=r;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=rf(Nr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Pu(t),Oy(t)}$c(t),Ji(18)}if(1>=mb(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else co(t,11)}else if((n.J||t.g==n)&&Pu(t),!qv(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let D=u[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const P=D[3];null!=P&&(t.ma=P,t.h.info("VER="+t.ma));const R=D[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const G=D[5];null!=G&&"number"==typeof G&&0<G&&(t.K=r=1.5*G,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const oe=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var d=r.i;!d.g&&(Yi(oe,"spdy")||Yi(oe,"quic")||Yi(oe,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(_b(d,d.h),d.h=null))}if(r.D){const Re=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Re&&(r.sa=Re,dn(r.F,r.D,Re))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((r=t).oa=ed(r,r.H?r.la:null,r.W),p.J){OD(r.i,p);var v=p,w=r.K;w&&v.setTimeout(w),v.B&&(ug(v),ag(v)),r.g=p}else Ny(r);0<t.l.length&&Bc(t)}else"stop"!=D[0]&&"close"!=D[0]||co(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?co(t,7):Eb(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}ig(4)}catch(D){}}function Zc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ww(n)||"string"==typeof n)py(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ww(n)||"string"==typeof n){t=[];for(var r=n.length,u=0;u<r;u++)t.push(u)}else for(u in t=[],r=0,n)t[r++]=u;u=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ww(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var d=0;d<u;d++)e.call(void 0,r[d],t&&t[d],n)}}function uf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof uf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function lb(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];zl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var u={};for(t=e=0;e<n.g.length;)zl(u,r=n.g[e])||(n.g[t++]=r,u[r]=1),e++;n.g.length=t}}function zl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}($e=sf.prototype).setTimeout=function(n){this.P=n},$e.gb=function(n){n=n.target;const e=this.L;e&&3==Ou(n)?e.l():this.Ia(n)},$e.Ia=function(n){try{if(n==this.g)e:{const P=Ou(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>P)&&(3!=P||Oa||this.g&&(this.h.h||this.g.ga()||hg(this.g)))){this.I||4!=P||7==e||ig(8==e||0>=R?3:2),ug(this);var t=this.g.ba();this.N=t;t:if(ab(this)){var r=hg(this.g);n="";var u=r.length,d=4==Ou(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uc(this),Na(this);var p="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:d&&e==u-1});r.splice(0,u),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,r,u,d,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.X,P,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,w=this.g;if((v=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qv(v)){var D=v;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Ji(12),Uc(this),Na(this);break e}Du(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cb(this,t)}this.U?(Qw(this,P,p),Oa&&this.i&&3==P&&(Hw(this.V,this.W,"tick",this.fb),this.W.start())):(Du(this.j,this.m,p,null),cb(this,p)),4==P&&Uc(this),this.i&&!this.I&&(4==P?Ql(this.l,this):(this.i=!1,ag(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),Uc(this),Na(this)}}}catch(P){}},$e.fb=function(){if(this.g){var n=Ou(this.g),e=this.g.ga();this.C<e.length&&(ug(this),Qw(this,n,e),this.i&&4!=n&&ag(this))}},$e.cancel=function(){this.I=!0,Uc(this)},$e.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ig(3),Ji(17)),Uc(this),this.o=2,Na(this)):Jw(this,this.Y-n)},($e=uf.prototype).R=function(){lb(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},$e.T=function(){return lb(this),this.g.concat()},$e.get=function(n,e){return zl(this.h,n)?this.h[n]:e},$e.set=function(n,e){zl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},$e.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var u=t[r],d=this.get(u);n.call(e,d,u,this)}};var Xw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wl){this.g=void 0!==e?e:n.g,an(this,n.j),this.s=n.s,cf(this,n.i),db(this,n.m),this.l=n.l,e=n.h;var t=new Kl;t.i=e.i,e.g&&(t.g=new uf(e.g),t.h=e.h),ka(this,t),this.o=n.o}else n&&(t=String(n).match(Xw))?(this.g=!!e,an(this,t[1]||"",!0),this.s=cg(t[2]||""),cf(this,t[3]||"",!0),db(this,t[4]),this.l=cg(t[5]||"",!0),ka(this,t[6]||"",!0),this.o=cg(t[7]||"")):(this.g=!!e,this.h=new Kl(null,this.g))}function Ra(n){return new Wl(n)}function an(n,e,t){n.j=t?cg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cf(n,e,t){n.i=t?cg(e,!0):e}function db(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ka(n,e,t){e instanceof Kl?(n.h=e,function(n,e){e&&!n.j&&(xu(n),n.i=null,n.g.forEach(function(t,r){var u=r.toLowerCase();r!=u&&(fb(this,r),gb(this,u,t))},n)),n.j=e}(n.h,n.g)):(t||(e=df(e,DD)),n.h=new Kl(e,n.g))}function dn(n,e,t){n.h.set(e,t)}function lf(n){return dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function df(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,eE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function eE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(df(e,hb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(df(e,hb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(df(t,"/"==t.charAt(0)?AD:tE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",df(t,lg)),n.join("")};var hb=/[#\/\?@]/g,tE=/[#\?:]/g,AD=/[#\?]/g,DD=/[#\?@]/g,lg=/#/g;function Kl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xu(n){n.g||(n.g=new uf,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),u=null;if(0<=r){var d=n[t].substring(0,r);u=n[t].substring(r+1)}else d=n[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fb(n,e){xu(n),e=hf(n,e),zl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,zl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&lb(n)))}function pb(n,e){return xu(n),e=hf(n,e),zl(n.g.h,e)}function gb(n,e,t){fb(n,e),0<t.length&&(n.i=null,n.g.set(hf(n,e),Aw(t)),n.h+=t.length)}function hf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function nE(n){this.l=n||rE,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Kl.prototype).add=function(n,e){xu(this),this.i=null,n=hf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$e.forEach=function(n,e){xu(this),this.g.forEach(function(t,r){py(t,function(u){n.call(e,u,r,this)},this)},this)},$e.T=function(){xu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var u=n[r],d=0;d<u.length;d++)t.push(e[r]);return t},$e.R=function(n){xu(this);var e=[];if("string"==typeof n)pb(this,n)&&(e=uD(e,this.g.get(hf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=uD(e,n[t])}return e},$e.set=function(n,e){return xu(this),this.i=null,pb(this,n=hf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$e.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],u=encodeURIComponent(String(r));r=this.R(r);for(var d=0;d<r.length;d++){var p=u;""!==r[d]&&(p+="="+encodeURIComponent(String(r[d]))),n.push(p)}}return this.i=n.join("&")};var rE=10;function xD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mb(n){return n.h?1:n.g?n.g.size:0}function yb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _b(n,e){n.g?n.g.add(e):n.h=e}function OD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function PD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Aw(n.i)}function dg(){}function ND(){this.g=new dg}function iE(n,e,t){const r=t||"";try{Zc(n,function(u,d){let p=u;As(u)&&(p=wy(u)),e.push(r+d+"="+encodeURIComponent(p))})}catch(u){throw e.push(r+"type="+encodeURIComponent("_badmap")),u}}function vb(n,e,t,r,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(r)}catch(d){}}function Ni(n){this.l=n.$b||null,this.j=n.ib||!1}function bb(n,e){Xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=oE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nE.prototype.cancel=function(){if(this.i=PD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dg.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},dg.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},Jr(Ni,Dy),Ni.prototype.g=function(){return new bb(this.l,this.j)},Ni.prototype.i=function(n){return function(){return n}}({}),Jr(bb,Xr);var oE=0;function RD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ff(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pf(n)}function pf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($e=bb.prototype).open=function(n,e){if(this.readyState!=oE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pf(this)},$e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ff(this)),this.readyState=oE},$e.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pf(this)),this.g&&(this.readyState=3,pf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RD(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$e.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ff(this):pf(this),3==this.readyState&&RD(this)}},$e.Ua=function(n){this.g&&(this.response=this.responseText=n,ff(this))},$e.Ta=function(n){this.g&&(this.response=n,ff(this))},$e.ha=function(){this.g&&ff(this)},$e.setRequestHeader=function(n,e){this.v.append(n,e)},$e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aE=Tt.JSON.parse;function hr(n){Xr.call(this),this.headers=new uf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kD,this.K=this.L=!1}Jr(hr,Xr);var kD="",uE=/^https?$/i,Cb=["POST","PUT"];function wb(n){return"content-type"==n.toLowerCase()}function cE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,lE(n),My(n)}function lE(n){n.D||(n.D=!0,ei(n,"complete"),ei(n,"error"))}function dE(n){if(n.h&&void 0!==Yp&&(!n.C[1]||4!=Ou(n)||2!=n.ba()))if(n.v&&4==Ou(n))eb(n.Fa,0,n);else if(ei(n,"readystatechange"),4==Ou(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===v){var u=String(n.H).match(Xw)[1]||null;if(!u&&Tt.self&&Tt.self.location){var d=Tt.self.location.protocol;u=d.substr(0,d.length-1)}r=!uE.test(u?u.toLowerCase():"")}t=r}if(t)ei(n,"complete"),ei(n,"success");else{n.m=6;try{var p=2<Ou(n)?n.g.statusText:""}catch(w){p=""}n.j=p+" ["+n.ba()+"]",lE(n)}}finally{My(n)}}}function My(n,e){if(n.g){hE(n);const t=n.g,r=n.C[0]?Qp:null;n.g=null,n.C=null,e||ei(n,"ready");try{t.onreadystatechange=r}catch(u){}}}function hE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function Ou(n){return n.g?n.g.readyState:0}function hg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function xy(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Sw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dn(n,e,t))}function Ri(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mf(n){this.za=0,this.l=[],this.h=new nf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ri("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ri("baseRetryDelayMs",5e3,n),this.$a=Ri("retryDelaySeedMs",1e4,n),this.Ya=Ri("forwardChannelMaxRetries",2,n),this.ra=Ri("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new nE(n&&n.concurrentRequestLimit),this.Ca=new ND,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Eb(n){if(Py(n),3==n.G){var e=n.V++,t=Ra(n.F);dn(t,"SID",n.J),dn(t,"RID",e),dn(t,"TYPE","terminate"),qc(n,t),(e=new sf(n,n.h,e,void 0)).K=2,e.v=lf(Ra(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(t=Tt.navigator.sendBeacon(e.v.toString(),"")),!t&&Tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ag(e)}Xl(n)}function Oy(n){n.g&&(Hc(n),n.g.cancel(),n.g=null)}function Py(n){Oy(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),Pu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function uo(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Bc(n)}function Bc(n){xD(n.i)||n.m||(n.m=!0,Ey(n.Ha,n),n.C=0)}function jc(n,e){var t;t=e?e.m:n.V++;const r=Ra(n.F);dn(r,"SID",n.J),dn(r,"RID",t),dn(r,"AID",n.U),qc(n,r),n.o&&n.s&&xy(r,n.o,n.s),t=new sf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ss(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),_b(n.i,t),Sy(t,r,e)}function qc(n,e){n.j&&Zc({},function(t,r){dn(e,r,t)})}function Ss(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Nr(n.j.Oa,n.j,n):null;e:{var u=n.l;let d=-1;for(;;){const p=["count="+t];-1==d?0<t?(d=u[0].h,p.push("ofs="+d)):d=0:p.push("ofs="+d);let v=!0;for(let w=0;w<t;w++){let D=u[w].h;const P=u[w].g;if(D-=d,0>D)d=Math.max(0,u[w].h-100),v=!1;else try{iE(P,p,"req"+D+"_")}catch(R){r&&r(P)}}if(v){r=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ny(n){n.g||n.u||(n.Y=1,Ey(n.Ga,n),n.A=0)}function $c(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rf(Nr(n.Ga,n),Jl(n,n.A)),n.A++,0))}function Hc(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Yl(n){n.g=new sf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ra(n.oa);dn(e,"RID","rpc"),dn(e,"SID",n.J),dn(e,"CI",n.N?"0":"1"),dn(e,"AID",n.U),qc(n,e),dn(e,"TYPE","xmlhttp"),n.o&&n.s&&xy(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=lf(Ra(e)),t.s=null,t.U=!0,Yw(t,n)}function Pu(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function Ql(n,e){var t=null;if(n.g==e){Pu(n),Hc(n),n.g=null;var r=2}else{if(!yb(n.i,e))return;t=e.D,OD(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=n.C;ei(r=rg(),new Ww(r,t,e,u)),Bc(n)}else Ny(n);else if(3==(u=e.o)||0==u&&0<n.I||!(1==r&&function(n,e){return!(mb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rf(Nr(n.Ha,n,e),Jl(n,n.C)),n.C++,0)))}(n,e)||2==r&&$c(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),u){case 1:co(n,5);break;case 4:co(n,10);break;case 3:co(n,6);break;default:co(n,2)}}function Jl(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function co(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Nr(n.jb,n);t||(t=new Wl("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||an(t,"https"),lf(t)),function(n,e){const t=new nf;if(Tt.Image){const r=new Image;r.onload=jv(vb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jv(vb,t,r,"TestLoadImage: error",!1,e),r.onabort=jv(vb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jv(vb,t,r,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ji(2);n.G=0,n.j&&n.j.va(e),Xl(n),Py(n)}function Xl(n){n.G=0,n.I=-1,n.j&&((0!=PD(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Aw(n.l),n.l.length=0),n.j.ua())}function ed(n,e,t){let r=function(n){return n instanceof Wl?Ra(n):new Wl(n,void 0)}(t);if(""!=r.i)e&&cf(r,e+"."+r.i),db(r,r.m);else{const u=Tt.location;r=function(n,e,t,r){var u=new Wl(null,void 0);return n&&an(u,n),e&&cf(u,e),t&&db(u,t),r&&(u.l=r),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return n.aa&&Sw(n.aa,function(u,d){dn(r,d,u)}),t=n.sa,(e=n.D)&&t&&dn(r,e,t),dn(r,"VER",n.ma),qc(n,r),r}function Tb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hr(t&&n.Ba&&!n.qa?new Ni({ib:!0}):n.qa)).L=n.H,e}function Ib(){}function fg(){if(Fc&&!(10<=Number(Jh)))throw Error("Environmental error: no available transport.")}function Xi(n,e){Xr.call(this),this.g=new mf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!qv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new td(this)}function Ab(n){ib.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Db(){sb.call(this),this.status=1}function td(n){this.g=n}($e=hr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kw.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Kw),this.g.onreadystatechange=Nr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void cE(this,d)}n=t||"";const u=new uf(this.headers);r&&Zc(r,function(d,p){u.set(p,d)}),r=function(n){e:{var e=wb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let u=0;u<t;u++)if(u in r&&e.call(void 0,r[u],u,n)){e=u;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(u.T()),t=Tt.FormData&&n instanceof Tt.FormData,!(0<=Iw(Cb,e))||r||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,p){this.g.setRequestHeader(p,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hE(this),0<this.B&&((this.K=function(n){return Fc&&Jp()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nr(this.pa,this)):this.A=eb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){cE(this,d)}},$e.pa=function(){void 0!==Yp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ei(this,"timeout"),this.abort(8))},$e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ei(this,"complete"),ei(this,"abort"),My(this))},$e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),My(this,!0)),hr.Z.M.call(this)},$e.Fa=function(){this.s||(this.F||this.v||this.l?dE(this):this.cb())},$e.cb=function(){dE(this)},$e.ba=function(){try{return 2<Ou(this)?this.g.status:-1}catch(n){return-1}},$e.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},$e.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),aE(e)}},$e.Da=function(){return this.m},$e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=mf.prototype).ma=8,$e.G=1,$e.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},$e.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const u=new sf(this,this.h,n,void 0);let d=this.s;if(this.P&&(d?(d=Au(d),Mw(d,this.P)):d=this.P),null===this.o&&(u.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ss(this,u,e),dn(t=Ra(this.F),"RID",n),dn(t,"CVER",22),this.D&&dn(t,"X-HTTP-Session-Id",this.D),qc(this,t),this.o&&d&&xy(t,this.o,d),_b(this.i,u),this.Ra&&dn(t,"TYPE","init"),this.ja?(dn(t,"$req",e),dn(t,"SID","null"),u.$=!0,Sy(u,t,null)):Sy(u,t,e),this.G=2}}else 3==this.G&&(n?jc(this,n):0==this.l.length||xD(this.i)||jc(this))},$e.Ga=function(){if(this.u=null,Yl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rf(Nr(this.bb,this),n)}},$e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ji(10),Oy(this),Yl(this))},$e.ab=function(){null!=this.v&&(this.v=null,Oy(this),$c(this),Ji(19))},$e.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ji(2)):(this.h.info("Failed to ping google.com"),Ji(1))},($e=Ib.prototype).xa=function(){},$e.wa=function(){},$e.va=function(){},$e.ua=function(){},$e.Oa=function(){},fg.prototype.g=function(n,e){return new Xi(n,e)},Jr(Xi,Xr),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ey(Nr(n.hb,n,e))),Ji(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ed(n,null,n.W),Bc(n)},Xi.prototype.close=function(){Eb(this.g)},Xi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,uo(this.g,e)}else this.v?((e={}).__data__=wy(n),uo(this.g,e)):uo(this.g,n)},Xi.prototype.M=function(){this.g.j=null,delete this.j,Eb(this.g),delete this.g,Xi.Z.M.call(this)},Jr(Ab,ib),Jr(Db,sb),Jr(td,Ib),td.prototype.xa=function(){ei(this.g,"a")},td.prototype.wa=function(n){ei(this.g,new Ab(n))},td.prototype.va=function(n){ei(this.g,new Db(n))},td.prototype.ua=function(){ei(this.g,"b")},fg.prototype.createWebChannel=fg.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,nb.COMPLETE="complete",Pa.EventType=Vc,Vc.OPEN="a",Vc.CLOSE="b",Vc.ERROR="c",Vc.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var fE=Wo.createWebChannelTransport=function(){return new fg},pE=Wo.getStatEventTarget=function(){return rg()},Sb=Wo.ErrorCode=sg,gE=Wo.EventType=nb,LD=Wo.Event=Su,mE=Wo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yE=Wo.FetchXmlHttpFactory=Ni,Ry=Wo.WebChannel=Pa,ex=Wo.XhrIo=hr;const _E="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let yf="9.6.7";const Nu=new kc.Yd("@firebase/firestore");function Mb(){return Nu.logLevel}function Ne(n,...e){if(Nu.logLevel<=kc.in.DEBUG){const t=e.map(vE);Nu.debug(`Firestore (${yf}): ${n}`,...t)}}function fr(n,...e){if(Nu.logLevel<=kc.in.ERROR){const t=e.map(vE);Nu.error(`Firestore (${yf}): ${n}`,...t)}}function _f(n,...e){if(Nu.logLevel<=kc.in.WARN){const t=e.map(vE);Nu.warn(`Firestore (${yf}): ${n}`,...t)}}function vE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${yf}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function _t(n,e){n||tt()}function Ue(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ot.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rr.UNAUTHENTICATED))}shutdown(){}}class tx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nx{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let u=this.i;const d=D=>this.i!==u?(u=this.i,t(D)):Promise.resolve();let p=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new pr,e.enqueueRetryable(()=>d(this.currentUser))};const v=()=>{const D=p;e.enqueueRetryable((0,pe.Z)(function*(){yield D.promise,yield d(r.currentUser)}))},w=D=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new pr)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new ky(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Rr(e)}}class rx{constructor(e,t,r){this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class BD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new rx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ix{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=d=>{null!=d.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.p;return this.p=d.token,Ne("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>r(d))};const u=d=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?u(d):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),this.p=t.token,new xb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function jD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}kr.A=-1;class Ob{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const u=jD(40);for(let d=0;d<u.length;++d)r.length<20&&u[d]<t&&(r+=e.charAt(u[d]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function nd(n,e,t){return n.length===e.length&&n.every((r,u)=>t(r,e[u]))}function pg(n){return n+"\0"}class Fr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new Fr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function bE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gg{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let u=0;u<r;u++){const d=e.get(u),p=t.get(u);if(d<p)return-1;if(d>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends gg{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(u=>u.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const wE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends gg{construct(e,t,r){return new Lr(e,t,r)}static isValidIdentifier(e){return wE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const t=[];let r="",u=0;const d=()=>{if(0===r.length)throw new Se(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let p=!1;for(;u<e.length;){const v=e[u];if("\\"===v){if(u+1===e.length)throw new Se(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[u+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,u+=2}else"`"===v?(p=!p,u++):"."!==v||p?(r+=v,u++):(d(),u++)}if(d(),p)throw new Se(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(t)}static emptyPath(){return new Lr([])}}class id{constructor(e){this.fields=e,e.sort(Lr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xn(t)}static fromUint8Array(e){const t=function(r){let u="";for(let d=0;d<r.length;++d)u+=String.fromCharCode(r[d]);return u}(e);return new Xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(n){if(_t(!!n),"string"==typeof n){let e=0;const t=ox.exec(n);if(_t(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vf(n){return"string"==typeof n?Xn.fromBase64String(n):Xn.fromUint8Array(n)}function sd(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function TE(n){const e=n.mapValue.fields.__previous_value__;return sd(e)?TE(e):e}function od(n){const e=Fa(n.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}class Pb{constructor(e,t,r,u,d,p,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=u,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.useFetchStreams=w}}class ad{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ad("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ad&&e.projectId===this.projectId&&e.database===this.database}}function Ru(n){return null==n}function ud(n){return 0===n&&1/n==-1/0}function Nb(n){return"number"==typeof n&&Number.isInteger(n)&&!ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Kt.fromString(e))}static fromName(e){return new He(Kt.fromString(e).popFirst(5))}static empty(){return new He(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Kt(e.slice()))}}const qD={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sd(n)?4:10:tt()}function lo(n,e){if(n===e)return!0;const t=Gc(n);if(t!==Gc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return od(n).isEqual(od(e));case 3:return function(r,u){if("string"==typeof r.timestampValue&&"string"==typeof u.timestampValue&&r.timestampValue.length===u.timestampValue.length)return r.timestampValue===u.timestampValue;const d=Fa(r.timestampValue),p=Fa(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return u=e,vf(n.bytesValue).isEqual(vf(u.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,u){return Un(r.geoPointValue.latitude)===Un(u.geoPointValue.latitude)&&Un(r.geoPointValue.longitude)===Un(u.geoPointValue.longitude)}(n,e);case 2:return function(r,u){if("integerValue"in r&&"integerValue"in u)return Un(r.integerValue)===Un(u.integerValue);if("doubleValue"in r&&"doubleValue"in u){const d=Un(r.doubleValue),p=Un(u.doubleValue);return d===p?ud(d)===ud(p):isNaN(d)&&isNaN(p)}return!1}(n,e);case 9:return nd(n.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:return function(r,u){const d=r.mapValue.fields||{},p=u.mapValue.fields||{};if(bE(d)!==bE(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(void 0===p[v]||!lo(d[v],p[v])))return!1;return!0}(n,e);default:return tt()}var u}function mg(n,e){return void 0!==(n.values||[]).find(t=>lo(t,e))}function cd(n,e){if(n===e)return 0;const t=Gc(n),r=Gc(e);if(t!==r)return Zt(t,r);switch(t){case 0:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(u,d){const p=Un(u.integerValue||u.doubleValue),v=Un(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return Fy(n.timestampValue,e.timestampValue);case 4:return Fy(od(n),od(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(u,d){const p=vf(u),v=vf(d);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),v=d.split("/");for(let w=0;w<p.length&&w<v.length;w++){const D=Zt(p[w],v[w]);if(0!==D)return D}return Zt(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,d){const p=Zt(Un(u.latitude),Un(d.latitude));return 0!==p?p:Zt(Un(u.longitude),Un(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(u,d){const p=u.values||[],v=d.values||[];for(let w=0;w<p.length&&w<v.length;++w){const D=cd(p[w],v[w]);if(D)return D}return Zt(p.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(u,d){const p=u.fields||{},v=Object.keys(p),w=d.fields||{},D=Object.keys(w);v.sort(),D.sort();for(let P=0;P<v.length&&P<D.length;++P){const R=Zt(v[P],D[P]);if(0!==R)return R;const G=cd(p[v[P]],w[D[P]]);if(0!==G)return G}return Zt(v.length,D.length)}(n.mapValue,e.mapValue);default:throw tt()}}function Fy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Fa(n),r=Fa(e),u=Zt(t.seconds,r.seconds);return 0!==u?u:Zt(t.nanos,r.nanos)}function ld(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const u=Fa(r);return`time(${u.seconds},${u.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vf(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let u="[",d=!0;for(const p of r.values||[])d?d=!1:u+=",",u+=yg(p);return u+"]"}(n.arrayValue):"mapValue"in n?function(r){const u=Object.keys(r.fields||{}).sort();let d="{",p=!0;for(const v of u)p?p=!1:d+=",",d+=`${v}:${yg(r.fields[v])}`;return d+"}"}(n.mapValue):tt();var e}function bf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ly(n){return!!n&&"integerValue"in n}function Vy(n){return!!n&&"arrayValue"in n}function Rb(n){return!!n&&"nullValue"in n}function kb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cf(n){return!!n&&"mapValue"in n}function wf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wf(t)}setAll(e){let t=Lr.emptyPath(),r={},u=[];e.forEach((p,v)=>{if(!t.isImmediateParentOf(v)){const w=this.getFieldsMap(t);this.applyChanges(w,r,u),r={},u=[],t=v.popLast()}p?r[v.lastSegment()]=wf(p):u.push(v.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,r,u)}delete(e){const t=this.field(e.popLast());Cf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=t.mapValue.fields[e.get(r)];Cf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,r){rd(t,(u,d)=>e[u]=d);for(const u of r)delete e[u]}clone(){return new bi(wf(this.value))}}function IE(n){const e=[];return rd(n.fields,(t,r)=>{const u=new Lr([t]);if(Cf(r)){const d=IE(r.mapValue).fields;if(0===d.length)e.push(u);else for(const p of d)e.push(u.child(p))}else e.push(u)}),new id(e)}class xn{constructor(e,t,r,u,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new xn(e,0,ct.min(),ct.min(),bi.empty(),0)}static newFoundDocument(e,t,r){return new xn(e,1,t,ct.min(),r,0)}static newNoDocument(e,t){return new xn(e,2,t,ct.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,ct.min(),bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Uy=(()=>{class n{constructor(t,r,u,d){this.indexId=t,this.collectionGroup=r,this.fields=u,this.indexState=d}}return n.UNKNOWN_ID=-1,n})();class Ef{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tf(0,_g.min())}}class _g{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _g(ct.min(),He.empty(),-1)}}class AE{constructor(e,t=null,r=[],u=[],d=null,p=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=u,this.limit=d,this.startAt=p,this.endAt=v,this.P=null}}function Fb(n,e=null,t=[],r=[],u=null,d=null,p=null){return new AE(n,e,t,r,u,d,p)}function If(n){const e=Ue(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(u=r).field.canonicalString()+u.op.toString()+ld(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(u=r).field.canonicalString()+u.dir;var u}).join(","),Ru(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ld(r)).join(",")),e.P=t}return e.P}function vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<n.orderBy.length;u++)if(!OE(n.orderBy[u],e.orderBy[u]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let u=0;u<n.filters.length;u++)if((t=n.filters[u]).op!==(r=e.filters[u]).op||!t.field.isEqual(r.field)||!lo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hd(n.startAt,e.startAt)&&hd(n.endAt,e.endAt)}function bg(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class es extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new $D(e,t,r):"array-contains"===t?new Er(e,r):"in"===t?new xE(e,r):"not-in"===t?new GD(e,r):"array-contains-any"===t?new zD(e,r):new es(e,t,r)}static v(e,t,r){return"in"===t?new HD(e,r):new SE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(cd(t,this.value)):null!==t&&Gc(this.value)===Gc(t)&&this.V(cd(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $D extends es{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.V(t)}}class HD extends es{constructor(e,t){super(e,"in",t),this.keys=ME(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SE extends es{constructor(e,t){super(e,"not-in",t),this.keys=ME(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ME(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class Er extends es{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vy(t)&&mg(t.arrayValue,this.value)}}class xE extends es{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mg(this.value.arrayValue,t)}}class GD extends es{constructor(e,t){super(e,"not-in",t)}matches(e){if(mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mg(this.value.arrayValue,t)}}class zD extends es{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mg(this.value.arrayValue,r))}}class dd{constructor(e,t){this.position=e,this.inclusive=t}}class Af{constructor(e,t="asc"){this.field=e,this.dir=t}}function OE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Lb(n,e,t){let r=0;for(let u=0;u<n.position.length;u++){const d=e[u],p=n.position[u];if(r=d.field.isKeyField()?He.comparator(He.fromName(p.referenceValue),t.key):cd(p,t.data.field(d.field)),"desc"===d.dir&&(r*=-1),0!==r)break}return r}function hd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lo(n.position[t],e.position[t]))return!1;return!0}class ku{constructor(e,t=null,r=[],u=[],d=null,p="F",v=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=u,this.limit=d,this.limitType=p,this.startAt=v,this.endAt=w,this.D=null,this.C=null}}function PE(n,e,t,r,u,d,p,v){return new ku(n,e,t,r,u,d,p,v)}function fd(n){return new ku(n)}function Zy(n){return!Ru(n.limit)&&"F"===n.limitType}function Cg(n){return!Ru(n.limit)&&"L"===n.limitType}function NE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function By(n){for(const e of n.filters)if(e.S())return e.field;return null}function wg(n){return null!==n.collectionGroup}function ki(n){const e=Ue(n);if(null===e.D){e.D=[];const t=By(e),r=NE(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Af(t)),e.D.push(new Af(Lr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Af(Lr.keyField(),d))}}}return e.D}function ho(n){const e=Ue(n);if(!e.C)if("F"===e.limitType)e.C=Fb(e.path,e.collectionGroup,ki(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of ki(e))t.push(new Af(d.field,"desc"===d.dir?"asc":"desc"));const r=e.endAt?new dd(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new dd(e.startAt.position,!e.startAt.inclusive):null;e.C=Fb(e.path,e.collectionGroup,t,e.filters,e.limit,r,u)}return e.C}function RE(n,e,t){return new ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ts(n,e){return vg(ho(n),ho(e))&&n.limitType===e.limitType}function fo(n){return`${If(ho(n))}|lt:${n.limitType}`}function Ms(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ld(r.value)}`;var r}).join(", ")}]`),Ru(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ld(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ld(t)).join(",")),`Target(${e})`}(ho(n))}; limitType=${n.limitType})`}function jy(n,e){return e.isFoundDocument()&&function(t,r){const u=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):He.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(n,e)&&function(t,r){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===r.data.field(u.field))return!1;return!0}(n,e)&&function(t,r){for(const u of t.filters)if(!u.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(u,d,p){const v=Lb(u,d,p);return u.inclusive?v<=0:v<0}(t.startAt,ki(t),r)||t.endAt&&!function(u,d,p){const v=Lb(u,d,p);return u.inclusive?v>=0:v>0}(t.endAt,ki(t),r)));var t,r}function Vb(n){return(e,t)=>{let r=!1;for(const u of ki(n)){const d=WD(u,e,t);if(0!==d)return d;r=r||u.field.isKeyField()}return 0}}function WD(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(u,d,p){const v=d.data.field(u),w=p.data.field(u);return null!==v&&null!==w?cd(v,w):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function kE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function FE(n){return{integerValue:""+n}}function LE(n,e){return Nb(e)?FE(e):kE(n,e)}class Df{constructor(){this._=void 0}}function Eg(n,e,t){return n instanceof Sf?function(r,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):n instanceof zc?Zb(n,e):n instanceof La?VE(n,e):function(r,u){const d=Ub(r,u),p=Bb(d)+Bb(r.k);return Ly(d)&&Ly(r.k)?FE(p):kE(r.O,p)}(n,e)}function KD(n,e,t){return n instanceof zc?Zb(n,e):n instanceof La?VE(n,e):t}function Ub(n,e){return n instanceof pd?Ly(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sf extends Df{}class zc extends Df{constructor(e){super(),this.elements=e}}function Zb(n,e){const t=qy(e);for(const r of n.elements)t.some(u=>lo(u,r))||t.push(r);return{arrayValue:{values:t}}}class La extends Df{constructor(e){super(),this.elements=e}}function VE(n,e){let t=qy(e);for(const r of n.elements)t=t.filter(u=>!lo(u,r));return{arrayValue:{values:t}}}class pd extends Df{constructor(e,t){super(),this.O=e,this.k=t}}function Bb(n){return Un(n.integerValue||n.doubleValue)}function qy(n){return Vy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wc{constructor(e,t){this.field=e,this.transform=t}}class ZE{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ig{}function BE(n,e,t){n instanceof Ag?function(r,u,d){const p=r.value.clone(),v=GE(r.fieldTransforms,u,d.transformResults);p.setAll(v),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):n instanceof gd?function(r,u,d){if(!Tg(r.precondition,u))return void u.convertToUnknownDocument(d.version);const p=GE(r.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(HE(r)),v.setAll(p),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $y(n,e,t){var u;n instanceof Ag?function(r,u,d){if(!Tg(r.precondition,u))return;const p=r.value.clone(),v=zE(r.fieldTransforms,d,u);p.setAll(v),u.convertToFoundDocument($E(u),p).setHasLocalMutations()}(n,e,t):n instanceof gd?function(r,u,d){if(!Tg(r.precondition,u))return;const p=zE(r.fieldTransforms,d,u),v=u.data;v.setAll(HE(r)),v.setAll(p),u.convertToFoundDocument($E(u),v).setHasLocalMutations()}(n,e,t):Tg(n.precondition,u=e)&&u.convertToNoDocument(ct.min())}function jE(n,e){let t=null;for(const r of n.fieldTransforms){const u=e.data.field(r.field),d=Ub(r.transform,u||null);null!=d&&(null==t&&(t=bi.empty()),t.set(r.field,d))}return t||null}function qE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&nd(t,r,(u,d)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zc&&r instanceof zc||t instanceof La&&r instanceof La?nd(t.elements,r.elements,lo):t instanceof pd&&r instanceof pd?lo(t.k,r.k):t instanceof Sf&&r instanceof Sf);var t,r}(u,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function $E(n){return n.isFoundDocument()?n.version:ct.min()}class Ag extends Ig{constructor(e,t,r,u=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=u,this.type=0}}class gd extends Ig{constructor(e,t,r,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=u,this.fieldTransforms=d,this.type=1}}function HE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GE(n,e,t){const r=new Map;_t(n.length===t.length);for(let u=0;u<t.length;u++){const d=n[u],p=d.transform,v=e.data.field(d.field);r.set(d.field,KD(p,v,t[u]))}return r}function zE(n,e,t){const r=new Map;for(const u of n){const d=u.transform,p=t.data.field(u.field);r.set(u.field,Eg(d,p,e))}return r}class Dg extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jb extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class YD{constructor(e){this.count=e}}var gr,zt;function WE(n){switch(n){default:return tt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function KE(n){if(void 0===n)return fr("GRPC error has no .code"),he.UNKNOWN;switch(n){case gr.OK:return he.OK;case gr.CANCELLED:return he.CANCELLED;case gr.UNKNOWN:return he.UNKNOWN;case gr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case gr.INTERNAL:return he.INTERNAL;case gr.UNAVAILABLE:return he.UNAVAILABLE;case gr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case gr.NOT_FOUND:return he.NOT_FOUND;case gr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case gr.ABORTED:return he.ABORTED;case gr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case gr.DATA_LOSS:return he.DATA_LOSS;default:return tt()}}(zt=gr||(gr={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";class tr{constructor(e,t){this.comparator=e,this.root=t||ti.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(0===u)return t+r.left.size;u<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hy(this.root,e,this.comparator,!0)}}class Hy{constructor(e,t,r,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,t,r,u,d){this.key=e,this.value=t,this.color=null!=r?r:ti.RED,this.left=null!=u?u:ti.EMPTY,this.right=null!=d?d:ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,u,d){return new ti(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let u=this;const d=r(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,r),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return ti.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1,ti.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,u){return this}insert(n,e,t){return new ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qb(this.data.getIterator())}getIteratorFrom(e){return new qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=r.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function md(n){return n.hasNext()?n.getNext():void 0}const YE=new tr(He.comparator);function xs(){return YE}const QE=new tr(He.comparator);function Gy(){return QE}const JE=new tr(He.comparator),XE=new wn(He.comparator);function nn(...n){let e=XE;for(const t of n)e=e.add(t);return e}const $b=new wn(Zt);function Sg(){return $b}class Ko{constructor(e,t,r,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Mg.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ko(ct.min(),r,Sg(),xs(),nn())}}class Mg{constructor(e,t,r,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Mg(Xn.EMPTY_BYTE_STRING,t,nn(),nn(),nn())}}class zy{constructor(e,t,r,u){this.M=e,this.removedTargetIds=t,this.key=r,this.$=u}}class yd{constructor(e,t){this.targetId=e,this.F=t}}class QD{constructor(e,t,r=Xn.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=u}}class Wy{constructor(){this.B=0,this.L=Gb(),this.U=Xn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=nn(),t=nn(),r=nn();return this.L.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:r=r.add(u);break;default:tt()}}),new Mg(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Gb()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ax{constructor(e){this.nt=e,this.st=new Map,this.it=xs(),this.rt=Hb(),this.ot=new wn(Zt)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,r=e.F.count,u=this.wt(t);if(u){const d=u.target;if(bg(d))if(0===r){const p=new He(d.path);this.at(t,p,xn.newNoDocument(p,ct.min()))}else _t(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((d,p)=>{const v=this.wt(p);if(v){if(d.current&&bg(v.target)){const w=new He(v.target.path);null!==this.it.get(w)||this.It(p,w)||this.at(p,w,xn.newNoDocument(w,e))}d.j&&(t.set(p,d.H()),d.J())}});let r=nn();this.rt.forEach((d,p)=>{let v=!0;p.forEachWhile(w=>{const D=this.wt(w);return!D||2===D.purpose||(v=!1,!1)}),v&&(r=r.add(d))}),this.it.forEach((d,p)=>p.setReadTime(e));const u=new Ko(e,t,this.ot,this.it,r);return this.it=xs(),this.rt=Hb(),this.ot=new wn(Zt),u}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Wy,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new wn(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new Wy),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Hb(){return new tr(He.comparator)}function Gb(){return new tr(He.comparator)}const ux={asc:"ASCENDING",desc:"DESCENDING"},ot={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class JD{constructor(e,t){this.databaseId=e,this.N=t}}function xg(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eT(n,e){return n.N?e.toBase64():e.toUint8Array()}function Ky(n,e){return xg(n,e.toTimestamp())}function Vr(n){return _t(!!n),ct.fromTimestamp(function(e){const t=Fa(e);return new Fr(t.seconds,t.nanos)}(n))}function Mf(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Og(n){const e=Kt.fromString(n);return _t(aT(e)),e}function hn(n,e){return Mf(n.databaseId,e.path)}function Fu(n,e){const t=Og(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(zb(t))}function Yy(n,e){return Mf(n.databaseId,e)}function Qy(n){const e=Og(n);return 4===e.length?Kt.emptyPath():zb(e)}function Pg(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zb(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Wb(n,e,t){return{name:hn(n,e),fields:t.value.mapValue.fields}}function Kb(n,e,t){const r=Fu(n,e.name),u=Vr(e.updateTime),d=new bi({mapValue:{fields:e.fields}}),p=xn.newFoundDocument(r,u,d);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Ng(n,e){let t;if(e instanceof Ag)t={update:Wb(n,e.key,e.value)};else if(e instanceof Dg)t={delete:hn(n,e.key)};else if(e instanceof gd)t={update:Wb(n,e.key,e.data),updateMask:tS(e.fieldMask)};else{if(!(e instanceof jb))return tt();t={verify:hn(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(u,d){const p=d.transform;if(p instanceof Sf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof La)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pd)return{fieldPath:d.field.canonicalString(),increment:p.k};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Ky(n,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:tt()),t;var u}function Yb(n,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?er.updateTime(Vr(u.updateTime)):void 0!==u.exists?er.exists(u.exists):er.none():er.none(),r=e.updateTransforms?e.updateTransforms.map(u=>function(d,p){let v=null;"setToServerValue"in p?(_t("REQUEST_TIME"===p.setToServerValue),v=new Sf):"appendMissingElements"in p?v=new zc(p.appendMissingElements.values||[]):"removeAllFromArray"in p?v=new La(p.removeAllFromArray.values||[]):"increment"in p?v=new pd(d,p.increment):tt();const w=Lr.fromServerFormat(p.fieldPath);return new Wc(w,v)}(n,u)):[];var u;if(e.update){const u=Fu(n,e.update.name),d=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new id((e.updateMask.fieldPaths||[]).map(D=>Lr.fromServerFormat(D)));return new gd(u,d,p,t,r)}return new Ag(u,d,t,r)}if(e.delete){const u=Fu(n,e.delete);return new Dg(u,t)}if(e.verify){const u=Fu(n,e.verify);return new jb(u,t)}return tt()}function nT(n,e){return{documents:[Yy(n,e.path)]}}function rT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Yy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Yy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const u=function(w){if(0===w.length)return;const D=w.map(P=>function(R){if("=="===R.op){if(kb(R.value))return{unaryFilter:{field:xf(R.field),op:"IS_NAN"}};if(Rb(R.value))return{unaryFilter:{field:xf(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(kb(R.value))return{unaryFilter:{field:xf(R.field),op:"IS_NOT_NAN"}};if(Rb(R.value))return{unaryFilter:{field:xf(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xf(R.field),op:oT(R.op),value:R.value}}}(P));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(w){if(0!==w.length)return w.map(D=>{return{field:xf((P=D).field),direction:sT(P.dir)};var P})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=(D=e.limit,n.N||Ru(D)?D:{value:D});var D,v,w;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(v=e.startAt).inclusive,values:v.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function iT(n){let e=Qy(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let u=null;if(r>0){_t(1===r);const P=t.from[0];P.allDescendants?u=P.collectionId:e=e.child(P.collectionId)}let d=[];t.where&&(d=Qb(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(P=>{return new Af(Va((R=P).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let v=null;t.limit&&(v=function(P){let R;return R="object"==typeof P?P.value:P,Ru(R)?null:R}(t.limit));let w=null;var P;t.startAt&&(w=new dd((P=t.startAt).values||[],!!P.before));let D=null;return t.endAt&&(D=function(P){return new dd(P.values||[],!P.before)}(t.endAt)),PE(e,u,p,d,v,"F",w,D)}function Qb(n){return n?void 0!==n.unaryFilter?[eS(n)]:void 0!==n.fieldFilter?[kg(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Qb(e)).reduce((e,t)=>e.concat(t)):tt():[]}function sT(n){return ux[n]}function oT(n){return ot[n]}function xf(n){return{fieldPath:n.canonicalString()}}function Va(n){return Lr.fromServerFormat(n.fieldPath)}function kg(n){return es.create(Va(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function eS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Va(n.unaryFilter.field);return es.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Va(n.unaryFilter.field);return es.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Va(n.unaryFilter.field);return es.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Va(n.unaryFilter.field);return es.create(u,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function tS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Tr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jb(e)),e=uT(n.get(t),e);return Jb(e)}function uT(n,e){let t=e;const r=n.length;for(let u=0;u<r;u++){const d=n.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Jb(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let u="";for(let d=0;d<e;){const p=n.indexOf("\x01",d);switch((p<0||p>t)&&tt(),n.charAt(p+1)){case"\x01":const v=n.substring(d,p);let w;0===u.length?w=v:(u+=v,w=u,u=""),r.push(w);break;case"\x10":u+=n.substring(d,p),u+="\0";break;case"\x11":u+=n.substring(d,p+1);break;default:tt()}d=p+2}return new Kt(r)}class cT{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Os{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Os.store="owner",Os.key="owner";class Kc{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Kc.store="mutationQueues",Kc.keyPath="userId";class En{constructor(e,t,r,u,d){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=u,this.mutations=d}}En.store="mutations",En.keyPath="batchId",En.userMutationsIndex="userMutationsIndex",En.userMutationsKeyPath=["userId","batchId"];class Fi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Tr(t)]}static key(e,t,r){return[e,Tr(t),r]}}Fi.store="documentMutations",Fi.PLACEHOLDER=new Fi;class cx{constructor(e,t){this.path=e,this.readTime=t}}class lx{constructor(e,t){this.path=e,this.version=t}}class On{constructor(e,t,r,u,d,p){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=u,this.readTime=d,this.parentPath=p}}On.store="remoteDocuments",On.readTimeIndex="readTimeIndex",On.readTimeIndexPath="readTime",On.collectionReadTimeIndex="collectionReadTimeIndex",On.collectionReadTimeIndexPath=["parentPath","readTime"];class Ps{constructor(e){this.byteSize=e}}Ps.store="remoteDocumentGlobal",Ps.key="remoteDocumentGlobalKey";class ns{constructor(e,t,r,u,d,p,v){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=u,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=p,this.query=v}}ns.store="targets",ns.keyPath="targetId",ns.queryTargetsIndexName="queryTargetsIndex",ns.queryTargetsKeyPath=["canonicalId","targetId"];class ni{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ni.store="targetDocuments",ni.keyPath=["targetId","path"],ni.documentTargetsIndex="documentTargetsIndex",ni.documentTargetsKeyPath=["path","targetId"];class rs{constructor(e,t,r,u){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=u}}rs.key="targetGlobalKey",rs.store="targetGlobal";class Yo{constructor(e,t){this.collectionId=e,this.parent=t}}Yo.store="collectionParents",Yo.keyPath=["collectionId","parent"];class Lu{constructor(e,t,r,u){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=u}}Lu.store="clientMetadata",Lu.keyPath="clientId";class Of{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Of.store="bundles",Of.keyPath="bundleId";class Pf{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Pf.store="namedQueries",Pf.keyPath="name";class Ns{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}Ns.store="indexConfiguration",Ns.keyPath="indexId",Ns.collectionGroupIndex="collectionGroupIndex",Ns.collectionGroupIndexPath="collectionGroup";class po{constructor(e,t,r,u,d,p){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=u,this.documentKey=d,this.largestBatchId=p}}po.store="indexState",po.keyPath=["indexId","uid"],po.sequenceNumberIndex="sequenceNumberIndex",po.sequenceNumberIndexPath=["uid","sequenceNumber"];class Rs{constructor(e,t,r,u,d){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=u,this.documentKey=d}}Rs.store="indexEntries",Rs.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Rs.documentKeyIndex="documentKeyIndex",Rs.documentKeyIndexPath=["indexId","uid","documentKey"];class Ur{constructor(e,t,r,u,d,p){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=u,this.largestBatchId=d,this.overlayMutation=p}}Ur.store="documentOverlays",Ur.keyPath=["userId","collectionPath","documentId"],Ur.collectionPathOverlayIndex="collectionPathOverlayIndex",Ur.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Ur.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Ur.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const lT=[Kc.store,En.store,Fi.store,On.store,ns.store,Os.store,rs.store,ni.store,Lu.store,Ps.store,Yo.store,Of.store,Pf.store],_d=[...lT,Ur.store],nS=[..._d,Ns.store,po.store,Rs.store],Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(r,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(r,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let u=0,d=0,p=!1;e.forEach(v=>{++u,v.next(()=>{++d,p&&d===u&&t()},w=>r(w))}),p=!0,d===u&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(u=>u?ge.resolve(u):r());return t}static forEach(e,t){const r=[];return e.forEach((u,d)=>{r.push(t.call(this,u,d))}),this.waitFor(r)}}class Xy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new pr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new vd(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const u=eC(r.target.error);this.At.reject(new vd(e,u))}}static open(e,t,r,u){try{return new Xy(t,e.transaction(u,r))}catch(d){throw new vd(t,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new hT(t)}}class go{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===go.vt((0,Ot.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),Yc(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Ot.hl)())return!1;if(go.St())return!0;const e=(0,Ot.z$)(),t=go.vt(e),r=0<t&&t<10,u=go.Dt(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}xt(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=p=>{r(p.target.result)},d.onblocked=()=>{u(new vd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const v=p.target.error;u("VersionError"===v.name?new Se(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Se(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new vd(e,v))},d.onupgradeneeded=p=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.bt.kt(p.target.result,d.transaction,p.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=r=>t.Ot(r)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,u){var d=this;return(0,pe.Z)(function*(){const p="readonly"===t;let v=0;for(;;){++v;try{d.db=yield d.xt(e);const w=Xy.open(d.db,e,p?"readonly":"readwrite",r),D=u(w).next(P=>(w.Pt(),P)).catch(P=>(w.abort(P),ge.reject(P))).toPromise();return D.catch(()=>{}),yield w.Rt,D}catch(w){const D="FirebaseError"!==w.name&&v<3;if(Ne("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),d.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rS{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Yc(this.$t.delete())}}class vd extends Se{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bd(n){return"IndexedDbTransactionError"===n.name}class hT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yc(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),Yc(this.store.add(e))}get(e){return Yc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),Yc(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),Yc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const u=this.cursor(r),d=[];return this.Kt(u,(p,v)=>{d.push(v)}).next(()=>d)}{const u=this.store.getAll(r.range);return new ge((d,p)=>{u.onerror=v=>{p(v.target.error)},u.onsuccess=v=>{d(v.target.result)}})}}Gt(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const u=this.cursor(r);return this.Kt(u,(d,p,v)=>v.delete())}Qt(e,t){let r;t?r=e:(r={},t=e);const u=this.cursor(r);return this.Kt(u,t)}Wt(e){const t=this.cursor({});return new ge((r,u)=>{t.onerror=d=>{const p=eC(d.target.error);u(p)},t.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(v=>{v?p.continue():r()}):r()}})}Kt(e,t){const r=[];return new ge((u,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const v=p.target.result;if(!v)return void u();const w=new rS(v),D=t(v.primaryKey,v.value,w);if(D instanceof ge){const P=D.catch(R=>(w.done(),ge.reject(R)));r.push(P)}w.isDone?u():null===w.Lt?v.continue():v.continue(w.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yc(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const u=eC(r.target.error);t(u)}})}let fT=!1;function eC(n){const e=go.vt((0,Ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fT||(fT=!0,setTimeout(()=>{throw r},0)),r}}return n}class pT extends dT{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function mr(n,e){const t=Ue(n);return go.Nt(t.zt,e)}class tC{constructor(e,t,r,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&BE(d,e,r[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&$y(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&$y(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),u=r;this.applyToLocalView(u),r.isValidDocument()||u.convertToNoDocument(ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&nd(this.mutations,e.mutations,(t,r)=>qE(t,r))&&nd(this.baseMutations,e.baseMutations,(t,r)=>qE(t,r))}}class e_{constructor(e,t,r,u){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=u}static from(e,t,r){_t(e.mutations.length===r.length);let u=JE;const d=e.mutations;for(let p=0;p<d.length;p++)u=u.insert(d[p].key,r[p].version);return new e_(e,t,r,u)}}class nC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qc{constructor(e,t,r,u,d=ct.min(),p=ct.min(),v=Xn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v}withSequenceNumber(e){return new Qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gT{constructor(e){this.Ht=e}}function mT(n,e){let t;if(e.document)t=Kb(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),u=Jc(e.noDocument.readTime);t=xn.newNoDocument(r,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=He.fromSegments(e.unknownDocument.path),u=Jc(e.unknownDocument.version);t=xn.newUnknownDocument(r,u)}}return e.readTime&&t.setReadTime(iC(e.readTime)),t}function yT(n,e){const t=rC(e.readTime),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:hn(p=n.Ht,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:xg(p,v.version.toTimestamp())};return new On(null,null,u,e.hasCommittedMutations,t,r)}var p,v;if(e.isNoDocument()){const u=e.key.path.toArray(),d=Cd(e.version),p=e.hasCommittedMutations;return new On(null,new cx(u,d),null,p,t,r)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),d=Cd(e.version);return new On(new lx(u,d),null,null,!0,t,r)}return tt()}function rC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function iC(n){const e=new Fr(n[0],n[1]);return ct.fromTimestamp(e)}function Cd(n){const e=n.toTimestamp();return new cT(e.seconds,e.nanoseconds)}function Jc(n){const e=new Fr(n.seconds,n.nanoseconds);return ct.fromTimestamp(e)}function wd(n,e){const t=(e.baseMutations||[]).map(d=>Yb(n.Ht,d));for(let d=0;d<e.mutations.length-1;++d){const p=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(p.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const r=e.mutations.map(d=>Yb(n.Ht,d)),u=Fr.fromMillis(e.localWriteTimeMs);return new tC(e.batchId,u,t,r)}function Fg(n){const e=Jc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jc(n.lastLimboFreeSnapshotVersion):ct.min();let r;var u;return void 0!==n.query.documents?(_t(1===(u=n.query).documents.length),r=ho(fd(Qy(u.documents[0])))):r=ho(iT(n.query)),new Qc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Xn.fromBase64String(n.resumeToken))}function _T(n,e){const t=Cd(e.snapshotVersion),r=Cd(e.lastLimboFreeSnapshotVersion);let u;u=bg(e.target)?nT(n.Ht,e.target):rT(n.Ht,e.target);const d=e.resumeToken.toBase64();return new ns(e.targetId,If(e.target),t,d,e.sequenceNumber,r,u)}function t_(n){const e=iT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?RE(e,e.limit,"L"):e}function sC(n,e){return new nC(e.largestBatchId,Yb(n.Ht,e.overlayMutation))}function vT(n,e){const t=e.path.lastSegment();return[n,Tr(e.path.popLast()),t]}class iS{getBundleMetadata(e,t){return n_(e).get(t).next(r=>{if(r)return{id:(u=r).bundleId,createTime:Jc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return n_(e).put({bundleId:(r=t).id,createTime:Cd(Vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return r_(e).get(t).next(r=>{if(r)return{name:(u=r).name,query:t_(u.bundledQuery),readTime:Jc(u.readTime)};var u})}saveNamedQuery(e,t){return r_(e).put({name:(r=t).name,readTime:Cd(Vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function n_(n){return mr(n,Of.store)}function r_(n){return mr(n,Pf.store)}class i_{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new i_(e,t.uid||"")}getOverlay(e,t){return Ed(e).get(vT(this.userId,t)).next(r=>r?sC(this.O,r):null)}saveOverlays(e,t,r){const u=[];return r.forEach(d=>{const p=new nC(t,d);u.push(this.Yt(e,p))}),ge.waitFor(u)}removeOverlaysForBatchId(e,t,r){const u=new Set;t.forEach(p=>u.add(Tr(p.getCollectionPath())));const d=[];return u.forEach(p=>{const v=IDBKeyRange.bound([this.userId,p,r],[this.userId,p,r+1],!1,!0);d.push(Ed(e).Gt(Ur.collectionPathOverlayIndex,v))}),ge.waitFor(d)}getOverlaysForCollection(e,t,r){const u=new Map,d=Tr(t),p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ed(e).qt(Ur.collectionPathOverlayIndex,p).next(v=>{for(const w of v){const D=sC(this.O,w);u.set(D.getKey(),D)}return u})}getOverlaysForCollectionGroup(e,t,r,u){const d=new Map;let p;const v=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ed(e).Qt({index:Ur.collectionGroupOverlayIndex,range:v},(w,D,P)=>{const R=sC(this.O,D);d.size<u||R.largestBatchId===p?(d.set(R.getKey(),R),p=R.largestBatchId):P.done()}).next(()=>d)}Yt(e,t){return Ed(e).put(function(r,u,d){const[p,v,w]=vT(u,d.mutation.key);return new Ur(u,v,w,d.mutation.key.getCollectionGroup(),d.largestBatchId,Ng(r.Ht,d.mutation))}(this.O,this.userId,t))}}function Ed(n){return mr(n,Ur.store)}class s_{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Un(e.integerValue));else if("doubleValue"in e){const r=Un(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),ud(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(vf(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?lo(e,qD)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):tt()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const u of Object.keys(r))this.ie(u,t),this.Zt(r[u],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const u of r)this.Zt(u,t)}ce(e,t){this.ee(t,37),He.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function sS(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function o_(n){const e=64-function(t){let r=0;for(let u=0;u<8;++u){const d=sS(255&t[u]);if(r+=d,8!==d)break}return r}(n);return Math.ceil(e/8)}s_.le=new s_;class oS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.de(r.value),r=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.me(r.value),r=t.next();this.ge()}ye(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.de(r);else if(r<2048)this.de(960|r>>>6),this.de(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.de(480|r>>>12),this.de(128|63&r>>>6),this.de(128|63&r);else{const u=t.codePointAt(0);this.de(240|u>>>18),this.de(128|63&u>>>12),this.de(128|63&u>>>6),this.de(128|63&u)}}this._e()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.me(r);else if(r<2048)this.me(960|r>>>6),this.me(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.me(480|r>>>12),this.me(128|63&r>>>6),this.me(128|63&r);else{const u=t.codePointAt(0);this.me(240|u>>>18),this.me(128|63&u>>>12),this.me(128|63&u>>>6),this.me(128|63&u)}}this.ge()}Ie(e){const t=this.Ee(e),r=o_(t);this.Te(1+r),this.buffer[this.position++]=255&r;for(let u=t.length-r;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ae(e){const t=this.Ee(e),r=o_(t);this.Te(1+r),this.buffer[this.position++]=~(255&r);for(let u=t.length-r;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let u=1;u<t.length;++u)t[u]^=r?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const u=new Uint8Array(r);u.set(this.buffer),this.buffer=u}}class bT{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class aS{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class oC{constructor(){this.Se=new oS,this.De=new bT(this.Se),this.Ce=new aS(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class a_{constructor(e,t,r,u){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=u}}function u_(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:(t=uS(n.arrayValue,e.arrayValue),0!==t?t:uS(n.directionalValue,e.directionalValue)))}function uS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class cS{constructor(){this.xe=new Xc}addToCollectionParentIndex(e,t){return this.xe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t,r){return ge.resolve(nn())}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class Xc{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),u=this.index[t]||new wn(Kt.comparator),d=!u.has(r);return this.index[t]=u.add(r),d}has(e){const t=e.lastSegment(),r=e.popLast(),u=this.index[t];return u&&u.has(r)}getEntries(e){return(this.index[e]||new wn(Kt.comparator)).toArray()}}class dx{constructor(e){this.user=e,this.ke=new Xc,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const r=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const d={collectionId:r,parent:Tr(u)};return c_(e).put(d)}return ge.resolve()}getCollectionParents(e,t){const r=[],u=IDBKeyRange.bound([t,""],[pg(t),""],!1,!0);return c_(e).qt(u).next(d=>{for(const p of d){if(p.collectionId!==t)break;r.push(Ua(p.parent))}return r})}addFieldIndex(e,t){const r=l_(e),u=new Ns((d=t).indexId,d.collectionGroup,d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind]));var d;return delete u.indexId,r.add(u).next()}deleteFieldIndex(e,t){const r=l_(e),u=Vu(e),d=Td(e);return r.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,r){return ge.resolve(nn())}getFieldIndex(e,t){return ge.resolve(null)}Oe(e,t){const r=new oC;for(const u of e.fields.filter(p=>2!==p.kind)){const d=t.data.field(u.fieldPath);if(null==d)return null;const p=r.Ne(u.kind);s_.le.Xt(d,p)}return r.Ve()}Me(e){const t=new oC;return s_.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const r=l_(e),u=Vu(e);return(t?r.qt(Ns.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next(d=>{const p=[];return ge.forEach(d,v=>u.get([v.indexId,this.uid]).next(w=>{p.push(function(D,P){const R=P?new Tf(P.sequenceNumber,new _g(Jc(P.readTime),new He(Ua(P.documentKey)),P.largestBatchId)):Tf.empty(),G=D.fields.map(([z,oe])=>new Ef(Lr.fromServerFormat(z),oe));return new Uy(D.indexId,D.collectionGroup,G,R)}(v,w))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,u)=>r.indexState.sequenceNumber-u.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const u=l_(e),d=Vu(e);return this.$e(e).next(p=>u.qt(Ns.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(v=>ge.forEach(v,w=>{return d.put(new po(w.indexId,this.user.uid||"",p,Cd((G=r).readTime),Tr(G.documentKey.path),G.largestBatchId));var G})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(u,d)=>{const p=r.get(u.collectionGroup);return(p?ge.resolve(p):this.getFieldIndexes(e,u.collectionGroup)).next(v=>(r.set(u.collectionGroup,v),ge.forEach(v,w=>this.Fe(e,u,w).next(D=>{const P=this.Be(d,w);return D.isEqual(P)?ge.resolve():this.Le(e,d,D,P)}))))})}Ue(e,t,r){return Td(e).put(new Rs(r.indexId,this.uid,r.arrayValue,r.directionalValue,Tr(t.key.path)))}qe(e,t,r){return Td(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Tr(t.key.path)])}Fe(e,t,r){const u=Td(e);let d=new wn(u_);return u.Qt({index:Rs.documentKeyIndex,range:IDBKeyRange.only([r.indexId,this.uid,Tr(t.path)])},(p,v)=>{d=d.add(new a_(r.indexId,t,v.arrayValue,v.directionalValue))}).next(()=>d)}Be(e,t){let r=new wn(u_);const u=this.Oe(t,e);if(null==u)return r;const d=t.fields.find(v=>2===v.kind);if(null!=d){const p=e.data.field(d.fieldPath);if(Vy(p))for(const v of p.arrayValue.values||[])r=r.add(new a_(t.indexId,e.key,this.Me(v),u))}else r=r.add(new a_(t.indexId,e.key,new Uint8Array,u));return r}Le(e,t,r,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,v,w,D,P){const R=p.getIterator(),G=v.getIterator();let z=md(R),oe=md(G);for(;z||oe;){let Re=!1,Be=!1;if(z&&oe){const at=w(z,oe);at<0?Be=!0:at>0&&(Re=!0)}else null!=z?Be=!0:Re=!0;Re?(D(oe),oe=md(G)):Be?(P(z),z=md(R)):(z=md(R),oe=md(G))}}(r,u,u_,p=>{d.push(this.Ue(e,t,p))},p=>{d.push(this.qe(e,t,p))}),ge.waitFor(d)}$e(e){let t=1;return Vu(e).Qt({index:po.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}}function c_(n){return mr(n,Yo.store)}function Td(n){return mr(n,Rs.store)}function l_(n){return mr(n,Ns.store)}function Vu(n){return mr(n,po.store)}const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wT(n,e,t){const r=n.store(En.store),u=n.store(Fi.store),d=[],p=IDBKeyRange.only(t.batchId);let v=0;const w=r.Qt({range:p},(P,R,G)=>(v++,G.delete()));d.push(w.next(()=>{_t(1===v)}));const D=[];for(const P of t.mutations){const R=Fi.key(e,P.key.path,t.batchId);d.push(u.delete(R)),D.push(P.key)}return ge.waitFor(d).next(()=>D)}function Fs(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class d_{constructor(e,t,r,u){this.userId=e,this.O=t,this.indexManager=r,this.referenceDelegate=u,this.Ke={}}static Jt(e,t,r,u){_t(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new d_(d,t,r,u)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qo(e).Qt({index:En.userMutationsIndex,range:r},(u,d,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,r,u){const d=Nf(e),p=Qo(e);return p.add({}).next(v=>{_t("number"==typeof v);const w=new tC(v,t,r,u),D=function(G,z,oe){const Re=oe.baseMutations.map(at=>Ng(G.Ht,at)),Be=oe.mutations.map(at=>Ng(G.Ht,at));return new En(z,oe.batchId,oe.localWriteTime.toMillis(),Re,Be)}(this.O,this.userId,w),P=[];let R=new wn((G,z)=>Zt(G.canonicalString(),z.canonicalString()));for(const G of u){const z=Fi.key(this.userId,G.key.path,v);R=R.add(G.key.path.popLast()),P.push(p.put(D)),P.push(d.put(z,Fi.PLACEHOLDER))}return R.forEach(G=>{P.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.Ke[v]=w.keys()}),ge.waitFor(P).next(()=>w)})}lookupMutationBatch(e,t){return Qo(e).get(t).next(r=>r?(_t(r.userId===this.userId),wd(this.O,r)):null)}Ge(e,t){return this.Ke[t]?ge.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const u=r.keys();return this.Ke[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,u=IDBKeyRange.lowerBound([this.userId,r]);let d=null;return Qo(e).Qt({index:En.userMutationsIndex,range:u},(p,v,w)=>{v.userId===this.userId&&(_t(v.batchId>=r),d=wd(this.O,v)),w.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Qo(e).Qt({index:En.userMutationsIndex,range:t,reverse:!0},(u,d,p)=>{r=d.batchId,p.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qo(e).qt(En.userMutationsIndex,t).next(r=>r.map(u=>wd(this.O,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Fi.prefixForPath(this.userId,t.path),u=IDBKeyRange.lowerBound(r),d=[];return Nf(e).Qt({range:u},(p,v,w)=>{const[D,P,R]=p,G=Ua(P);if(D===this.userId&&t.path.isEqual(G))return Qo(e).get(R).next(z=>{if(!z)throw tt();_t(z.userId===this.userId),d.push(wd(this.O,z))});w.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Zt);const u=[];return t.forEach(d=>{const p=Fi.prefixForPath(this.userId,d.path),v=IDBKeyRange.lowerBound(p),w=Nf(e).Qt({range:v},(D,P,R)=>{const[G,z,oe]=D,Re=Ua(z);G===this.userId&&d.path.isEqual(Re)?r=r.add(oe):R.done()});u.push(w)}),ge.waitFor(u).next(()=>this.je(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,u=r.length+1,d=Fi.prefixForPath(this.userId,r),p=IDBKeyRange.lowerBound(d);let v=new wn(Zt);return Nf(e).Qt({range:p},(w,D,P)=>{const[R,G,z]=w,oe=Ua(G);R===this.userId&&r.isPrefixOf(oe)?oe.length===u&&(v=v.add(z)):P.done()}).next(()=>this.je(e,v))}je(e,t){const r=[],u=[];return t.forEach(d=>{u.push(Qo(e).get(d).next(p=>{if(null===p)throw tt();_t(p.userId===this.userId),r.push(wd(this.O,p))}))}),ge.waitFor(u).next(()=>r)}removeMutationBatch(e,t){return wT(e.zt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),ge.forEach(r,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound(Fi.prefixForUser(this.userId)),u=[];return Nf(e).Qt({range:r},(d,p,v)=>{if(d[0]===this.userId){const w=Ua(d[1]);u.push(w)}else v.done()}).next(()=>{_t(0===u.length)})})}containsKey(e,t){return lS(e,this.userId,t)}We(e){return ET(e).get(this.userId).next(t=>t||new Kc(this.userId,-1,""))}}function lS(n,e,t){const r=Fi.prefixForPath(e,t.path),u=r[1],d=IDBKeyRange.lowerBound(r);let p=!1;return Nf(n).Qt({range:d,jt:!0},(v,w,D)=>{const[P,R,G]=v;P===e&&R===u&&(p=!0),D.done()}).next(()=>p)}function Qo(n){return mr(n,En.store)}function Nf(n){return mr(n,Fi.store)}function ET(n){return mr(n,Kc.store)}class Rf{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Rf(0)}static Je(){return new Rf(-1)}}class dS{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const r=new Rf(t.highestTargetId);return t.highestTargetId=r.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>ct.fromTimestamp(new Fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Ye(e).next(u=>(u.highestListenSequenceNumber=t,r&&(u.lastRemoteSnapshotVersion=r.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Xe(e,u)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(r=>(r.targetCount+=1,this.tn(t,r),this.Xe(e,r))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kf(e).delete(t.targetId)).next(()=>this.Ye(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.Xe(e,r)))}removeTargets(e,t,r){let u=0;const d=[];return kf(e).Qt((p,v)=>{const w=Fg(v);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(u++,d.push(this.removeTargetData(e,w)))}).next(()=>ge.waitFor(d)).next(()=>u)}forEachTarget(e,t){return kf(e).Qt((r,u)=>{const d=Fg(u);t(d)})}Ye(e){return TT(e).get(rs.key).next(t=>(_t(null!==t),t))}Xe(e,t){return TT(e).put(rs.key,t)}Ze(e,t){return kf(e).put(_T(this.O,t))}tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const r=If(t),u=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let d=null;return kf(e).Qt({range:u,index:ns.queryTargetsIndexName},(p,v,w)=>{const D=Fg(v);vg(t,D.target)&&(d=D,w.done())}).next(()=>d)}addMatchingKeys(e,t,r){const u=[],d=Za(e);return t.forEach(p=>{const v=Tr(p.path);u.push(d.put(new ni(r,v))),u.push(this.referenceDelegate.addReference(e,r,p))}),ge.waitFor(u)}removeMatchingKeys(e,t,r){const u=Za(e);return ge.forEach(t,d=>{const p=Tr(d.path);return ge.waitFor([u.delete([r,p]),this.referenceDelegate.removeReference(e,r,d)])})}removeMatchingKeysForTargetId(e,t){const r=Za(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(u)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),u=Za(e);let d=nn();return u.Qt({range:r,jt:!0},(p,v,w)=>{const D=Ua(p[1]),P=new He(D);d=d.add(P)}).next(()=>d)}containsKey(e,t){const r=Tr(t.path),u=IDBKeyRange.bound([r],[pg(r)],!1,!0);let d=0;return Za(e).Qt({index:ni.documentTargetsIndex,jt:!0,range:u},([p,v],w,D)=>{0!==p&&(d++,D.done())}).next(()=>d>0)}Tt(e,t){return kf(e).get(t).next(r=>r?Fg(r):null)}}function kf(n){return mr(n,ns.store)}function TT(n){return mr(n,rs.store)}function Za(n){return mr(n,ni.store)}function el(n){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,pe.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==Xb)throw n;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function aC([n,e],[t,r]){const u=Zt(n,t);return 0===u?Zt(e,r):u}class hS{constructor(e){this.en=e,this.buffer=new wn(aC),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hx{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const r=this.on?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,pe.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){bd(u)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield el(u)}yield t.un(e)}))}}class fS{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(kr.A);const r=new hS(t);return this.an.forEachTarget(e,u=>r.rn(u.sequenceNumber)).next(()=>this.an.ln(e,u=>r.rn(u))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.an.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(CT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let r,u,d,p,v,w,D;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),u=this.params.maximumSequenceNumbersToCollect):u=R,p=Date.now(),this.nthSequenceNumber(e,u))).next(R=>(r=R,v=Date.now(),this.removeTargets(e,r,t))).next(R=>(d=R,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(D=Date.now(),Mb()<=kc.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-P}ms\n\tDetermined least recently used ${u} in `+(v-p)+`ms\n\tRemoved ${d} targets in `+(w-v)+`ms\n\tRemoved ${R} documents in `+(D-w)+`ms\nTotal Duration: ${D-P}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:R})))}}class pS{constructor(e,t){this.db=e,this.garbageCollector=new fS(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(u=>r+u))}dn(e){let t=0;return this.ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(r,u)=>t(u))}addReference(e,t,r){return h_(e,r)}removeReference(e,t,r){return h_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return h_(e,t)}wn(e,t){return function(r,u){let d=!1;return ET(r).Wt(p=>lS(r,p,u).next(v=>(v&&(d=!0),ge.resolve(!v)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this._n(e,(p,v)=>{if(v<=t){const w=this.wn(e,p).next(D=>{if(!D)return d++,r.getEntry(e,p).next(()=>(r.removeEntry(p,ct.min()),Za(e).delete([0,Tr(p.path)])))});u.push(w)}}).next(()=>ge.waitFor(u)).next(()=>r.apply(e)).next(()=>d)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return h_(e,t)}_n(e,t){const r=Za(e);let u,d=kr.A;return r.Qt({index:ni.documentTargetsIndex},([p,v],{path:w,sequenceNumber:D})=>{0===p?(d!==kr.A&&t(new He(Ua(u)),d),d=D,u=w):d=kr.A}).next(()=>{d!==kr.A&&t(new He(Ua(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function h_(n,e){return Za(n).put((r=n.currentSequenceNumber,new ni(0,Tr(e.path),r)));var r}class Id{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[u,d]of r)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),u=this.inner[r];if(void 0!==u){for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return 1===r.length?delete this.inner[t]:r.splice(u,1),!0;return!1}forEach(e){rd(this.inner,(t,r)=>{for(const[u,d]of r)e(u,d)})}isEmpty(){return CE(this.inner)}}class uC{constructor(){this.changes=new Id(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IT{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Uu(e).put(Ad(t),r)}removeEntry(e,t){const r=Uu(e),u=Ad(t);return r.delete(u)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.mn(e,r)))}getEntry(e,t){return Uu(e).get(Ad(t)).next(r=>this.gn(t,r))}yn(e,t){return Uu(e).get(Ad(t)).next(r=>({document:this.gn(t,r),size:Fs(r)}))}getEntries(e,t){let r=xs();return this.pn(e,t,(u,d)=>{const p=this.gn(u,d);r=r.insert(u,p)}).next(()=>r)}In(e,t){let r=xs(),u=new tr(He.comparator);return this.pn(e,t,(d,p)=>{const v=this.gn(d,p);r=r.insert(d,v),u=u.insert(d,Fs(p))}).next(()=>({documents:r,En:u}))}pn(e,t,r){if(t.isEmpty())return ge.resolve();const u=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),d=t.getIterator();let p=d.getNext();return Uu(e).Qt({range:u},(v,w,D)=>{const P=He.fromSegments(v);for(;p&&He.comparator(p,P)<0;)r(p,null),p=d.getNext();p&&p.isEqual(P)&&(r(p,w),p=d.hasNext()?d.getNext():null),p?D.Ut(p.path.toArray()):D.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAll(e,t,r){let u=xs();const d=t.length+1,p={};if(r.isEqual(ct.min())){const v=t.toArray();p.range=IDBKeyRange.lowerBound(v)}else{const v=t.toArray(),w=rC(r);p.range=IDBKeyRange.lowerBound([v,w],!0),p.index=On.collectionReadTimeIndex}return Uu(e).Qt(p,(v,w,D)=>{if(v.length!==d)return;const P=this.gn(He.fromSegments(v),w);t.isPrefixOf(P.key.path)?u=u.insert(P.key,P):D.done()}).next(()=>u)}newChangeBuffer(e){return new gS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return AT(e).get(Ps.key).next(t=>(_t(!!t),t))}mn(e,t){return AT(e).put(Ps.key,t)}gn(e,t){if(t){const r=mT(this.O,t);if(!r.isNoDocument()||!r.version.isEqual(ct.min()))return r}return xn.newInvalidDocument(e)}}class gS extends uC{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Id(r=>r.toString(),(r,u)=>r.isEqual(u))}applyChanges(e){const t=[];let r=0,u=new wn((d,p)=>Zt(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const v=this.An.get(d);if(p.isValidDocument()){const w=yT(this.Tn.O,p);u=u.add(d.path.popLast()),r+=Fs(w)-v,t.push(this.Tn.addEntry(e,d,w))}else if(r-=v,this.trackRemovals){const w=yT(this.Tn.O,p.convertToNoDocument(ct.min()));t.push(this.Tn.addEntry(e,d,w))}else t.push(this.Tn.removeEntry(e,d))}),u.forEach(d=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Tn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(r=>(this.An.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:r,En:u})=>(u.forEach((d,p)=>{this.An.set(d,p)}),r))}}function AT(n){return mr(n,Ps.store)}function Uu(n){return mr(n,On.store)}function Ad(n){return n.path.toArray()}class mS{constructor(e){this.O=e}kt(e,t,r,u){const d=new Xy("createOrUpgrade",t);var v;r<1&&u>=1&&(e.createObjectStore(Os.store),(v=e).createObjectStore(Kc.store,{keyPath:Kc.keyPath}),v.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Fi.store),cC(e),function(v){v.createObjectStore(On.store)}(e));let p=ge.resolve();return r<3&&u>=3&&(0!==r&&(function(v){v.deleteObjectStore(ni.store),v.deleteObjectStore(ns.store),v.deleteObjectStore(rs.store)}(e),cC(e)),p=p.next(()=>function(v){const w=v.store(rs.store),D=new rs(0,0,ct.min().toTimestamp(),0);return w.put(rs.key,D)}(d))),r<4&&u>=4&&(0!==r&&(p=p.next(()=>function(v,w){return w.store(En.store).qt().next(D=>{v.deleteObjectStore(En.store),v.createObjectStore(En.store,{keyPath:En.keyPath,autoIncrement:!0}).createIndex(En.userMutationsIndex,En.userMutationsKeyPath,{unique:!0});const P=w.store(En.store),R=D.map(G=>P.put(G));return ge.waitFor(R)})}(e,d))),p=p.next(()=>{!function(v){v.createObjectStore(Lu.store,{keyPath:Lu.keyPath})}(e)})),r<5&&u>=5&&(p=p.next(()=>this.Rn(d))),r<6&&u>=6&&(p=p.next(()=>(function(v){v.createObjectStore(Ps.store)}(e),this.Pn(d)))),r<7&&u>=7&&(p=p.next(()=>this.bn(d))),r<8&&u>=8&&(p=p.next(()=>this.vn(e,d))),r<9&&u>=9&&(p=p.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const w=v.objectStore(On.store);w.createIndex(On.readTimeIndex,On.readTimeIndexPath,{unique:!1}),w.createIndex(On.collectionReadTimeIndex,On.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&u>=10&&(p=p.next(()=>this.Vn(d))),r<11&&u>=11&&(p=p.next(()=>{(function(v){v.createObjectStore(Of.store,{keyPath:Of.keyPath})})(e),function(v){v.createObjectStore(Pf.store,{keyPath:Pf.keyPath})}(e)})),r<12&&u>=12&&(p=p.next(()=>{!function(v){const w=v.createObjectStore(Ur.store,{keyPath:Ur.keyPath});w.createIndex(Ur.collectionPathOverlayIndex,Ur.collectionPathOverlayIndexPath,{unique:!1}),w.createIndex(Ur.collectionGroupOverlayIndex,Ur.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),r<13&&u>=13&&(p=p.next(()=>{!function(v){v.createObjectStore(Ns.store,{keyPath:Ns.keyPath,autoIncrement:!0}).createIndex(Ns.collectionGroupIndex,Ns.collectionGroupIndexPath,{unique:!1}),v.createObjectStore(po.store,{keyPath:po.keyPath}).createIndex(po.sequenceNumberIndex,po.sequenceNumberIndexPath,{unique:!1}),v.createObjectStore(Rs.store,{keyPath:Rs.keyPath}).createIndex(Rs.documentKeyIndex,Rs.documentKeyIndexPath,{unique:!1})}(e)})),p}Pn(e){let t=0;return e.store(On.store).Qt((r,u)=>{t+=Fs(u)}).next(()=>{const r=new Ps(t);return e.store(Ps.store).put(Ps.key,r)})}Rn(e){const t=e.store(Kc.store),r=e.store(En.store);return t.qt().next(u=>ge.forEach(u,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return r.qt(En.userMutationsIndex,p).next(v=>ge.forEach(v,w=>{_t(w.userId===d.userId);const D=wd(this.O,w);return wT(e,d.userId,D).next(()=>{})}))}))}bn(e){const t=e.store(ni.store),r=e.store(On.store);return e.store(rs.store).get(rs.key).next(u=>{const d=[];return r.Qt((p,v)=>{const w=new Kt(p),D=[0,Tr(w)];d.push(t.get(D).next(P=>P?ge.resolve():t.put(new ni(0,Tr(w),u.highestListenSequenceNumber))))}).next(()=>ge.waitFor(d))})}vn(e,t){e.createObjectStore(Yo.store,{keyPath:Yo.keyPath});const r=t.store(Yo.store),u=new Xc,d=p=>{if(u.add(p)){const v=p.lastSegment(),w=p.popLast();return r.put({collectionId:v,parent:Tr(w)})}};return t.store(On.store).Qt({jt:!0},(p,v)=>{const w=new Kt(p);return d(w.popLast())}).next(()=>t.store(Fi.store).Qt({jt:!0},([p,v,w],D)=>{const P=Ua(v);return d(P.popLast())}))}Vn(e){const t=e.store(ns.store);return t.Qt((r,u)=>{const d=Fg(u),p=_T(this.O,d);return t.put(p)})}}function cC(n){n.createObjectStore(ni.store,{keyPath:ni.keyPath}).createIndex(ni.documentTargetsIndex,ni.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ns.store,{keyPath:ns.keyPath}).createIndex(ns.queryTargetsIndexName,ns.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(rs.store)}const Ff="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lf{constructor(e,t,r,u,d,p,v,w,D,P,R=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Sn=d,this.window=p,this.document=v,this.Dn=D,this.Cn=P,this.schemaVersion=R,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=G=>Promise.resolve(),!Lf.Vt())throw new Se(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pS(this,u),this.Bn=t+"main",this.O=new gT(w),this.Ln=new go(this.Bn,this.schemaVersion,new mS(this.O)),this.Un=new dS(this.referenceDelegate,this.O),this.qn=new IT(this.O),this.Kn=new iS,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===P&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(he.FAILED_PRECONDITION,Ff);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new kr(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var r=(0,pe.Z)(function*(u){if(t.started)return e(u)});return function(u){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>f_(e).put(new Lu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(bd(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return Zu(e).get(Os.key).next(t=>ge.resolve(this.ts(t)))}es(e){return f_(e).delete(this.clientId)}ns(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const u=mr(r,Lu.store);return u.qt().next(d=>{const p=e.rs(d,18e5),v=d.filter(w=>-1===p.indexOf(w));return ge.forEach(v,w=>u.delete(w.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Gn)for(const r of t)e.Gn.removeItem(e.os(r.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?ge.resolve(!0):Zu(e).get(Os.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new Se(he.FAILED_PRECONDITION,Ff);return!1}}return!(!this.networkEnabled||!this.inForeground)||f_(e).qt().next(r=>void 0===this.rs(r,5e3).find(u=>{if(this.clientId!==u.clientId){const p=!this.inForeground&&u.inForeground,v=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||p&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Os.store,Lu.store],t=>{const r=new pT(t,kr.A);return e.Xn(r).next(()=>e.es(r))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>f_(e).qt().next(t=>this.rs(t,18e5).map(r=>r.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return d_.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new dx(e)}getDocumentOverlayCache(e){return i_.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=13===(p=this.schemaVersion)?nS:12===p?_d:11===p?lT:void tt();var p;let v;return this.Ln.runTransaction(e,u,d,w=>(v=new pT(w,this.Nn?this.Nn.next():kr.A),"readwrite-primary"===t?this.Jn(v).next(D=>!!D||this.Yn(v)).next(D=>{if(!D)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new Se(he.FAILED_PRECONDITION,Xb);return r(v)}).next(D=>this.Zn(v).next(()=>D)):this._s(v).next(()=>r(v)))).then(w=>(v.raiseOnCommittedEvent(),w))}_s(e){return Zu(e).get(Os.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(he.FAILED_PRECONDITION,Ff)})}Zn(e){const t=new Os(this.clientId,this.allowTabSynchronization,Date.now());return Zu(e).put(Os.key,t)}static Vt(){return go.Vt()}Xn(e){const t=Zu(e);return t.get(Os.key).next(r=>this.ts(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete(Os.key)):ge.resolve())}ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const r=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zu(n){return mr(n,Os.store)}function f_(n){return mr(n,Lu.store)}function lC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fx{constructor(e,t){this.progress=e,this.ws=t}}class yS{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(u=>{for(const d of r)d.applyToLocalView(u);return u})}Is(e,t){e.forEach((r,u)=>{for(const d of t)d.applyToLocalView(u)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return He.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.Rs(e,t.path):wg(t)?this.Ps(e,t,r):this.bs(e,t,r);var u}Rs(e,t){return this.ys(e,new He(t)).next(r=>{let u=Gy();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}Ps(e,t,r){const u=t.collectionGroup;let d=Gy();return this.indexManager.getCollectionParents(e,u).next(p=>ge.forEach(p,v=>{const w=(D=t,P=v.child(u),new ku(P,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,P;return this.bs(e,w,r).next(D=>{D.forEach((P,R)=>{d=d.insert(P,R)})})}).next(()=>d))}bs(e,t,r){let u;return this.qn.getAll(e,t.path,r).next(d=>(u=d,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(d=>{for(const p of d)for(const v of p.mutations){const w=v.key;let D=u.get(w);null==D&&(D=xn.newInvalidDocument(w),u=u.insert(w,D)),$y(v,D,p.localWriteTime),D.isFoundDocument()||(u=u.remove(w))}}).next(()=>(u.forEach((d,p)=>{jy(t,p)||(u=u.remove(d))}),u))}}class dC{constructor(e,t,r,u){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=u}static Ss(e,t){let r=nn(),u=nn();for(const d of t.docChanges)switch(d.type){case 0:r=r.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new dC(e,t.fromCache,r,u)}}class DT{Ds(e){this.Cs=e}As(e,t,r,u){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||r.isEqual(ct.min())?this.Ns(e,t):this.Cs.Es(e,u).next(d=>{const p=this.xs(t,d);return(Zy(t)||Cg(t))&&this.ks(t.limitType,p,u,r)?this.Ns(e,t):(Mb()<=kc.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ms(t)),this.Cs.As(e,t,r).next(v=>(p.forEach(w=>{v=v.insert(w.key,w)}),v)))});var d}xs(e,t){let r=new wn(Vb(e));return t.forEach((u,d)=>{jy(e,d)&&(r=r.add(d))}),r}ks(e,t,r,u){if(r.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Ns(e,t){return Mb()<=kc.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ms(t)),this.Cs.As(e,t,ct.min())}}class _S{constructor(e,t,r,u){this.persistence=e,this.Os=t,this.O=u,this.Ms=new tr(Zt),this.$s=new Id(d=>If(d),vg),this.Fs=ct.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new yS(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ST(n,e,t,r){return new _S(n,e,t,r)}function MT(n,e){return hC.apply(this,arguments)}function hC(){return(hC=(0,pe.Z)(function*(n,e){const t=Ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let u;return t.gs.getAllMutationBatches(r).next(d=>(u=d,t.Ls(e),t.gs.getAllMutationBatches(r))).next(d=>{const p=[],v=[];let w=nn();for(const D of u){p.push(D.batchId);for(const P of D.mutations)w=w.add(P.key)}for(const D of d){v.push(D.batchId);for(const P of D.mutations)w=w.add(P.key)}return t.Us.Es(r,w).next(D=>({qs:D,removedBatchIds:p,addedBatchIds:v}))})})})).apply(this,arguments)}function vS(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),d=t.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,w,D){const P=w.batch,R=P.keys();let G=ge.resolve();return R.forEach(z=>{G=G.next(()=>D.getEntry(v,z)).next(oe=>{const Re=w.docVersions.get(z);_t(null!==Re),oe.version.compareTo(Re)<0&&(P.applyToRemoteDocument(oe,w),oe.isValidDocument()&&(oe.setReadTime(w.commitVersion),D.addEntry(oe)))})}),G.next(()=>p.gs.removeMutationBatch(v,P))}(t,r,e,d).next(()=>d.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,u))})}function xT(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function px(n,e){const t=Ue(n),r=e.snapshotVersion;let u=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=t.Bs.newChangeBuffer({trackRemovals:!0});u=t.Ms;const v=[];e.targetChanges.forEach((D,P)=>{const R=u.get(P);if(!R)return;v.push(t.Un.removeMatchingKeys(d,D.removedDocuments,P).next(()=>t.Un.addMatchingKeys(d,D.addedDocuments,P)));let G=R.withSequenceNumber(d.currentSequenceNumber);var z,oe,Re;e.targetMismatches.has(P)?G=G.withResumeToken(Xn.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):D.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(D.resumeToken,r)),u=u.insert(P,G),oe=G,Re=D,(0===(z=R).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&v.push(t.Un.updateTargetData(d,G))});let w=xs();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(d,D))}),v.push(OT(d,p,e.documentUpdates).next(D=>{w=D})),!r.isEqual(ct.min())){const D=t.Un.getLastRemoteSnapshotVersion(d).next(P=>t.Un.setTargetsMetadata(d,d.currentSequenceNumber,r));v.push(D)}return ge.waitFor(v).next(()=>p.apply(d)).next(()=>t.Us.Ts(d,w)).next(()=>w)}).then(d=>(t.Ms=u,d))}function OT(n,e,t){let r=nn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=xs();return t.forEach((p,v)=>{const w=u.get(p);v.isNoDocument()&&v.version.isEqual(ct.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):Ne("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",v.version)}),d})}function Vg(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function Vf(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return t.Un.getTargetData(r,e).next(d=>d?(u=d,ge.resolve(u)):t.Un.allocateTargetId(r).next(p=>(u=new Qc(e,p,0,r.currentSequenceNumber),t.Un.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=t.Ms.get(r.targetId);return(null===u||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function Uf(n,e,t){return fC.apply(this,arguments)}function fC(){return(fC=(0,pe.Z)(function*(n,e,t){const r=Ue(n),u=r.Ms.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",d,p=>r.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!bd(p))throw p;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}r.Ms=r.Ms.remove(e),r.$s.delete(u.target)})).apply(this,arguments)}function Dd(n,e,t){const r=Ue(n);let u=ct.min(),d=nn();return r.persistence.runTransaction("Execute query","readonly",p=>function(v,w,D){const P=Ue(v),R=P.$s.get(D);return void 0!==R?ge.resolve(P.Ms.get(R)):P.Un.getTargetData(w,D)}(r,p,ho(e)).next(v=>{if(v)return u=v.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(p,v.targetId).next(w=>{d=w})}).next(()=>r.Os.As(p,e,t?u:ct.min(),t?d:nn())).next(v=>({documents:v,Ks:d})))}function tl(n,e){const t=Ue(n),r=Ue(t.Un),u=t.Ms.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>r.Tt(d,e).next(p=>p?p.target:null))}function pC(n){const e=Ue(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,u,d){const p=Ue(r);let v=xs(),w=rC(d);const D=Uu(u),P=IDBKeyRange.lowerBound(w,!0);return D.Qt({index:On.readTimeIndex,range:P},(R,G)=>{const z=mT(p.O,G);v=v.insert(z.key,z),w=G.readTime}).next(()=>({ws:v,readTime:iC(w)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:r})=>(e.Fs=r,t))}function PT(){return(PT=(0,pe.Z)(function*(n){const e=Ue(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const u=Uu(r);let d=ct.min();return u.Qt({index:On.readTimeIndex,reverse:!0},(p,v,w)=>{v.readTime&&(d=iC(v.readTime)),w.done()}).next(()=>d)}(t)).then(t=>{e.Fs=t})})).apply(this,arguments)}function Zf(){return(Zf=(0,pe.Z)(function*(n,e,t,r){const u=Ue(n);let d=nn(),p=xs();for(const D of t){const P=e.Gs(D.metadata.name);D.document&&(d=d.add(P));const R=e.js(D);R.setReadTime(e.Qs(D.metadata.readTime)),p=p.insert(P,R)}const v=u.Bs.newChangeBuffer({trackRemovals:!0}),w=yield Vf(u,(D=r,ho(fd(Kt.fromString(`__bundle__/docs/${D}`)))));var D;return u.persistence.runTransaction("Apply bundle documents","readwrite",D=>OT(D,v,p).next(P=>(v.apply(D),P)).next(P=>u.Un.removeMatchingKeysForTargetId(D,w.targetId).next(()=>u.Un.addMatchingKeys(D,d,w.targetId)).next(()=>u.Us.Ts(D,P)).next(()=>P)))})).apply(this,arguments)}function wS(n,e){return gC.apply(this,arguments)}function gC(){return(gC=(0,pe.Z)(function*(n,e,t=nn()){const r=yield Vf(n,ho(t_(e.bundledQuery))),u=Ue(n);return u.persistence.runTransaction("Save named query","readwrite",d=>{const p=Vr(e.readTime);if(r.snapshotVersion.compareTo(p)>=0)return u.Kn.saveNamedQuery(d,e);const v=r.withResumeToken(Xn.EMPTY_BYTE_STRING,p);return u.Ms=u.Ms.insert(v.targetId,v),u.Un.updateTargetData(d,v).next(()=>u.Un.removeMatchingKeysForTargetId(d,r.targetId)).next(()=>u.Un.addMatchingKeys(d,t,r.targetId)).next(()=>u.Kn.saveNamedQuery(d,e))})})).apply(this,arguments)}class NT{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return ge.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:Vr(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:t_(r.bundledQuery),readTime:Vr(r.readTime)}),ge.resolve();var r}}class RT{constructor(){this.overlays=new tr(He.comparator),this.Hs=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(u=>{this.Yt(e,t,u)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const u=this.Hs.get(r);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.Hs.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const u=new Map,d=t.length+1,p=new He(t.child("")),v=this.overlays.getIteratorFrom(p);for(;v.hasNext();){const w=v.getNext().value,D=w.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===d&&w.largestBatchId>r&&u.set(w.getKey(),w)}return ge.resolve(u)}getOverlaysForCollectionGroup(e,t,r,u){let d=new tr((D,P)=>D-P);const p=this.overlays.getIterator();for(;p.hasNext();){const D=p.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let P=d.get(D.largestBatchId);null===P&&(P=new Map,d=d.insert(D.largestBatchId,P)),P.set(D.getKey(),D)}}const v=new Map,w=d.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((D,P)=>v.set(P,D)),!(v.size>=u)););return ge.resolve(v)}Yt(e,t,r){if(null===r)return;const u=this.overlays.get(r.key);null!==u&&this.Hs.get(u.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new nC(t,r));let d=this.Hs.get(t);void 0===d&&(d=new Set,this.Hs.set(t,d)),d.add(r.key)}}class Ug{constructor(){this.Js=new wn(Ir.Ys),this.Xs=new wn(Ir.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new Ir(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new Ir(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new He(new Kt([])),r=new Ir(t,e),u=new Ir(t,e+1),d=[];return this.Xs.forEachInRange([r,u],p=>{this.ei(p),d.push(p.key)}),d}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new He(new Kt([])),r=new Ir(t,e),u=new Ir(t,e+1);let d=nn();return this.Xs.forEachInRange([r,u],p=>{d=d.add(p.key)}),d}containsKey(e){const t=new Ir(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ir{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return He.comparator(e.key,t.key)||Zt(e.oi,t.oi)}static Zs(e,t){return Zt(e.oi,t.oi)||He.comparator(e.key,t.key)}}class kT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new wn(Ir.Ys)}checkEmpty(e){return ge.resolve(0===this.gs.length)}addMutationBatch(e,t,r,u){const d=this.ci;this.ci++;const p=new tC(d,t,r,u);this.gs.push(p);for(const v of u)this.ui=this.ui.add(new Ir(v.key,d)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return ge.resolve(p)}lookupMutationBatch(e,t){return ge.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.hi(t+1),d=u<0?0:u;return ge.resolve(this.gs.length>d?this.gs[d]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return ge.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ir(t,0),u=new Ir(t,Number.POSITIVE_INFINITY),d=[];return this.ui.forEachInRange([r,u],p=>{const v=this.ai(p.oi);d.push(v)}),ge.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Zt);return t.forEach(u=>{const d=new Ir(u,0),p=new Ir(u,Number.POSITIVE_INFINITY);this.ui.forEachInRange([d,p],v=>{r=r.add(v.oi)})}),ge.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,u=r.length+1;let d=r;He.isDocumentKey(d)||(d=d.child(""));const p=new Ir(new He(d),0);let v=new wn(Zt);return this.ui.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===u&&(v=v.add(w.oi)),!0)},p),ge.resolve(this.li(v))}li(e){const t=[];return e.forEach(r=>{const u=this.ai(r);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){_t(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return ge.forEach(t.mutations,u=>{const d=new Ir(u.key,t.batchId);return r=r.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new Ir(t,0),u=this.ui.firstAfterOrEqual(r);return ge.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return ge.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class ES{constructor(e){this.di=e,this.docs=new tr(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,u=this.docs.get(r),d=u?u.size:0,p=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=xs();return t.forEach(u=>{const d=this.docs.get(u);r=r.insert(u,d?d.document.mutableCopy():xn.newInvalidDocument(u))}),ge.resolve(r)}getAll(e,t,r){let u=xs();const d=new He(t.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!t.isPrefixOf(v.path))break;v.path.length>t.length+1||w.readTime.compareTo(r)<=0||(u=u.insert(w.key,w.mutableCopy()))}return ge.resolve(u)}_i(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TS(this)}getSize(e){return ge.resolve(this.size)}}class TS extends uC{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?t.push(this.Tn.addEntry(e,u)):this.Tn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class FT{constructor(e){this.persistence=e,this.wi=new Id(t=>If(t),vg),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.mi=0,this.gi=new Ug,this.targetCount=0,this.yi=Rf.He()}forEachTarget(e,t){return this.wi.forEach((r,u)=>t(u)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),ge.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new Rf(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Ze(t),ge.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let u=0;const d=[];return this.wi.forEach((p,v)=>{v.sequenceNumber<=t&&null===r.get(v.targetId)&&(this.wi.delete(p),d.push(this.removeMatchingKeysForTargetId(e,v.targetId)),u++)}),ge.waitFor(d).next(()=>u)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(p=>{d.push(u.markPotentiallyOrphaned(e,p))}),ge.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.gi.containsKey(t))}}class IS{constructor(e,t){this.pi={},this.overlays={},this.Nn=new kr(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new FT(this),this.indexManager=new cS,this.qn=new ES(r=>this.referenceDelegate.Ii(r)),this.O=new gT(t),this.Kn=new NT(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new kT(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const u=new LT(this.Nn.next());return this.referenceDelegate.Ei(),r(u).next(d=>this.referenceDelegate.Ti(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ai(e,t){return ge.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class LT extends dT{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.Ri=new Ug,this.Pi=null}static bi(e){return new Bf(e)}get vi(){if(this.Pi)return this.Pi;throw tt()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(u=>this.vi.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.vi.add(d.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.vi,r=>{const u=He.fromPath(r);return this.Vi(e,u).next(d=>{d||t.removeEntry(u,ct.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return ge.or([()=>ge.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function Zg(n,e){return`firestore_clients_${n}_${e}`}function AS(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Sd(n,e){return`firestore_targets_${n}_${e}`}class Wt{constructor(e,t,r,u){this.user=e,this.batchId=t,this.state=r,this.error=u}static Si(e,t,r){const u=JSON.parse(r);let d,p="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return p&&u.error&&(p="string"==typeof u.error.message&&"string"==typeof u.error.code,p&&(d=new Se(u.error.code,u.error.message))),p?new Wt(e,t,u.state,d):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mo{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Si(e,t){const r=JSON.parse(t);let u,d="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(u=new Se(r.error.code,r.error.message))),d?new mo(e,r.state,u):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const r=JSON.parse(t);let u="object"==typeof r&&r.activeTargetIds instanceof Array,d=Sg();for(let p=0;u&&p<r.activeTargetIds.length;++p)u=Nb(r.activeTargetIds[p]),d=d.add(r.activeTargetIds[p]);return u?new Bu(e,d):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Md{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Md(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VT{constructor(){this.activeTargetIds=Sg()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yt{constructor(e,t,r,u,d){this.window=e,this.Sn=t,this.persistenceKey=r,this.xi=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new tr(Zt),this.started=!1,this.$i=[];const p=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Fi=Zg(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new VT),this.Li=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.ds();for(const u of t){if(u===e.xi)continue;const d=e.getItem(Zg(e.persistenceKey,u));if(d){const p=Bu.Si(u,d);p&&(e.Mi=e.Mi.insert(p.clientId,p))}}e.ji();const r=e.storage.getItem(e.Ki);if(r){const u=e.Qi(r);u&&e.Wi(u)}for(const u of e.$i)e.Oi(u);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((r,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,r){this.Hi(e,t,r),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Sd(this.persistenceKey,e));if(r){const u=mo.Si(e,r);u&&(t=u.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sd(this.persistenceKey,e))}updateQueryState(e,t,r){this.Xi(e,t,r)}handleUserChange(e,t,r){t.forEach(u=>{this.Ji(u)}),this.currentUser=e,r.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Fi)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Li.test(r.key)){if(null==r.newValue){const u=t.er(r.key);return t.nr(u,null)}{const u=t.sr(r.key,r.newValue);if(u)return t.nr(u.clientId,u)}}else if(t.Ui.test(r.key)){if(null!==r.newValue){const u=t.ir(r.key,r.newValue);if(u)return t.rr(u)}}else if(t.qi.test(r.key)){if(null!==r.newValue){const u=t.cr(r.key,r.newValue);if(u)return t.ur(u)}}else if(r.key===t.Ki){if(null!==r.newValue){const u=t.Qi(r.newValue);if(u)return t.Wi(u)}}else if(r.key===t.Bi){const u=function(d){let p=kr.A;if(null!=d)try{const v=JSON.parse(d);_t("number"==typeof v),p=v}catch(v){fr("SharedClientState","Failed to read sequence number from WebStorage",v)}return p}(r.newValue);u!==kr.A&&t.sequenceNumberHandler(u)}else if(r.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(r)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,r){const u=new Wt(this.currentUser,e,t,r),d=AS(this.persistenceKey,this.currentUser,e);this.setItem(d,u.Di())}Ji(e){const t=AS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,r){const u=Sd(this.persistenceKey,e),d=new mo(e,t,r);this.setItem(u,d.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const r=this.er(e);return Bu.Si(r,t)}ir(e,t){const r=this.Ui.exec(e),u=Number(r[1]);return Wt.Si(new Rr(void 0!==r[2]?r[2]:null),u,t)}cr(e,t){const r=this.qi.exec(e),u=Number(r[1]);return mo.Si(u,t)}Qi(e){return Md.Si(e)}rr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const r=t?this.Mi.insert(e,t):this.Mi.remove(e),u=this.zi(this.Mi),d=this.zi(r),p=[],v=[];return d.forEach(w=>{u.has(w)||p.push(w)}),u.forEach(w=>{d.has(w)||v.push(w)}),this.syncEngine.dr(p,v).then(()=>{this.Mi=r})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Sg();return e.forEach((r,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Ls{constructor(){this._r=new VT,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new VT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class mC{mr(e){}shutdown(){}}class nl{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class UT{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class ZT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,u,d){const p=this.$r(e,t);Ne("RestConnection","Sending: ",p,r);const v={};return this.Fr(v,u,d),this.Br(e,p,v,r).then(w=>(Ne("RestConnection","Received: ",w),w),w=>{throw _f("RestConnection",`${e} failed with error: `,w,"url: ",p,"request:",r),w})}Lr(e,t,r,u,d){return this.Mr(e,t,r,u,d)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),r&&r.headers.forEach((u,d)=>e[d]=u)}$r(e,t){return`${this.kr}/v1/${t}:${gx[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,u){return new Promise((d,p)=>{const v=new ex;v.listenOnce(gE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Sb.NO_ERROR:const D=v.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(D)),d(D);break;case Sb.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),p(new Se(he.DEADLINE_EXCEEDED,"Request time out"));break;case Sb.HTTP_ERROR:const P=v.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',P,"response text:",v.getResponseText()),P>0){const R=v.getResponseJson().error;if(R&&R.status&&R.message){const G=function(z){const oe=z.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(oe)>=0?oe:he.UNKNOWN}(R.status);p(new Se(G,R.message))}else p(new Se(he.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Se(he.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(u);v.send(t,"POST",w,r,15)})}Ur(e,t,r){const u=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fE(),p=pE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new yE({})),this.Fr(v.initMessageHeaders,t,r),(0,Ot.uI)()||(0,Ot.b$)()||(0,Ot.d)()||(0,Ot.w1)()||(0,Ot.Mn)()||(0,Ot.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");const w=u.join("");Ne("Connection","Creating WebChannel: "+w,v);const D=d.createWebChannel(w,v);let P=!1,R=!1;const G=new UT({Ar:oe=>{R?Ne("Connection","Not sending because WebChannel is closed:",oe):(P||(Ne("Connection","Opening WebChannel transport."),D.open(),P=!0),Ne("Connection","WebChannel sending:",oe),D.send(oe))},Rr:()=>D.close()}),z=(oe,Re,Be)=>{oe.listen(Re,at=>{try{Be(at)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return z(D,Ry.EventType.OPEN,()=>{R||Ne("Connection","WebChannel transport opened.")}),z(D,Ry.EventType.CLOSE,()=>{R||(R=!0,Ne("Connection","WebChannel transport closed"),G.Cr())}),z(D,Ry.EventType.ERROR,oe=>{R||(R=!0,_f("Connection","WebChannel transport errored:",oe),G.Cr(new Se(he.UNAVAILABLE,"The operation could not be completed")))}),z(D,Ry.EventType.MESSAGE,oe=>{var Re;if(!R){const Be=oe.data[0];_t(!!Be);const at=Be,Ft=at.error||(null===(Re=at[0])||void 0===Re?void 0:Re.error);if(Ft){Ne("Connection","WebChannel received error:",Ft);const vn=Ft.status;let Vt=function(zu){const GA=gr[zu];if(void 0!==GA)return KE(GA)}(vn),rr=Ft.message;void 0===Vt&&(Vt=he.INTERNAL,rr="Unknown error status: "+vn+" with message "+Ft.message),R=!0,G.Cr(new Se(Vt,rr)),D.close()}else Ne("Connection","WebChannel received:",Be),G.Nr(Be)}}),z(p,LD.STAT_EVENT,oe=>{oe.stat===mE.PROXY?Ne("Connection","Detected buffering proxy"):oe.stat===mE.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.Dr()},0),G}}function DS(){return"undefined"!=typeof window?window:null}function p_(){return"undefined"!=typeof document?document:null}function Bg(n){return new JD(n,!0)}class is{constructor(e,t,r=1e3,u=1.5,d=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=u,this.Gr=d,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),u=Math.max(0,t-r);u>0&&Ne("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,u,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class Tn{constructor(e,t,r,u,d,p,v,w){this.Sn=e,this.Xr=r,this.Zr=u,this.eo=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=v,this.listener=w,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new is(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,pe.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,pe.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.no===t&&this.po(r,u)},r=>{e(()=>{const u=new Se(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(u)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(u=>{r(()=>this.Io(u))}),this.stream.onMessage(u=>{r(()=>this.onMessage(u))})}uo(){var e=this;this.state=5,this.ro.Hr((0,pe.Z)(function*(){e.state=0,e.start()}))}Io(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jo extends Tn{constructor(e,t,r,u,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,u,p),this.O=d}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:tt(),u=e.targetChange.targetIds||[],d=function(w,D){return w.N?(_t(void 0===D||"string"==typeof D),Xn.fromBase64String(D||"")):(_t(void 0===D||D instanceof Uint8Array),Xn.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,v=p&&function(w){const D=void 0===w.code?he.UNKNOWN:KE(w.code);return new Se(D,w.message||"")}(p);t=new QD(r,u,d,v||null)}else if("documentChange"in e){const r=e.documentChange,u=Fu(n,r.document.name),d=Vr(r.document.updateTime),p=new bi({mapValue:{fields:r.document.fields}}),v=xn.newFoundDocument(u,d,p);t=new zy(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,u=Fu(n,r.document),d=r.readTime?Vr(r.readTime):ct.min(),p=xn.newNoDocument(u,d);t=new zy([],r.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const r=e.documentRemove,u=Fu(n,r.document);t=new zy([],r.removedTargetIds||[],u,null)}else{if(!("filter"in e))return tt();{const r=e.filter,d=new YD(r.count||0);t=new yd(r.targetId,d)}}var w;return t}(this.O,e),r=function(u){if(!("targetChange"in u))return ct.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ct.min():d.readTime?Vr(d.readTime):ct.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=Pg(this.O),t.addTarget=function(u,d){let p;const v=d.target;return p=bg(v)?{documents:nT(u,v)}:{query:rT(u,v)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?p.resumeToken=eT(u,d.resumeToken):d.snapshotVersion.compareTo(ct.min())>0&&(p.readTime=xg(u,d.snapshotVersion.toTimestamp())),p}(this.O,e);const r=function(n,e){const t=function(r,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=Pg(this.O),t.removeTarget=e,this.fo(t)}}class BT extends Tn{constructor(e,t,r,u,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,u,p),this.O=d,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,u){let d=Vr(r.updateTime?r.updateTime:u);return d.isEqual(ct.min())&&(d=Vr(u)),new ZE(d,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.Vo(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Pg(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ng(this.O,r))};this.fo(t)}}class SS extends class{}{constructor(e,t,r,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=u,this.Co=!1}No(){if(this.Co)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.eo.Mr(e,t,r,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(he.UNKNOWN,u.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.eo.Lr(e,t,r,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(he.UNKNOWN,u.toString())})}terminate(){this.Co=!0}}class jT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(fr(t),this.Oo=!1):Ne("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class yC{constructor(e,t,r,u,d){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=d,this.jo.mr(v=>{r.enqueueAndForget((0,pe.Z)(function*(){var w;Vs(p)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,pe.Z)(function*(D){const P=Ue(D);P.Ko.add(4),yield jf(P),P.Qo.set("Unknown"),P.Ko.delete(4),yield Ba(P)}),function(D){return w.apply(this,arguments)})(p))}))}),this.Qo=new jT(r,u)}}function Ba(n){return xd.apply(this,arguments)}function xd(){return(xd=(0,pe.Z)(function*(n){if(Vs(n))for(const e of n.Go)yield e(!0)})).apply(this,arguments)}function jf(n){return ju.apply(this,arguments)}function ju(){return(ju=(0,pe.Z)(function*(n){for(const e of n.Go)yield e(!1)})).apply(this,arguments)}function g_(n,e){const t=Ue(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),m_(t)?qg(t):Gf(t).co()&&jg(t,e))}function qf(n,e){const t=Ue(n),r=Gf(t);t.qo.delete(e),r.co()&&$f(t,e),0===t.qo.size&&(r.co()?r.ho():Vs(t)&&t.Qo.set("Unknown"))}function jg(n,e){n.Wo.Z(e.targetId),Gf(n).Ao(e)}function $f(n,e){n.Wo.Z(e),Gf(n).Ro(e)}function qg(n){n.Wo=new ax({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),Gf(n).start(),n.Qo.Mo()}function m_(n){return Vs(n)&&!Gf(n).oo()&&n.qo.size>0}function Vs(n){return 0===Ue(n).Ko.size}function qT(n){n.Wo=void 0}function y_(n){return __.apply(this,arguments)}function __(){return(__=(0,pe.Z)(function*(n){n.qo.forEach((e,t)=>{jg(n,e)})})).apply(this,arguments)}function $T(n,e){return v_.apply(this,arguments)}function v_(){return(v_=(0,pe.Z)(function*(n,e){qT(n),m_(n)?(n.Qo.Bo(e),qg(n)):n.Qo.set("Unknown")})).apply(this,arguments)}function b_(n,e,t){return _C.apply(this,arguments)}function _C(){return(_C=(0,pe.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof QD&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(u,d){const p=d.cause;for(const v of d.targetIds)u.qo.has(v)&&(yield u.remoteSyncer.rejectListen(v,p),u.qo.delete(v),u.Wo.removeTarget(v))}),function(u,d){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hf(n,r)}else if(e instanceof zy?n.Wo.ct(e):e instanceof yd?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(ct.min()))try{const r=yield xT(n.localStore);t.compareTo(r)>=0&&(yield function(u,d){const p=u.Wo.yt(d);return p.targetChanges.forEach((v,w)=>{if(v.resumeToken.approximateByteSize()>0){const D=u.qo.get(w);D&&u.qo.set(w,D.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach(v=>{const w=u.qo.get(v);if(!w)return;u.qo.set(v,w.withResumeToken(Xn.EMPTY_BYTE_STRING,w.snapshotVersion)),$f(u,v);const D=new Qc(w.target,v,1,w.sequenceNumber);jg(u,D)}),u.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield Hf(n,r)}var r})).apply(this,arguments)}function Hf(n,e,t){return $g.apply(this,arguments)}function $g(){return($g=(0,pe.Z)(function*(n,e,t){if(!bd(e))throw e;n.Ko.add(1),yield jf(n),n.Qo.set("Offline"),t||(t=()=>xT(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield Ba(n)}))})).apply(this,arguments)}function MS(n,e){return e().catch(t=>Hf(n,t,e))}function Hg(n){return gt.apply(this,arguments)}function gt(){return(gt=(0,pe.Z)(function*(n){const e=Ue(n),t=rl(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;mx(e);)try{const u=yield Vg(e.localStore,r);if(null===u){0===e.Uo.length&&t.ho();break}r=u.batchId,Gg(e,u)}catch(u){yield Hf(e,u)}HT(e)&&GT(e)})).apply(this,arguments)}function mx(n){return Vs(n)&&n.Uo.length<10}function Gg(n,e){n.Uo.push(e);const t=rl(n);t.co()&&t.bo&&t.vo(e.mutations)}function HT(n){return Vs(n)&&!rl(n).oo()&&n.Uo.length>0}function GT(n){rl(n).start()}function xS(n){return zT.apply(this,arguments)}function zT(){return(zT=(0,pe.Z)(function*(n){rl(n).Do()})).apply(this,arguments)}function yx(n){return vC.apply(this,arguments)}function vC(){return(vC=(0,pe.Z)(function*(n){const e=rl(n);for(const t of n.Uo)e.vo(t.mutations)})).apply(this,arguments)}function Ci(n,e,t){return bC.apply(this,arguments)}function bC(){return(bC=(0,pe.Z)(function*(n,e,t){const r=n.Uo.shift(),u=e_.from(r,e,t);yield MS(n,()=>n.remoteSyncer.applySuccessfulWrite(u)),yield Hg(n)})).apply(this,arguments)}function OS(n,e){return zg.apply(this,arguments)}function zg(){return(zg=(0,pe.Z)(function*(n,e){var t;e&&rl(n).bo&&(yield(t=(0,pe.Z)(function*(r,u){if(WE(d=u.code)&&d!==he.ABORTED){const p=r.Uo.shift();rl(r).ao(),yield MS(r,()=>r.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Hg(r)}var d}),function(r,u){return t.apply(this,arguments)})(n,e)),HT(n)&&GT(n)})).apply(this,arguments)}function WT(n,e){return CC.apply(this,arguments)}function CC(){return(CC=(0,pe.Z)(function*(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Vs(t);t.Ko.add(3),yield jf(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield Ba(t)})).apply(this,arguments)}function wC(n,e){return EC.apply(this,arguments)}function EC(){return(EC=(0,pe.Z)(function*(n,e){const t=Ue(n);e?(t.Ko.delete(2),yield Ba(t)):e||(t.Ko.add(2),yield jf(t),t.Qo.set("Unknown"))})).apply(this,arguments)}function Gf(n){return n.zo||(n.zo=function(e,t,r){const u=Ue(e);return u.No(),new Jo(t,u.eo,u.authCredentials,u.appCheckCredentials,u.O,r)}(n.datastore,n.asyncQueue,{Pr:y_.bind(null,n),vr:$T.bind(null,n),To:b_.bind(null,n)}),n.Go.push(function(){var e=(0,pe.Z)(function*(t){t?(n.zo.ao(),m_(n)?qg(n):n.Qo.set("Unknown")):(yield n.zo.stop(),qT(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function rl(n){return n.Ho||(n.Ho=function(e,t,r){const u=Ue(e);return u.No(),new BT(t,u.eo,u.authCredentials,u.appCheckCredentials,u.O,r)}(n.datastore,n.asyncQueue,{Pr:xS.bind(null,n),vr:OS.bind(null,n),So:yx.bind(null,n),Vo:Ci.bind(null,n)}),n.Go.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Ho.ao(),yield Hg(n)):(yield n.Ho.stop(),n.Uo.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class Wg{constructor(e,t,r,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=u,this.removalCallback=d,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,u,d){const p=Date.now()+r,v=new Wg(e,t,p,u,d);return v.start(r),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(n,e){if(fr("AsyncQueue",`${e}: ${n}`),bd(n))return new Se(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Wf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Gy(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Wf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=r.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class TC{constructor(){this.Jo=new tr(He.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):tt():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class il{constructor(e,t,r,u,d,p,v,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,u){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new il(e,t,Wf.emptySet(t),d,r,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ts(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==r[u].type||!t[u].doc.isEqual(r[u].doc))return!1;return!0}}class PS{constructor(){this.Xo=void 0,this.listeners=[]}}class _x{constructor(){this.queries=new Id(e=>fo(e),ts),this.onlineState="Unknown",this.Zo=new Set}}function IC(n,e){return AC.apply(this,arguments)}function AC(){return(AC=(0,pe.Z)(function*(n,e){const t=Ue(n),r=e.query;let u=!1,d=t.queries.get(r);if(d||(u=!0,d=new PS),u)try{d.Xo=yield t.onListen(r)}catch(p){const v=zf(p,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(v)}t.queries.set(r,d),d.listeners.push(e),e.tc(t.onlineState),d.Xo&&e.ec(d.Xo)&&Od(t)})).apply(this,arguments)}function DC(n,e){return SC.apply(this,arguments)}function SC(){return(SC=(0,pe.Z)(function*(n,e){const t=Ue(n),r=e.query;let u=!1;const d=t.queries.get(r);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),u=0===d.listeners.length)}if(u)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function NS(n,e){const t=Ue(n);let r=!1;for(const u of e){const p=t.queries.get(u.query);if(p){for(const v of p.listeners)v.ec(u)&&(r=!0);p.Xo=u}}r&&Od(t)}function RS(n,e,t){const r=Ue(n),u=r.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);r.queries.delete(e)}function Od(n){n.Zo.forEach(e=>{e.next()})}class MC{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)3!==u.type&&r.push(u);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class kS{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class xC{constructor(e){this.O=e}Gs(e){return Fu(this.O,e)}js(e){return e.metadata.exists?Kb(this.O,e.document,!1):xn.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Vr(e)}}class Kg{constructor(e,t,r){this.hc=e,this.localStore=t,this.O=r,this.queries=[],this.documents=[],this.progress=FS(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,r=new xC(this.O);for(const u of e)if(u.metadata.queries){const d=r.Gs(u.metadata.name);for(const p of u.metadata.queries){const v=(t.get(p)||nn()).add(d);t.set(p,v)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function(n,e,t,r){return Zf.apply(this,arguments)}(e.localStore,new xC(e.O),e.documents,e.hc.id),r=e.fc(e.documents);for(const u of e.queries)yield wS(e.localStore,u,r.get(u.name));return e.progress.taskState="Success",new fx(Object.assign({},e.progress),t)})()}}function FS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OC{constructor(e){this.key=e}}class KT{constructor(e){this.key=e}}class YT{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=nn(),this.mutatedKeys=nn(),this.mc=Vb(e),this.gc=new Wf(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new TC,u=t?t.gc:this.gc;let d=t?t.mutatedKeys:this.mutatedKeys,p=u,v=!1;const w=Zy(this.query)&&u.size===this.query.limit?u.last():null,D=Cg(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((P,R)=>{const G=u.get(P),z=jy(this.query,R)?R:null,oe=!!G&&this.mutatedKeys.has(G.key),Re=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Be=!1;G&&z?G.data.isEqual(z.data)?oe!==Re&&(r.track({type:3,doc:z}),Be=!0):this.Tc(G,z)||(r.track({type:2,doc:z}),Be=!0,(w&&this.mc(z,w)>0||D&&this.mc(z,D)<0)&&(v=!0)):!G&&z?(r.track({type:0,doc:z}),Be=!0):G&&!z&&(r.track({type:1,doc:G}),Be=!0,(w||D)&&(v=!0)),Be&&(z?(p=p.add(z),d=Re?d.add(P):d.delete(P)):(p=p.delete(P),d=d.delete(P)))}),Zy(this.query)||Cg(this.query))for(;p.size>this.query.limit;){const P=Zy(this.query)?p.last():p.first();p=p.delete(P.key),d=d.delete(P.key),r.track({type:1,doc:P})}return{gc:p,Ec:r,ks:v,mutatedKeys:d}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const u=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const d=e.Ec.Yo();d.sort((D,P)=>function(R,G){const z=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return z(R)-z(G)}(D.type,P.type)||this.mc(D.doc,P.doc)),this.Ac(r);const p=t?this.Rc():[],v=0===this.wc.size&&this.current?1:0,w=v!==this._c;return this._c=v,0!==d.length||w?{snapshot:new il(this.query,e.gc,u,d,e.mutatedKeys,0===v,w,!1),Pc:p}:{Pc:p}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new TC,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=nn(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new KT(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new OC(r))}),t}vc(e){this.dc=e.Ks,this.wc=nn();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return il.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class LS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VS{constructor(e){this.key=e,this.Sc=!1}}class US{constructor(e,t,r,u,d,p){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.Dc={},this.Cc=new Id(v=>fo(v),ts),this.Nc=new Map,this.xc=new Set,this.kc=new tr(He.comparator),this.Oc=new Map,this.Mc=new Ug,this.$c={},this.Fc=new Map,this.Bc=Rf.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function QT(n,e){return PC.apply(this,arguments)}function PC(){return(PC=(0,pe.Z)(function*(n,e){const t=zC(n);let r,u;const d=t.Cc.get(e);if(d)r=d.targetId,t.sharedClientState.addLocalQueryTarget(r),u=d.view.Vc();else{const p=yield Vf(t.localStore,ho(e));t.isPrimaryClient&&g_(t.remoteStore,p);const v=t.sharedClientState.addLocalQueryTarget(p.targetId);r=p.targetId,u=yield NC(t,e,r,"current"===v)}return u})).apply(this,arguments)}function NC(n,e,t,r){return JT.apply(this,arguments)}function JT(){return(JT=(0,pe.Z)(function*(n,e,t,r){n.Uc=(P,R,G)=>{return(z=(0,pe.Z)(function*(oe,Re,Be,at){let Ft=Re.view.Ic(Be);Ft.ks&&(Ft=yield Dd(oe.localStore,Re.query,!1).then(({documents:rr})=>Re.view.Ic(rr,Ft)));const vn=at&&at.targetChanges.get(Re.targetId),Vt=Re.view.applyChanges(Ft,oe.isPrimaryClient,vn);return w_(oe,Re.targetId,Vt.Pc),Vt.snapshot}),function(oe,Re,Be,at){return z.apply(this,arguments)})(n,P,R,G);var z};const u=yield Dd(n.localStore,e,!0),d=new YT(e,u.Ks),p=d.Ic(u.documents),v=Mg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=d.applyChanges(p,n.isPrimaryClient,v);w_(n,t,w.Pc);const D=new LS(e,t,d);return n.Cc.set(e,D),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),w.snapshot})).apply(this,arguments)}function vx(n,e){return XT.apply(this,arguments)}function XT(){return(XT=(0,pe.Z)(function*(n,e){const t=Ue(n),r=t.Cc.get(e),u=t.Nc.get(r.targetId);if(u.length>1)return t.Nc.set(r.targetId,u.filter(d=>!ts(d,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),qf(t.remoteStore,r.targetId),Kf(t,r.targetId)}).catch(el))):(Kf(t,r.targetId),yield Uf(t.localStore,r.targetId,!0))})).apply(this,arguments)}function kC(){return(kC=(0,pe.Z)(function*(n,e,t){const r=WC(n);try{const u=yield function(d,p){const v=Ue(d),w=Fr.now(),D=p.reduce((R,G)=>R.add(G.key),nn());let P;return v.persistence.runTransaction("Locally write mutations","readwrite",R=>v.Us.Es(R,D).next(G=>{P=G;const z=[];for(const oe of p){const Re=jE(oe,P.get(oe.key));null!=Re&&z.push(new gd(oe.key,Re,IE(Re.value.mapValue),er.exists(!0)))}return v.gs.addMutationBatch(R,w,z,p)})).then(R=>(R.applyToLocalDocumentSet(P),{batchId:R.batchId,changes:P}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let w=d.$c[d.currentUser.toKey()];w||(w=new tr(Zt)),w=w.insert(p,v),d.$c[d.currentUser.toKey()]=w}(r,u.batchId,t),yield qu(r,u.changes),yield Hg(r.remoteStore)}catch(u){const d=zf(u,"Failed to persist write");t.reject(d)}})).apply(this,arguments)}function eI(n,e){return FC.apply(this,arguments)}function FC(){return(FC=(0,pe.Z)(function*(n,e){const t=Ue(n);try{const r=yield px(t.localStore,e);e.targetChanges.forEach((u,d)=>{const p=t.Oc.get(d);p&&(_t(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.Sc=!0:u.modifiedDocuments.size>0?_t(p.Sc):u.removedDocuments.size>0&&(_t(p.Sc),p.Sc=!1))}),yield qu(t,r,e)}catch(r){yield el(r)}})).apply(this,arguments)}function tI(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const u=[];r.Cc.forEach((d,p)=>{const v=p.view.tc(e);v.snapshot&&u.push(v.snapshot)}),function(d,p){const v=Ue(d);v.onlineState=p;let w=!1;v.queries.forEach((D,P)=>{for(const R of P.listeners)R.tc(p)&&(w=!0)}),w&&Od(v)}(r.eventManager,e),u.length&&r.Dc.To(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ZS(n,e,t){return LC.apply(this,arguments)}function LC(){return(LC=(0,pe.Z)(function*(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const u=r.Oc.get(e),d=u&&u.key;if(d){let p=new tr(He.comparator);p=p.insert(d,xn.newNoDocument(d,ct.min()));const v=nn().add(d),w=new Ko(ct.min(),new Map,new wn(Zt),p,v);yield eI(r,w),r.kc=r.kc.remove(d),r.Oc.delete(e),UC(r)}else yield Uf(r.localStore,e,!1).then(()=>Kf(r,e,t)).catch(el)})).apply(this,arguments)}function nI(n,e){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,pe.Z)(function*(n,e){const t=Ue(n),r=e.batch.batchId;try{const u=yield vS(t.localStore,e);Qg(t,r,null),Us(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qu(t,u)}catch(u){yield el(u)}})).apply(this,arguments)}function BS(n,e,t){return sl.apply(this,arguments)}function sl(){return(sl=(0,pe.Z)(function*(n,e,t){const r=Ue(n);try{const u=yield function(d,p){const v=Ue(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return v.gs.lookupMutationBatch(w,p).next(P=>(_t(null!==P),D=P.keys(),v.gs.removeMutationBatch(w,P))).next(()=>v.gs.performConsistencyCheck(w)).next(()=>v.Us.Es(w,D))})}(r.localStore,e);Qg(r,e,t),Us(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qu(r,u)}catch(u){yield el(u)}})).apply(this,arguments)}function C_(){return(C_=(0,pe.Z)(function*(n,e){const t=Ue(n);Vs(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const p=Ue(d);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.gs.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===r)return void e.resolve();const u=t.Fc.get(r)||[];u.push(e),t.Fc.set(r,u)}catch(r){const u=zf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function Us(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function Qg(n,e,t){const r=Ue(n);let u=r.$c[r.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),r.$c[r.currentUser.toKey()]=u}}function Kf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||VC(n,r)})}function VC(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(qf(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),UC(n))}function w_(n,e,t){for(const r of t)r instanceof OC?(n.Mc.addReference(r.key,e),rI(n,r)):r instanceof KT?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||VC(n,r.key)):tt()}function rI(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.xc.add(r),UC(n))}function UC(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new He(Kt.fromString(e)),r=n.Bc.next();n.Oc.set(r,new VS(t)),n.kc=n.kc.insert(t,r),g_(n.remoteStore,new Qc(ho(fd(t.path)),r,2,kr.A))}}function qu(n,e,t){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,pe.Z)(function*(n,e,t){const r=Ue(n),u=[],d=[],p=[];var v;r.Cc.isEmpty()||(r.Cc.forEach((v,w)=>{p.push(r.Uc(w,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D.fromCache?"not-current":"current"),u.push(D);const P=dC.Ss(w.targetId,D);d.push(P)}}))}),yield Promise.all(p),r.Dc.To(u),yield(v=(0,pe.Z)(function*(w,D){const P=Ue(w);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ge.forEach(D,G=>ge.forEach(G.vs,z=>P.persistence.referenceDelegate.addReference(R,G.targetId,z)).next(()=>ge.forEach(G.Vs,z=>P.persistence.referenceDelegate.removeReference(R,G.targetId,z)))))}catch(R){if(!bd(R))throw R;Ne("LocalStore","Failed to update sequence numbers: "+R)}for(const R of D){const G=R.targetId;if(!R.fromCache){const z=P.Ms.get(G),Re=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);P.Ms=P.Ms.insert(G,Re)}}}),function(w,D){return v.apply(this,arguments)})(r.localStore,d))})).apply(this,arguments)}function iI(n,e){return BC.apply(this,arguments)}function BC(){return(BC=(0,pe.Z)(function*(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield MT(t.localStore,e);t.currentUser=e,(u=t).Fc.forEach(p=>{p.forEach(v=>{v.reject(new Se(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qu(t,r.qs)}var u})).apply(this,arguments)}function bx(n,e){const t=Ue(n),r=t.Oc.get(e);if(r&&r.Sc)return nn().add(r.key);{let u=nn();const d=t.Nc.get(e);if(!d)return u;for(const p of d){const v=t.Cc.get(p);u=u.unionWith(v.view.yc)}return u}}function jS(n,e){return jC.apply(this,arguments)}function jC(){return(jC=(0,pe.Z)(function*(n,e){const t=Ue(n),r=yield Dd(t.localStore,e.query,!0),u=e.view.vc(r);return t.isPrimaryClient&&w_(t,e.targetId,u.Pc),u})).apply(this,arguments)}function Yf(n){return sI.apply(this,arguments)}function sI(){return(sI=(0,pe.Z)(function*(n){const e=Ue(n);return pC(e.localStore).then(t=>qu(e,t))})).apply(this,arguments)}function oI(n,e,t,r){return qC.apply(this,arguments)}function qC(){return(qC=(0,pe.Z)(function*(n,e,t,r){const u=Ue(n),d=yield function(p,v){const w=Ue(p),D=Ue(w.gs);return w.persistence.runTransaction("Lookup mutation documents","readonly",P=>D.Ge(P,v).next(R=>R?w.Us.Es(P,R):ge.resolve(null)))}(u.localStore,e);var v;null!==d?("pending"===t?yield Hg(u.remoteStore):"acknowledged"===t||"rejected"===t?(Qg(u,e,r||null),Us(u,e),v=e,Ue(Ue(u.localStore).gs).Qe(v)):tt(),yield qu(u,d)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function E_(){return(E_=(0,pe.Z)(function*(n,e){const t=Ue(n);if(zC(t),WC(t),!0===e&&!0!==t.Lc){const r=t.sharedClientState.getAllActiveQueryTargets(),u=yield aI(t,r.toArray());t.Lc=!0,yield wC(t.remoteStore,!0);for(const d of u)g_(t.remoteStore,d)}else if(!1===e&&!1!==t.Lc){const r=[];let u=Promise.resolve();t.Nc.forEach((d,p)=>{t.sharedClientState.isLocalQueryTarget(p)?r.push(p):u=u.then(()=>(Kf(t,p),Uf(t.localStore,p,!0))),qf(t.remoteStore,p)}),yield u,yield aI(t,r),function(d){const p=Ue(d);p.Oc.forEach((v,w)=>{qf(p.remoteStore,w)}),p.Mc.ii(),p.Oc=new Map,p.kc=new tr(He.comparator)}(t),t.Lc=!1,yield wC(t.remoteStore,!1)}})).apply(this,arguments)}function aI(n,e,t){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,pe.Z)(function*(n,e,t){const r=Ue(n),u=[],d=[];for(const p of e){let v;const w=r.Nc.get(p);if(w&&0!==w.length){v=yield Vf(r.localStore,ho(w[0]));for(const D of w){const P=r.Cc.get(D),R=yield jS(r,P);R.snapshot&&d.push(R.snapshot)}}else{const D=yield tl(r.localStore,p);v=yield Vf(r.localStore,D),yield NC(r,$C(D),p,!1)}u.push(v)}return r.Dc.To(d),u})).apply(this,arguments)}function $C(n){return PE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qS(n){const e=Ue(n);return Ue(Ue(e.localStore).persistence).ds()}function $S(n,e,t,r){return HC.apply(this,arguments)}function HC(){return(HC=(0,pe.Z)(function*(n,e,t,r){const u=Ue(n);if(u.Lc)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(u.Nc.has(e))switch(t){case"current":case"not-current":{const d=yield pC(u.localStore),p=Ko.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield qu(u,d,p);break}case"rejected":yield Uf(u.localStore,e,!0),Kf(u,e,r);break;default:tt()}})).apply(this,arguments)}function HS(n,e,t){return GC.apply(this,arguments)}function GC(){return(GC=(0,pe.Z)(function*(n,e,t){const r=zC(n);if(r.Lc){for(const u of e){if(r.Nc.has(u)){Ne("SyncEngine","Adding an already active target "+u);continue}const d=yield tl(r.localStore,u),p=yield Vf(r.localStore,d);yield NC(r,$C(d),p.targetId,!1),g_(r.remoteStore,p)}for(const u of t)r.Nc.has(u)&&(yield Uf(r.localStore,u,!1).then(()=>{qf(r.remoteStore,u),Kf(r,u)}).catch(el))}})).apply(this,arguments)}function zC(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZS.bind(null,e),e.Dc.To=NS.bind(null,e.eventManager),e.Dc.qc=RS.bind(null,e.eventManager),e}function WC(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BS.bind(null,e),e}class uI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.O=Bg(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return ST(this.persistence,new DT,e.initialUser,this.O)}jc(e){return new IS(Bf.bi,this.O)}Gc(e){return new Ls}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qf extends uI{constructor(e,t,r){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield function(n){return PT.apply(this,arguments)}(r.localStore),yield r.zc.initialize(r,e),yield WC(r.zc.syncEngine),yield Hg(r.zc.remoteStore),yield r.persistence.Hn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Wc(e){return ST(this.persistence,new DT,e.initialUser,this.O)}Qc(e){return new hx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=lC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Lf(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,DS(),p_(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new Ls}}class cI extends Qf{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const u=r.zc.syncEngine;r.sharedClientState instanceof yt&&(r.sharedClientState.syncEngine={hr:oI.bind(null,u),lr:$S.bind(null,u),dr:HS.bind(null,u),ds:qS.bind(null,u),ar:Yf.bind(null,u)},yield r.sharedClientState.start()),yield r.persistence.Hn(function(){var d=(0,pe.Z)(function*(p){yield function(n,e){return E_.apply(this,arguments)}(r.zc.syncEngine,p),r.gcScheduler&&(p&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):p||r.gcScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}Gc(e){const t=DS();if(!yt.Vt(t))throw new Se(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yt(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class T_{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=u=>tI(r.syncEngine,u,1),r.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,r.syncEngine),yield wC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _x}createDatastore(e){const t=Bg(e.databaseInfo.databaseId),r=new ZT(e.databaseInfo);return new SS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,u=e.asyncQueue,d=v=>tI(this.syncEngine,v,0),p=nl.Vt()?new nl:new mC,new yC(t,r,u,d,p);var t,r,u,d,p}createSyncEngine(e,t){return function(r,u,d,p,v,w,D){const P=new US(r,u,d,p,v,w);return D&&(P.Lc=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=Ue(t);Ne("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield jf(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KC(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lI{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new pr,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(r=>{r&&r.ac()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.tu();if(null===t)return null;const r=e.Xc.decode(t),u=Number(r);isNaN(u)&&e.eu(`length string (${r}) is not valid number`);const d=yield e.nu(u);return new kS(JSON.parse(d),t.length+u)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,pe.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}nu(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const r=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class zS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(u=(0,pe.Z)(function*(d,p){const v=Ue(d),w=Pg(v.O)+"/documents",D={documents:p.map(z=>hn(v.O,z))},P=yield v.Lr("BatchGetDocuments",w,D),R=new Map;P.forEach(z=>{const oe=function(n,e){return"found"in e?function(t,r){_t(!!r.found);const u=Fu(t,r.found.name),d=Vr(r.found.updateTime),p=new bi({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(u,d,p)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const u=Fu(t,r.missing),d=Vr(r.readTime);return xn.newNoDocument(u,d)}(n,e):tt()}(v.O,z);R.set(oe.key.toString(),oe)});const G=[];return p.forEach(z=>{const oe=R.get(z.toString());_t(!!oe),G.push(oe)}),G}),function(d,p){return u.apply(this,arguments)})(t.datastore,e);var u;return r.forEach(u=>t.recordVersion(u)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,u)=>{const d=He.fromPath(u);e.mutations.push(new jb(d,e.precondition(d)))}),yield(r=(0,pe.Z)(function*(u,d){const p=Ue(u),v=Pg(p.O)+"/documents",w={writes:d.map(D=>Ng(p.O,D))};yield p.Mr("Commit",v,w)}),function(u,d){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ct.min()))throw new Se(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WS{constructor(e,t,r,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=u,this.ru=5,this.ro=new is(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,pe.Z)(function*(){const t=new zS(e.datastore),r=e.cu(t);r&&r.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.uu(d)}))}).catch(u=>{e.uu(u)})}))}cu(e){try{const t=this.updateFunction(e);return!Ru(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!WE(t)}return!1}}class KS{constructor(e,t,r,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=u,this.user=Rr.UNAUTHENTICATED,this.clientId=Ob.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var p=(0,pe.Z)(function*(v){Ne("FirestoreClient","Received user=",v.uid),yield d.authCredentialListener(v),d.user=v});return function(v){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(r,p=>(Ne("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const u=zf(r,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function dI(n,e){return YC.apply(this,arguments)}function YC(){return(YC=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var u=(0,pe.Z)(function*(d){r.isEqual(d)||(yield MT(e.localStore,d),r=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function hI(n,e){return QC.apply(this,arguments)}function QC(){return(QC=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Pd(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(u=>WT(e.remoteStore,u)),n.setAppCheckTokenChangeListener((u,d)=>WT(e.remoteStore,d)),n.onlineComponents=e})).apply(this,arguments)}function Pd(n){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,pe.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield dI(n,new uI)),n.offlineComponents})).apply(this,arguments)}function I_(n){return em.apply(this,arguments)}function em(){return(em=(0,pe.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield hI(n,new T_)),n.onlineComponents})).apply(this,arguments)}function Xo(n){return Pd(n).then(e=>e.persistence)}function JC(n){return Pd(n).then(e=>e.localStore)}function tm(n){return I_(n).then(e=>e.remoteStore)}function XC(n){return I_(n).then(e=>e.syncEngine)}function Jf(n){return fI.apply(this,arguments)}function fI(){return(fI=(0,pe.Z)(function*(n){const e=yield I_(n),t=e.eventManager;return t.onListen=QT.bind(null,e.syncEngine),t.onUnlisten=vx.bind(null,e.syncEngine),t})).apply(this,arguments)}function A_(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(u,d,p,v,w){const D=new Xg({next:R=>{d.enqueueAndForget(()=>DC(u,P));const G=R.docs.has(p);!G&&R.fromCache?w.reject(new Se(he.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&R.fromCache&&v&&"server"===v.source?w.reject(new Se(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),P=new MC(fd(p.path),D,{includeMetadataChanges:!0,uc:!0});return IC(u,P)}(yield Jf(n),n.asyncQueue,e,t,r)})),r.promise}function gI(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(u,d,p,v,w){const D=new Xg({next:R=>{d.enqueueAndForget(()=>DC(u,P)),R.fromCache&&"server"===v.source?w.reject(new Se(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),P=new MC(p,D,{includeMetadataChanges:!0,uc:!0});return IC(u,P)}(yield Jf(n),n.asyncQueue,e,t,r)})),r.promise}const D_=new Map;function S_(n,e,t){if(!t)throw new Se(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function r0(n,e,t,r){if(!0===e&&!0===r)throw new Se(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function s0(n){if(!He.isDocumentKey(n))throw new Se(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o0(n){if(He.isDocumentKey(n))throw new Se(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function M_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Bt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=M_(n);throw new Se(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function a0(n,e){if(e<=0)throw new Se(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yI{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,r0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yI({}),this._settingsFrozen=!1,e instanceof ad?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ad(u.options.projectId)}(e))}get app(){if(!this._app)throw new Se(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZD;switch(t.type){case"gapi":const r=t.client;return _t(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new BD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Se(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=D_.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),D_.delete(e),t.terminate())}(this),Promise.resolve()}}class In{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class rn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rn(this.firestore,e,this._query)}}class Li extends rn{constructor(e,t,r){super(e,t,fd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new He(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function _I(n,e,...t){if(n=(0,Ot.m9)(n),S_("collection","path",e),n instanceof Xf){const r=Kt.fromString(e,...t);return o0(r),new Li(n,null,r)}{if(!(n instanceof In||n instanceof Li))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return o0(r),new Li(n.firestore,null,r)}}function u0(n,e,...t){if(n=(0,Ot.m9)(n),1===arguments.length&&(e=Ob.R()),S_("doc","path",e),n instanceof Xf){const r=Kt.fromString(e,...t);return s0(r),new In(n,null,new He(r))}{if(!(n instanceof In||n instanceof Li))throw new Se(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return s0(r),new In(n.firestore,n instanceof Li?n.converter:null,new He(r))}}function ep(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),(n instanceof In||n instanceof Li)&&(e instanceof In||e instanceof Li)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vI(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),n instanceof rn&&e instanceof rn&&n.firestore===e.firestore&&ts(n._query,e._query)&&n.converter===e.converter}class c0{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new is(this,"async_queue_retry"),this.yu=()=>{const t=p_();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=p_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=p_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new pr;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,pe.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!bd(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,fr("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const u=Wg.createAndSchedule(this,e,t,r,d=>this.Tu(d));return this.du.push(u),u}pu(){this._u&&tt()}verifyOperationInProgress(){}Au(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function l0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const u of["next","error","complete"])if(u in r&&"function"==typeof r[u])return!0;return!1}(n)}class bI{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class An extends Xf{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new c0,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||nm(this),this._firestoreClient.terminate()}}function nr(n){return n._firestoreClient||nm(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nm(n){var e;const t=n._freezeSettings(),r=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Pb(n._databaseId,d,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var d,v;n._firestoreClient=new KS(n._authCredentials,n._appCheckCredentials,n._queue,r)}function h0(n,e,t){const r=new pr;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield dI(n,t),yield hI(n,e),r.resolve()}catch(u){if(!("FirebaseError"===(d=u).name?d.code===he.FAILED_PRECONDITION||d.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function TI(n){if(n._initialized||n._terminated)throw new Se(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Xn.fromBase64String(e))}catch(t){throw new Se(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ea(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ol{constructor(e){this._methodName=e}}class O_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const II=/^__.*__$/;class AI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new gd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ag(e,this.data,t,this.fieldTransforms)}}class DI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class rm{constructor(e,t,r,u,d,p){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=u,void 0===d&&this.vu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Su({path:r,Cu:!1});return u.Nu(e),u}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Su({path:r,Cu:!1});return u.vu(),u}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return _0(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(SI(this.Vu)&&II.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class s1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Bg(e)}Fu(e,t,r,u=!1){return new rm({Vu:e,methodName:t,$u:r,path:Lr.emptyPath(),Cu:!1,Mu:u},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function al(n){const e=n._freezeSettings(),t=Bg(n._databaseId);return new s1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function im(n,e,t,r,u,d={}){const p=n.Fu(d.merge||d.mergeFields?2:0,e,t,u);PI("Data must be an object, but it was:",p,r);const v=c1(r,p);let w,D;if(d.merge)w=new id(p.fieldMask),D=p.fieldTransforms;else if(d.mergeFields){const P=[];for(const R of d.mergeFields){const G=NI(e,R,t);if(!p.contains(G))throw new Se(he.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);d1(P,G)||P.push(G)}w=new id(P),D=p.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,D=p.fieldTransforms;return new AI(new bi(v),w,D)}class tp extends ol{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function g0(n,e,t){return new rm({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class m0 extends ol{_toFieldTransform(e){return new Wc(e.path,new Sf)}isEqual(e){return e instanceof m0}}class o1 extends ol{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=g0(this,e,!0),r=this.Bu.map(d=>np(d,t)),u=new zc(r);return new Wc(e.path,u)}isEqual(e){return this===e}}class a1 extends ol{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=g0(this,e,!0),r=this.Bu.map(d=>np(d,t)),u=new La(r);return new Wc(e.path,u)}isEqual(e){return this===e}}class MI extends ol{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new pd(e.O,LE(e.O,this.Lu));return new Wc(e.path,t)}isEqual(e){return this===e}}function xI(n,e,t,r){const u=n.Fu(1,e,t);PI("Data must be an object, but it was:",u,r);const d=[],p=bi.empty();rd(r,(w,D)=>{const P=y0(e,w,t);D=(0,Ot.m9)(D);const R=u.xu(P);if(D instanceof tp)d.push(P);else{const G=np(D,R);null!=G&&(d.push(P),p.set(P,G))}});const v=new id(d);return new DI(p,v,u.fieldTransforms)}function OI(n,e,t,r,u,d){const p=n.Fu(1,e,t),v=[NI(e,r,t)],w=[u];if(d.length%2!=0)throw new Se(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<d.length;G+=2)v.push(NI(e,d[G])),w.push(d[G+1]);const D=[],P=bi.empty();for(let G=v.length-1;G>=0;--G)if(!d1(D,v[G])){const z=v[G];let oe=w[G];oe=(0,Ot.m9)(oe);const Re=p.xu(z);if(oe instanceof tp)D.push(z);else{const Be=np(oe,Re);null!=Be&&(D.push(z),P.set(z,Be))}}const R=new id(D);return new DI(P,R,p.fieldTransforms)}function u1(n,e,t,r=!1){return np(t,n.Fu(r?4:3,e))}function np(n,e){if(l1(n=(0,Ot.m9)(n)))return PI("Unsupported field value:",e,n),c1(n,e);if(n instanceof ol)return function(t,r){if(!SI(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(r);u&&r.fieldTransforms.push(u)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const u=[];let d=0;for(const p of t){let v=np(p,r.ku(d));null==v&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}}(n,e)}return function(t,r){if(null===(t=(0,Ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return LE(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Fr.fromDate(t);return{timestampValue:xg(r.O,u)}}if(t instanceof Fr){const u=new Fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xg(r.O,u)}}if(t instanceof O_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ea)return{bytesValue:eT(r.O,t._byteString)};if(t instanceof In){const u=r.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw r.Ou(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mf(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${M_(t)}`)}(n,e)}function c1(n,e){const t={};return CE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rd(n,(r,u)=>{const d=np(u,e.Du(r));null!=d&&(t[r]=d)}),{mapValue:{fields:t}}}function l1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fr||n instanceof O_||n instanceof ea||n instanceof In||n instanceof ol)}function PI(n,e,t){if(!l1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=M_(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function NI(n,e,t){if((e=(0,Ot.m9)(e))instanceof $u)return e._internalPath;if("string"==typeof e)return y0(n,e);throw _0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tx=new RegExp("[~\\*/\\[\\]]");function y0(n,e,t){if(e.search(Tx)>=0)throw _0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $u(...e.split("."))._internalPath}catch(r){throw _0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _0(n,e,t,r,u){const d=r&&!r.isEmpty(),p=void 0!==u;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let w="";return(d||p)&&(w+=" (found",d&&(w+=` in field ${r}`),p&&(w+=` in document ${u}`),w+=")"),new Se(he.INVALID_ARGUMENT,v+n+w)}function d1(n,e){return n.some(t=>t.isEqual(e))}class P_{constructor(e,t,r,u,d){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ix extends P_{data(){return super.data()}}function v0(n,e){return"string"==typeof e?y0(n,e):e instanceof $u?e._internalPath:e._delegate._internalPath}class rp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends P_{constructor(e,t,r,u,d,p){super(e,t,r,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(v0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sm extends ul{data(e={}){return super.data(e)}}class cl{constructor(e,t,r,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new rp(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sm(this._firestore,this._userDataWriter,r.key,r,new rp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,u){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(p=>({type:"added",doc:new sm(r._firestore,r._userDataWriter,p.doc.key,p.doc,new rp(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const v=new sm(r._firestore,r._userDataWriter,p.doc.key,p.doc,new rp(r._snapshot.mutatedKeys.has(p.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==p.type&&(w=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),D=d.indexOf(p.doc.key)),{type:h1(p.type),doc:v,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function f1(n,e){return n instanceof ul&&e instanceof ul?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cl&&e instanceof cl&&n._firestore===e._firestore&&vI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function p1(n){if(Cg(n)&&0===n.explicitOrderBy.length)throw new Se(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N_{}function ll(n,...e){for(const t of e)n=t._apply(n);return n}class g1 extends N_{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=al(e.firestore),r=function(u,d,p,v,w,D,P){let R;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Se(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){C0(P,D);const z=[];for(const oe of P)z.push(R_(v,u,oe));R={arrayValue:{values:z}}}else R=R_(v,u,P)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||C0(P,D),R=u1(p,"where",P,"in"===D||"not-in"===D);const G=es.create(w,D,R);return function(z,oe){if(oe.S()){const Be=By(z);if(null!==Be&&!Be.isEqual(oe.field))throw new Se(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${oe.field.toString()}'`);const at=NE(z);null!==at&&w0(0,oe.field,at)}const Re=function(Be,at){for(const Ft of Be.filters)if(at.indexOf(Ft.op)>=0)return Ft.op;return null}(z,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==Re)throw new Se(he.INVALID_ARGUMENT,Re===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${Re.toString()}' filters.`)}(u,G),G}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new rn(e.firestore,e.converter,function(u,d){const p=u.filters.concat([d]);return new ku(u.path,u.collectionGroup,u.explicitOrderBy.slice(),p,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class Ax extends N_{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(r,u,d){if(null!==r.startAt)throw new Se(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Af(u,d);return function(v,w){if(null===NE(v)){const D=By(v);null!==D&&w0(0,D,w.field)}}(r,p),p}(e._query,this.Uu,this.Gu);return new rn(e.firestore,e.converter,function(r,u){const d=r.explicitOrderBy.concat([u]);return new ku(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class y1 extends N_{constructor(e,t,r){super(),this.type=e,this.ju=t,this.Qu=r}_apply(e){return new rn(e.firestore,e.converter,RE(e._query,this.ju,this.Qu))}}class v1 extends N_{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=kI(e,this.type,this.Wu,this.zu);return new rn(e.firestore,e.converter,(u=t,new ku((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,u,r.endAt)));var r,u}}class Rd extends N_{constructor(e,t,r){super(),this.type=e,this.Wu=t,this.zu=r}_apply(e){const t=kI(e,this.type,this.Wu,this.zu);return new rn(e.firestore,e.converter,(u=t,new ku((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,u)));var r,u}}function kI(n,e,t,r){if(t[0]=(0,Ot.m9)(t[0]),t[0]instanceof P_)return function(u,d,p,v,w){if(!v)throw new Se(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const D=[];for(const P of ki(u))if(P.field.isKeyField())D.push(bf(d,v.key));else{const R=v.data.field(P.field);if(sd(R))throw new Se(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const G=P.field.canonicalString();throw new Se(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}D.push(R)}return new dd(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const u=al(n.firestore);return function(d,p,v,w,D,P){const R=d.explicitOrderBy;if(D.length>R.length)throw new Se(he.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let z=0;z<D.length;z++){const oe=D[z];if(R[z].field.isKeyField()){if("string"!=typeof oe)throw new Se(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof oe}`);if(!wg(d)&&-1!==oe.indexOf("/"))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${oe}' contains a slash.`);const Re=d.path.child(Kt.fromString(oe));if(!He.isDocumentKey(Re))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Re}' is not because it contains an odd number of segments.`);const Be=new He(Re);G.push(bf(p,Be))}else{const Re=u1(v,w,oe);G.push(Re)}}return new dd(G,P)}(n._query,n.firestore._databaseId,u,e,t,r)}}function R_(n,e,t){if("string"==typeof(t=(0,Ot.m9)(t))){if(""===t)throw new Se(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wg(e)&&-1!==t.indexOf("/"))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!He.isDocumentKey(r))throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bf(n,new He(r))}if(t instanceof In)return bf(n,t._key);throw new Se(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${M_(t)}.`)}function C0(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function w0(n,e,t){if(!t.isEqual(e))throw new Se(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class k_{convertValue(e,t="none"){switch(Gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return rd(e.fields,(u,d)=>{r[u]=this.convertValue(d,t)}),r}convertGeoPoint(e){return new O_(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=TE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const t=Fa(e);return new Fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);_t(aT(r));const u=new ad(r.get(1),r.get(3)),d=new He(r.popFirst(5));return u.isEqual(t)||fr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function E0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class FI extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}class om{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=al(e)}set(e,t,r){this._verifyNotCommitted();const u=Hu(e,this._firestore),d=E0(u.converter,t,r),p=im(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,r);return this._mutations.push(p.toMutation(u._key,er.none())),this}update(e,t,r,...u){this._verifyNotCommitted();const d=Hu(e,this._firestore);let p;return p="string"==typeof(t=(0,Ot.m9)(t))||t instanceof $u?OI(this._dataReader,"WriteBatch.update",d._key,t,r,u):xI(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(p.toMutation(d._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hu(e,this._firestore);return this._mutations=this._mutations.concat(new Dg(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(n,e){if((n=(0,Ot.m9)(n)).firestore!==e)throw new Se(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ip extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function T1(n,e,t){n=Bt(n,In);const r=Bt(n.firestore,An),u=E0(n.converter,e,t);return sp(r,[im(al(r),"setDoc",n._key,u,null!==n.converter,t).toMutation(n._key,er.none())])}function I1(n,e,t,...r){n=Bt(n,In);const u=Bt(n.firestore,An),d=al(u);let p;return p="string"==typeof(e=(0,Ot.m9)(e))||e instanceof $u?OI(d,"updateDoc",n._key,e,t,r):xI(d,"updateDoc",n._key,e),sp(u,[p.toMutation(n._key,er.exists(!0))])}function D1(n,...e){var t,r,u;n=(0,Ot.m9)(n);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||l0(e[p])||(d=e[p],p++);const v={includeMetadataChanges:d.includeMetadataChanges};if(l0(e[p])){const R=e[p];e[p]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[p+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[p+2]=null===(u=R.complete)||void 0===u?void 0:u.bind(R)}let w,D,P;if(n instanceof In)D=Bt(n.firestore,An),P=fd(n._key.path),w={next:R=>{e[p]&&e[p](LI(D,n,R))},error:e[p+1],complete:e[p+2]};else{const R=Bt(n,rn);D=Bt(R.firestore,An),P=R._query;const G=new ip(D);w={next:z=>{e[p]&&e[p](new cl(D,G,R,z))},error:e[p+1],complete:e[p+2]},p1(n._query)}return function(R,G,z,oe){const Re=new Xg(oe),Be=new MC(G,Re,z);return R.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return IC(yield Jf(R),Be)})),()=>{Re.Jc(),R.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return DC(yield Jf(R),Be)}))}}(nr(D),P,v,w)}function sp(n,e){return function(t,r){const u=new pr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e,t){return kC.apply(this,arguments)}(yield XC(t),r,u)})),u.promise}(nr(n),e)}function LI(n,e,t){const r=t.docs.get(e._key),u=new ip(n);return new ul(n,u,e._key,r,new rp(t.hasPendingWrites,t.fromCache),e.converter)}class VI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=al(e)}get(e){const t=Hu(e,this._firestore),r=new FI(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return tt();const d=u[0];if(d.isFoundDocument())return new P_(this._firestore,r,d.key,d,t.converter);if(d.isNoDocument())return new P_(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const u=Hu(e,this._firestore),d=E0(u.converter,t,r),p=im(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,r);return this._transaction.set(u._key,p),this}update(e,t,r,...u){const d=Hu(e,this._firestore);let p;return p="string"==typeof(t=(0,Ot.m9)(t))||t instanceof $u?OI(this._dataReader,"Transaction.update",d._key,t,r,u):xI(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,p),this}delete(e){const t=Hu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hu(e,this._firestore),r=new ip(this._firestore);return super.get(e).then(u=>new ul(this._firestore,r,t._key,u._document,new rp(!1,!1),t.converter))}}function I0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function V_(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function UI(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yf=Qr.SDK_VERSION,(0,Qr._registerComponent)(new Kp.wA("firestore",(t,{options:r})=>{const u=t.getProvider("app").getImmediate(),d=new An(u,new nx(t.getProvider("auth-internal")),new ix(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),d._setSettings(r),d},"PUBLIC")),(0,Qr.registerVersion)(_E,"3.4.5",n),(0,Qr.registerVersion)(_E,"3.4.5","esm2017")}();class um{constructor(e){this._delegate=e}static fromBase64String(e){return UI(),new um(ea.fromBase64String(e))}static fromUint8Array(e){return V_(),new um(ea.fromUint8Array(e))}toBase64(){return UI(),this._delegate.toBase64()}toUint8Array(){return V_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cm(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class BI{enableIndexedDbPersistence(e,t){return function(n,e){TI(n=Bt(n,An));const t=nr(n),r=n._freezeSettings(),u=new T_;return h0(t,u,new Qf(u,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){TI(n=Bt(n,An));const e=nr(n),t=n._freezeSettings(),r=new T_;return h0(e,r,new cI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Se(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!go.Vt())return Promise.resolve();const u=r+"main";yield go.delete(u)}),function(r){return t.apply(this,arguments)})(lC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jI{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ad||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var u;const d=(n=Bt(n,Xf))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&_f("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let p,v;if("string"==typeof r.mockUserToken)p=r.mockUserToken,v=Rr.MOCK_USER;else{p=(0,Ot.Sg)(r.mockUserToken,null===(u=n._app)||void 0===u?void 0:u.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Se(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Rr(w)}n._authCredentials=new tx(new ky(p,v))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield Xo(n),t=yield tm(n);return e.setNetworkEnabled(!0),function(r){const u=Ue(r);return u.Ko.delete(0),Ba(u)}(t)}))}(nr(n=Bt(n,An)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield Xo(n),t=yield tm(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(u){const d=Ue(u);d.Ko.add(0),yield jf(d),d.Qo.set("Offline")}),function(u){return r.apply(this,arguments)})(t);var r}))}(nr(n=Bt(n,An)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,r0("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new pr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(n,e){return C_.apply(this,arguments)}(yield XC(e),t)})),t.promise}(nr(n=Bt(n,An)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Xg(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Jf(n),u=t,Ue(r).Zo.add(u),void u.next();var r,u})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Jf(n),u=t,void Ue(r).Zo.delete(u);var r,u}))}}(nr(n=Bt(n,An)),l0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new op(this,_I(this._delegate,e))}catch(t){throw Ei(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bs(this,u0(this._delegate,e))}catch(t){throw Ei(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ss(this,function(n,e){if(n=Bt(n,Xf),S_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rn(n,null,(t=e,new ku(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ei(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const r=yield(u=n,I_(u).then(d=>d.datastore));var u;new WS(n.asyncQueue,r,e,t).run()})),t.promise}(nr(n=Bt(n,An)),t=>e(new VI(n,t)))}(this._delegate,t=>e(new $I(this,t)))}batch(){return nr(this._delegate),new HI(new om(this._delegate,e=>sp(this._delegate,e)))}loadBundle(e){return function(n,e){const t=nr(n=Bt(n,An)),r=new bI;return function(n,e,t,r){const u=function(d,p){let v;return v="string"==typeof d?(new TextEncoder).encode(d):d,w=function(w,D){if(w instanceof Uint8Array)return KC(w,D);if(w instanceof ArrayBuffer)return KC(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new lI(w,p);var w}(t,Bg(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(n,e,t){const r=Ue(n);var u;(u=(0,pe.Z)(function*(d,p,v){try{const w=yield p.getMetadata();if(yield function(G,z){const oe=Ue(G),Re=Vr(z.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Be=>oe.Kn.getBundleMetadata(Be,z.id)).then(Be=>!!Be&&Be.createTime.compareTo(Re)>=0)}(d.localStore,w))return yield p.close(),void v._completeWith((G=w,{taskState:"Success",documentsLoaded:G.totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}));v._updateProgress(FS(w));const D=new Kg(w,d.localStore,p.O);let P=yield p.Kc();for(;P;){const G=yield D.lc(P);G&&v._updateProgress(G),P=yield p.Kc()}const R=yield D.complete();yield qu(d,R.ws,void 0),yield function(G,z){const oe=Ue(G);return oe.persistence.runTransaction("Save bundle","readwrite",Re=>oe.Kn.saveBundleMetadata(Re,z))}(d.localStore,w),v._completeWith(R.progress)}catch(w){_f("SyncEngine",`Loading bundle failed with ${w}`),v._failWith(w)}var G}),function(d,p,v){return u.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield XC(n),u,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const u=Ue(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Kn.getNamedQuery(d,r))}(yield JC(n),e)}))}(nr(n=Bt(n,An)),e).then(t=>t?new rn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ss(this,t):null)}}class lm extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new um(new ea(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bs.forKey(t,this.firestore,null)}}class $I{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lm(e)}get(e){const t=kd(e);return this._delegate.get(t).then(r=>new Vi(this._firestore,new ul(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const u=kd(e);return r?(I0("Transaction.set",r),this._delegate.set(u,t,r)):this._delegate.set(u,t),this}update(e,t,r,...u){const d=kd(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...u),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}}class HI{constructor(e){this._delegate=e}set(e,t,r){const u=kd(e);return r?(I0("WriteBatch.set",r),this._delegate.set(u,t,r)):this._delegate.set(u,t),this}update(e,t,r,...u){const d=kd(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...u),this}delete(e){const t=kd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new sm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dm(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gu.INSTANCES;let u=r.get(e);u||(u=new WeakMap,r.set(e,u));let d=u.get(t);return d||(d=new Gu(e,new lm(e),t),u.set(t,d)),d}}Gu.INSTANCES=new WeakMap;class Bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bs(t,new In(t._delegate,r,new He(e)))}static forKey(e,t,r){return new Bs(t,new In(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new op(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new op(this.firestore,_I(this._delegate,e))}catch(t){throw Ei(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ot.m9)(e))instanceof In&&ep(this._delegate,e)}set(e,t){t=I0("DocumentReference.set",t);try{return t?T1(this._delegate,e,t):T1(this._delegate,e)}catch(r){throw Ei(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?I1(this._delegate,e):I1(this._delegate,e,t,...r)}catch(u){throw Ei(u,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return sp(Bt(n.firestore,An),[new Dg(n._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=U_(e),r=GI(e,u=>new Vi(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return D1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Bt(n,In);const e=Bt(n.firestore,An),t=nr(e),r=new ip(e);return function(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(u,d,p){try{const v=yield function(w,D){const P=Ue(w);return P.persistence.runTransaction("read document","readonly",R=>P.Us.ys(R,D))}(u,d);v.isFoundDocument()?p.resolve(v):v.isNoDocument()?p.resolve(null):p.reject(new Se(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const w=zf(v,`Failed to get document '${d} from cache`);p.reject(w)}}),function(u,d,p){return r.apply(this,arguments)})(yield JC(n),e,t);var r})),t.promise}(t,n._key).then(u=>new ul(e,r,n._key,u,new rp(null!==u&&u.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Bt(n,In);const e=Bt(n.firestore,An);return A_(nr(e),n._key,{source:"server"}).then(t=>LI(e,n,t))}(this._delegate):function(n){n=Bt(n,In);const e=Bt(n.firestore,An);return A_(nr(e),n._key).then(t=>LI(e,n,t))}(this._delegate),t.then(r=>new Vi(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?Gu.getInstance(this.firestore,e):null))}}function Ei(n,e,t){return n.message=n.message.replace(e,t),n}function U_(n){for(const e of n)if("object"==typeof e&&!cm(e))return e;return{}}function GI(n,e){var t,r;let u;return u=cm(n[0])?n[0]:cm(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(r=u.complete)||void 0===r?void 0:r.bind(u)}}class Vi{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return f1(this._delegate,e._delegate)}}class dm extends Vi{data(e){const t=this._delegate.data(e);return function(n,e){n||tt()}(void 0!==t),t}}class ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lm(e)}where(e,t,r){try{return new ss(this.firestore,ll(this._delegate,function(n,e,t){const r=e,u=v0("where",n);return new g1(u,r,t)}(e,t,r)))}catch(u){throw Ei(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ss(this.firestore,ll(this._delegate,function(n,e="asc"){const t=e,r=v0("orderBy",n);return new Ax(r,t)}(e,t)))}catch(r){throw Ei(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ss(this.firestore,ll(this._delegate,function(n){return a0("limit",n),new y1("limit",n,"F")}(e)))}catch(t){throw Ei(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ss(this.firestore,ll(this._delegate,function(n){return a0("limitToLast",n),new y1("limitToLast",n,"L")}(e)))}catch(t){throw Ei(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ss(this.firestore,ll(this._delegate,function(...n){return new v1("startAt",n,!0)}(...e)))}catch(t){throw Ei(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ss(this.firestore,ll(this._delegate,function(...n){return new v1("startAfter",n,!1)}(...e)))}catch(t){throw Ei(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ss(this.firestore,ll(this._delegate,function(...n){return new Rd("endBefore",n,!1)}(...e)))}catch(t){throw Ei(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ss(this.firestore,ll(this._delegate,function(...n){return new Rd("endAt",n,!0)}(...e)))}catch(t){throw Ei(t,"endAt()","Query.endAt()")}}isEqual(e){return vI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Bt(n,rn);const e=Bt(n.firestore,An),t=nr(e),r=new ip(e);return function(n,e){const t=new pr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(u,d,p){try{const v=yield Dd(u,d,!0),w=new YT(d,v.Ks),D=w.Ic(v.documents),P=w.applyChanges(D,!1);p.resolve(P.snapshot)}catch(v){const w=zf(v,`Failed to execute query '${d} against cache`);p.reject(w)}}),function(u,d,p){return r.apply(this,arguments)})(yield JC(n),e,t);var r})),t.promise}(t,n._query).then(u=>new cl(e,r,n,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Bt(n,rn);const e=Bt(n.firestore,An),t=nr(e),r=new ip(e);return gI(t,n._query,{source:"server"}).then(u=>new cl(e,r,n,u))}(this._delegate):function(n){n=Bt(n,rn);const e=Bt(n.firestore,An),t=nr(e),r=new ip(e);return p1(n._query),gI(t,n._query).then(u=>new cl(e,r,n,u))}(this._delegate),t.then(r=>new zI(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=U_(e),r=GI(e,u=>new zI(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return D1(this._delegate,t,r)}withConverter(e){return new ss(this.firestore,this._delegate.withConverter(e?Gu.getInstance(this.firestore,e):null))}}class P1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new dm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new dm(this._firestore,r))})}isEqual(e){return f1(this._delegate,e._delegate)}}class op extends ss{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bs(this.firestore,e):null}doc(e){try{return new Bs(this.firestore,void 0===e?u0(this._delegate):u0(this._delegate,e))}catch(t){throw Ei(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Bt(n.firestore,An),r=u0(n),u=E0(n.converter,e);return sp(t,[im(al(n.firestore),"addDoc",r._key,u,null!==n.converter,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Bs(this.firestore,t))}isEqual(e){return ep(this._delegate,e._delegate)}withConverter(e){return new op(this.firestore,this._delegate.withConverter(e?Gu.getInstance(this.firestore,e):null))}}function kd(n){return Bt(n,In)}class A0{constructor(...e){this._delegate=new $u(...e)}static documentId(){return new A0(Lr.keyField().canonicalString())}isEqual(e){return(e=(0,Ot.m9)(e))instanceof $u&&this._delegate._internalPath.isEqual(e._internalPath)}}class ap{constructor(e){this._delegate=e}static serverTimestamp(){const e=new m0("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ap(e)}static delete(){const e=new tp("deleteField");return e._methodName="FieldValue.delete",new ap(e)}static arrayUnion(...e){const t=function(...n){return new o1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ap(t)}static arrayRemove(...e){const t=function(...n){return new a1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ap(t)}static increment(e){const t=function(n){return new MI("increment",n)}(e);return t._methodName="FieldValue.increment",new ap(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const N1={Firestore:jI,GeoPoint:O_,Timestamp:Fr,Blob:um,Transaction:$I,WriteBatch:HI,DocumentReference:Bs,DocumentSnapshot:Vi,Query:ss,QueryDocumentSnapshot:dm,QuerySnapshot:zI,CollectionReference:op,FieldPath:A0,FieldValue:ap,setLogLevel:function(n){!function(n){Nu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Kp.wA("firestore-compat",t=>((e,t)=>new jI(e,t,new BI))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},N1)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.14")}(Cw.Z);var k1=L(6682),up=L(309),F1=L(7771),Lx=L(8858);class KI extends Wr.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new YI(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,d=r.length;let p;if(this.closed)throw new ba.N;if(this.isStopped||this.hasError?p=Th.w.EMPTY:(this.observers.push(e),p=new Lx.W(this,e)),u&&e.add(e=new up.ht(e,u)),t)for(let v=0;v<d&&!e.closed;v++)e.next(r[v]);else for(let v=0;v<d&&!e.closed;v++)e.next(r[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||F1.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,u=this._events,d=u.length;let p=0;for(;p<d&&!(e-u[p].time<r);)p++;return d>t&&(p=Math.max(p,d-t)),p>0&&u.splice(0,p),u}}class YI{constructor(e,t){this.time=e,this.value=t}}function QI(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},u=>u.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let u,p,d=0,v=!1,w=!1;return function(P){let R;d++,!u||v?(v=!1,u=new KI(n,e,r),R=u.subscribe(this),p=P.subscribe({next(G){u.next(G)},error(G){v=!0,u.error(G)},complete(){w=!0,p=void 0,u.complete()}}),w&&(p=void 0)):R=u.subscribe(this),this.add(()=>{d--,R.unsubscribe(),R=void 0,p&&!w&&t&&0===d&&(p.unsubscribe(),p=void 0,u=void 0)})}}(r))}function D0(n,e){return e?_n(()=>n,e):_n(()=>n)}var Fd=L(3101);L(2329);const Ar=new Map,$x={activated:!1,tokenObservers:[]},tA={initialized:!1,enabled:!1};function Dr(n){return Ar.get(n)||$x}function ta(n,e){Ar.set(n,e)}function Ld(){return tA}class O0{constructor(e,t,r,u,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=u,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=u,u>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Ot.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ot.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ui=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function P0(n){if(!Dr(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function N0(n,e){return iA.apply(this,arguments)}function iA(){return(iA=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});u&&(r["X-Firebase-Client"]=u.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(e),headers:r};let p,v;try{p=yield fetch(n,d)}catch(R){throw Ui.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==p.status)throw Ui.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(R){throw Ui.create("fetch-parse-error",{originalErrorMessage:R.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const D=1e3*Number(w[1]),P=Date.now();return{token:v.attestationToken,expireTimeMillis:P+D,issuedAtTimeMillis:P}})).apply(this,arguments)}function Hx(n,e){const{projectId:t,appId:r,apiKey:u}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${u}`,body:{debug_token:e}}}const fm="firebase-app-check-store";let $_=null;function oA(){return $_||($_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var u;e(Ui.create("storage-open",{originalErrorMessage:null===(u=r.target.error)||void 0===u?void 0:u.message}))},t.onupgradeneeded=r=>{const u=r.target.result;switch(r.oldVersion){case 0:u.createObjectStore(fm,{keyPath:"compositeKey"})}}}catch(t){e(Ui.create("storage-open",{originalErrorMessage:t.message}))}}),$_)}function uA(){return(uA=(0,pe.Z)(function*(n,e){const r=(yield oA()).transaction(fm,"readwrite"),d=r.objectStore(fm).put({compositeKey:n,value:e});return new Promise((p,v)=>{d.onsuccess=w=>{p()},r.onerror=w=>{var D;v(Ui.create("storage-set",{originalErrorMessage:null===(D=w.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const pm=new kc.Yd("@firebase/app-check");function yo(n,e){return(0,Ot.hl)()?function(n,e){return function(n,e){return uA.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lA(){return Ld().enabled}function dA(){return hA.apply(this,arguments)}function hA(){return(hA=(0,pe.Z)(function*(){const n=Ld();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const J1={error:"UNKNOWN_ERROR"};function X1(n){return Ot.US.encodeString(JSON.stringify(n),!1)}function dl(n){return H_.apply(this,arguments)}function H_(){return(H_=(0,pe.Z)(function*(n,e=!1){const t=n.app;P0(t);const r=Dr(t);let d,u=r.token;if(!u){const w=yield r.cachedTokenPromise;w&&lp(w)&&(u=w)}if(!e&&u&&lp(u))return{token:u.token};let v,p=!1;if(lA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=N0(Hx(t,yield dA()),n.platformLoggerProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),p=!0);const w=yield r.exchangeTokenPromise;return yield yo(t,w),ta(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),p=!0),u=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?pm.warn(w.message):pm.error(w),d=w}return u?(v={token:u.token},ta(t,Object.assign(Object.assign({},r),{token:u})),yield yo(t,u)):v=nM(d),p&&tM(t,v),v})).apply(this,arguments)}function L0(n,e){const t=Dr(n),r=t.tokenObservers.filter(u=>u.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ta(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function eM(n){const{app:e}=n,t=Dr(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new O0((0,pe.Z)(function*(){let r;if(r=Dr(e).token?yield dl(n,!0):yield dl(n),r.error)throw r.error}),()=>!0,()=>{const t=Dr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ta(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function tM(n,e){const t=Dr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(u){}}function lp(n){return n.expireTimeMillis-Date.now()>0}function nM(n){return{token:X1(J1),error:n}}class rM{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Dr(this.app);for(const t of e)L0(this.app,t.next);return Promise.resolve()}}const Ti="app-check-internal";(0,Qr._registerComponent)(new Kp.wA("app-check",n=>function(n,e){return new rM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ti).initialize()})),(0,Qr._registerComponent)(new Kp.wA(Ti,n=>function(n){return{getToken:e=>dl(n,e),addTokenListener:e=>function(n,e,t,r){const{app:u}=n,d=Dr(u),p={next:t,error:r,type:e};if(ta(u,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,p]})),d.token&&lp(d.token)){const v=d.token;Promise.resolve().then(()=>{t({token:v.token}),eM(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>eM(n))}(n,"INTERNAL",e),removeTokenListener:e=>L0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qr.registerVersion)("@firebase/app-check","0.5.3");class dp{constructor(){return(0,_i.vb)("app-check")}}"undefined"!=typeof window&&window,L(7841);const Q_=new a.OlP("angularfire2.auth.use-emulator"),bA=new a.OlP("angularfire2.auth.settings"),z0=new a.OlP("angularfire2.auth.tenant-id"),W0=new a.OlP("angularfire2.auth.langugage-code"),CA=new a.OlP("angularfire2.auth.use-device-language"),wA=new a.OlP("angularfire.auth.persistence"),EA=(n,e,t,r,u,d,p,v)=>(0,zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=u,d&&w.useDeviceLanguage(),p)for(const[D,P]of Object.entries(p))w.settings[D]=P;return v&&w.setPersistence(v),w},[t,r,u,d,p,v]);let ra=(()=>{class n{constructor(t,r,u,d,p,v,w,D,P,R,G,z){const oe=new Wr.xQ,Re=(0,rt.of)(void 0).pipe((0,up.QV)(p.outsideAngular),_n(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8426)))),(0,st.U)(()=>(0,zr.on)(t,d,r)),(0,st.U)(Be=>EA(Be,d,v,D,P,R,w,G)),QI({bufferSize:1,refCount:!1}));if(za(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,rt.of)(null);else{Re.pipe(Wi()).subscribe();const at=Re.pipe(_n(Vt=>Vt.getRedirectResult().then(rr=>rr,()=>null)),_i.iC,QI({bufferSize:1,refCount:!1})),Ft=Re.pipe(_n(Vt=>new $t.y(rr=>({unsubscribe:d.runOutsideAngular(()=>Vt.onAuthStateChanged(zu=>rr.next(zu),zu=>rr.error(zu),()=>rr.complete()))})))),vn=Re.pipe(_n(Vt=>new $t.y(rr=>({unsubscribe:d.runOutsideAngular(()=>Vt.onIdTokenChanged(zu=>rr.next(zu),zu=>rr.error(zu),()=>rr.complete()))}))));this.authState=at.pipe(D0(Ft),(0,Fd.R)(p.outsideAngular),(0,up.QV)(p.insideAngular)),this.user=at.pipe(D0(vn),(0,Fd.R)(p.outsideAngular),(0,up.QV)(p.insideAngular)),this.idToken=this.user.pipe(_n(Vt=>Vt?(0,Ht.D)(Vt.getIdToken()):(0,rt.of)(null))),this.idTokenResult=this.user.pipe(_n(Vt=>Vt?(0,Ht.D)(Vt.getIdTokenResult()):(0,rt.of)(null))),this.credential=(0,k1.T)(at,oe,this.authState.pipe(fi(Vt=>!Vt))).pipe((0,st.U)(Vt=>(null==Vt?void 0:Vt.user)?Vt:null),(0,Fd.R)(p.outsideAngular),(0,up.QV)(p.insideAngular))}return(0,zr.pX)(this,Re,d,{spy:{apply:(Be,at,Ft)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Ft.then(vn=>oe.next(vn))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zr.Dh),a.LFG(zr.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(_i.HU),a.LFG(Q_,8),a.LFG(bA,8),a.LFG(z0,8),a.LFG(W0,8),a.LFG(CA,8),a.LFG(wA,8),a.LFG(dp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vm(n,e){return function(n,e=nD.z){return new $t.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function K0(n,e){return vm(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function X_(n,e){return K0(n,e).pipe(hu(void 0),Zv(),(0,st.U)(([t,r])=>{const u=r.payload.docChanges(),d=u.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((p,v)=>{const w=u.find(P=>P.doc.ref.isEqual(p.ref)),D=null==t?void 0:t.payload.docs.find(P=>P.ref.isEqual(p.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(p.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(p.metadata)||d.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:p}})}),d}))}function TA(n,e,t){return X_(n,t).pipe(_c((r,u)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ev(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ev(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ev(n,e.oldIndex,1)}return n}(n,r))}),n}(r,u.map(d=>d.payload),e),[]),t=>t.lift(new sD(void 0,void 0)),(0,st.U)(r=>r.map(u=>({type:u.type,payload:u}))))}function ev(n,e,t,...r){const u=n.slice();return u.splice(e,t,...r),u}function Y0(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class tv{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=X_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(u=>e.indexOf(u.type)>-1)))),t.pipe(hu(void 0),Zv(),fi(([r,u])=>u.length>0||!r),(0,st.U)(([r,u])=>u),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(_c((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Y0(e);return TA(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return K0(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_i.iC)}get(e){return(0,Ht.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new DA(this.ref.doc(e),this.afs)}}class DA{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:u,query:d}=MA(r,t);return new tv(u,d,this.afs)}snapshotChanges(){return function(n,e){return vm(n,e).pipe(hu(void 0),Zv(),(0,st.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ht.D)(this.ref.get(e)).pipe(_i.iC)}}class gM{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?X_(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),fi(t=>t.length>0),_i.iC):X_(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(_c((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Y0(e);return TA(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return K0(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),_i.iC)}get(e){return(0,Ht.D)(this.query.get(e)).pipe(_i.iC)}}const SA=new a.OlP("angularfire2.enableFirestorePersistence"),Zd=new a.OlP("angularfire2.firestore.persistenceSettings"),Q0=new a.OlP("angularfire2.firestore.settings"),mM=new a.OlP("angularfire2.firestore.use-emulator");function MA(n,e=(t=>t)){return{query:e(n),ref:n}}let yM=(()=>{class n{constructor(t,r,u,d,p,v,w,D,P,R,G,z,oe,Re,Be,at,Ft){this.schedulers=w;const vn=(0,zr.on)(t,v,r),Vt=P;R&&EA(vn,v,G,oe,Re,Be,z,at),[this.firestore,this.persistenceEnabled$]=(0,zr.cc)(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const rr=v.runOutsideAngular(()=>vn.firestore());if(d&&rr.settings(d),Vt&&rr.useEmulator(...Vt),u&&!za(p)){const zu=()=>{try{return(0,Ht.D)(rr.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(GA){return"undefined"!=typeof console&&console.warn(GA),(0,rt.of)(!1)}};return[rr,v.runOutsideAngular(zu)]}return[rr,(0,rt.of)(!1)]},[d,Vt,u])}collection(t,r){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:p}=MA(u,r),v=this.schedulers.ngZone.run(()=>d);return new tv(v,p,this)}collectionGroup(t,r){const u=r||(p=>p),d=this.firestore.collectionGroup(t);return new gM(u(d),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>r);return new DA(u,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zr.Dh),a.LFG(zr.xv,8),a.LFG(SA,8),a.LFG(Q0,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(_i.HU),a.LFG(Zd,8),a.LFG(mM,8),a.LFG(ra,8),a.LFG(Q_,8),a.LFG(bA,8),a.LFG(z0,8),a.LFG(W0,8),a.LFG(CA,8),a.LFG(wA,8),a.LFG(dp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bm=(()=>{class n{constructor(t){this.db=t,this.collectionPath=this.db.collection("profile"),this.collectionName="profile"}addUser(t){return new Promise((r,u)=>{this.db.doc(this.collectionName+"/"+t.emailAddress).set(t).then(d=>r(d),d=>u(d))})}getAllUsers(){return this.collectionPath.snapshotChanges()}getSingleUser(t){return this.profile=this.db.collection(this.collectionName,r=>r.where("uid","==",t).limit(1)).snapshotChanges(),this.profile}updateUser(t,r){return new Promise((u,d)=>{this.db.doc(this.collectionName+"/"+t).update(r).then(p=>u(p),p=>d(p))})}deleteUser(t){this.db.doc(this.collectionName+"/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xA=(()=>{class n{constructor(t,r){this.firebaseAuth=t,this.profileService=r,this.isLogggedIn=!1,this.imageUrl="https://res.cloudinary.com/djnqxvljr/image/upload/v1620660773/perlfood/assets/svg/bxs-user-circle_lpxmj4.svg",this.currentBal=0,this.totalDepo=0,this.totalWith=0,this.currentUserSubject=new kn(JSON.parse(localStorage.getItem("id")||"{}")),this.currentUser=this.currentUserSubject.asObservable()}get currenUserValue(){return this.currentUserSubject.value}signinUser(t){var r=this;return(0,pe.Z)(function*(){yield r.firebaseAuth.signInWithEmailAndPassword(t.emailAddress,t.password).then(u=>{var d,p;r.isLogggedIn=!0,localStorage.setItem("token",JSON.stringify(null===(d=u.user)||void 0===d?void 0:d.refreshToken)),localStorage.setItem("id",JSON.stringify(null===(p=u.user)||void 0===p?void 0:p.uid)),r.currentUserSubject.next(u.user)})})()}createUser(t,r,u){var d=this;return(0,pe.Z)(function*(){yield d.firebaseAuth.createUserWithEmailAndPassword(t,r).then(p=>{var v,w,D,P;let R={emailAddress:u.emailAddress.toLowerCase(),firstName:u.firstName,middleName:u.middleName,lastName:u.lastName,phoneNumber:u.phoneNumber,address:u.address,city:u.city,state:u.state,zipCode:u.zipCode,ssn:u.ssn,dob:u.dob,imageUrl:d.imageUrl,uid:null===(v=p.user)||void 0===v?void 0:v.uid,currentBal:u.currentBal,totalDepo:d.totalDepo,totalWith:d.totalWith};null===(w=p.user)||void 0===w||w.sendEmailVerification(),d.profileService.addUser(R),d.isLogggedIn=!0,localStorage.setItem("token",JSON.stringify(null===(D=p.user)||void 0===D?void 0:D.refreshToken)),localStorage.setItem("id",JSON.stringify(null===(P=p.user)||void 0===P?void 0:P.uid)),d.currentUserSubject.next(p.user)})})()}signout(){this.firebaseAuth.signOut(),localStorage.removeItem("id"),localStorage.removeItem("token"),this.currentUserSubject.next(null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ra),a.LFG(bm))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _M=function(){return{exact:!0}};let vM=(()=>{class n{constructor(t,r){this.firebaseService=t,this.router=r}ngOnInit(){}logOut(){this.firebaseService.signout(),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xA),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sidenav"]],decls:16,vars:2,consts:[["routerLink","/",1,"sidenav-logo","clickable"],["src","../../../../assets/img/logo-white.png","alt",""],[1,"sidenav-list"],["routerLink","/dashboard","routerLinkActive","active",1,"clickable",3,"routerLinkActiveOptions"],["routerLink","account","routerLinkActive","active",1,"clickable"],["routerLinkActive","active","routerLink","send",1,"clickable"],["routerLinkActive","active","routerLink","receive",1,"clickable"],[1,"logout","dis-flex","clickable",3,"click"],["src","../../../../assets/img/svg/Logout.svg","alt",""]],template:function(t,r){1&t&&(a.TgZ(0,"span",0),a._UZ(1,"img",1),a.qZA(),a.TgZ(2,"nav"),a.TgZ(3,"ul",2),a.TgZ(4,"li",3),a._uU(5," Dashboard "),a.qZA(),a.TgZ(6,"li",4),a._uU(7," Account "),a.qZA(),a.TgZ(8,"li",5),a._uU(9," Deposit "),a.qZA(),a.TgZ(10,"li",6),a._uU(11," Withdrawal "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"span",7),a.NdJ("click",function(){return r.logOut()}),a._UZ(13,"img",8),a.TgZ(14,"p"),a._uU(15,"Log out"),a.qZA(),a.qZA()),2&t&&(a.xp6(4),a.Q6J("routerLinkActiveOptions",a.DdM(1,_M)))},directives:[Eu,Lv],styles:[".sidenav-logo[_ngcontent-%COMP%]{display:block}.sidenav-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-width:127px;max-height:28px}nav[_ngcontent-%COMP%]{margin-top:5rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2rem;position:relative;cursor:pointer;transform:translate(0);transition:all .3s ease-in-out}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:var(--blue-color)}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(5px)}.logout[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;padding:1rem;background-color:var(--danger-color);color:var(--white-color);justify-content:center;transition:all .2s ease-in}.logout[_ngcontent-%COMP%]:hover{background-color:var(--danger-hover-color)}.logout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.5rem}"]}),n})();const oO=["sideNav"],aO=["menuBtn"];let uO=(()=>{class n{constructor(t,r){this.profileService=t,this.renderer=r}ngOnInit(){this.userId=JSON.parse(localStorage.getItem("id")||"{}"),this.users=this.profileService.getSingleUser(this.userId).subscribe(t=>{t.forEach(r=>{let u=r.payload.doc.data();this.user=u})}),this.renderer.listen("window","click",t=>{let r=!this.sideNav.nativeElement.contains(t.target),u=!this.menuBtn.nativeElement.contains(t.target);r&&u&&(this.hamClick=!1)})}openMenu(){this.hamClick=!this.hamClick}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bm),a.Y36(a.Qsj))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(t,r){if(1&t&&(a.Gf(oO,5),a.Gf(aO,5)),2&t){let u;a.iGM(u=a.CRH())&&(r.sideNav=u.first),a.iGM(u=a.CRH())&&(r.menuBtn=u.first)}},decls:18,vars:3,consts:[[1,"container-dash"],[1,"sidenav-area"],[1,"sidenav"],["sideNav",""],[1,"main-header"],[1,"main-header-menu",3,"click"],["menuBtn",""],[1,"bx","bx-menu-alt-left","menu-icon","clickable"],[1,"main-header-profile"],["id","profile-name"],["src","../../../assets/img/svg/avatar.svg","alt","image","id","profile-image"],[1,"main-body"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"aside",1),a.TgZ(2,"div",2,3),a._UZ(4,"app-sidenav"),a.qZA(),a.qZA(),a.TgZ(5,"main"),a.TgZ(6,"div",4),a.TgZ(7,"span",5,6),a.NdJ("click",function(){return r.openMenu()}),a._UZ(9,"i",7),a.qZA(),a.TgZ(10,"span",8),a.TgZ(11,"p"),a._uU(12," Hello! "),a.TgZ(13,"strong",9),a._uU(14),a.qZA(),a.qZA(),a._UZ(15,"img",10),a.qZA(),a.qZA(),a.TgZ(16,"div",11),a._UZ(17,"router-outlet"),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.ekj("show-menu",r.hamClick),a.xp6(13),a.Oqu(null==r.user?null:r.user.firstName))},directives:[vM,$l],styles:["@media only screen and (min-width: 755px){.container-dash[_ngcontent-%COMP%]{display:flex;width:100%}}.sidenav-area[_ngcontent-%COMP%]{width:20%;height:100vh;position:fixed;left:0}.sidenav[_ngcontent-%COMP%]{height:100%;padding:1.5rem;background-color:var(--grey-color1);background-image:url(homepage-nifty-background.c411fcbe01bbafb24313.png);background-position:center;background-size:cover;color:var(--white-color);position:relative}@media only screen and (max-width: 755px){.sidenav-area[_ngcontent-%COMP%]{position:fixed;top:0px;left:-100%;width:100%;background-color:#ebebeb79;transition:.5s;z-index:100}.sidenav-area.show-menu[_ngcontent-%COMP%]{left:0}.sidenav[_ngcontent-%COMP%]{width:40%}}main[_ngcontent-%COMP%]{position:absolute;left:20%;width:80%;padding:1.5rem}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{margin-bottom:2rem;display:flex;align-items:center;justify-content:space-between}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .main-header-menu[_ngcontent-%COMP%]{visibility:hidden}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:30px}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .main-header-profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   #profile-name[_ngcontent-%COMP%]{margin-right:1rem}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   #profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}main[_ngcontent-%COMP%]   .main-body[_ngcontent-%COMP%]{display:grid;grid-gap:2.5rem}@media only screen and (max-width: 755px){main[_ngcontent-%COMP%]{position:relative;left:0;width:100%}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .main-header-menu[_ngcontent-%COMP%]{visibility:visible}}"]}),n})();function cO(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",11),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeMenu()}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit;a.Q6J("routerLink",t.link),a.xp6(1),a.hij(" ",t.name," ")}}let bM=(()=>{class n{constructor(){this.navLink=[{name:"Prices",link:"/price",subLinks:[]},{name:"Security",link:"/security",subLinks:[]},{name:"Institutions",link:"/institutions",subLinks:[]},{name:"About Us",link:"/about",subLinks:[]},{name:"Contact",link:"/contact",subLinks:[]}]}ngOnInit(){}openMenu(){this.hamClick=!this.hamClick}closeMenu(){this.hamClick=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:13,vars:5,consts:[[1,"header"],[1,"container"],["routerLink","/",1,"logo","dis-flex","clickable"],["src","../../../../assets/img/logo.jpg","alt","image"],[1,"nav-list"],["class","nav-item","routerLinkActive","active",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"mobile-view","dis-flex"],[1,"get-started"],["routerLink","/auth/signin",1,"btn","prim-btn"],[1,"toggle-menu",3,"click"],[1,"menu-bar"],["routerLinkActive","active",1,"nav-item",3,"routerLink","click"]],template:function(t,r){1&t&&(a.TgZ(0,"header"),a.TgZ(1,"div",0),a.TgZ(2,"div",1),a.TgZ(3,"span",2),a._UZ(4,"img",3),a.qZA(),a.TgZ(5,"ul",4),a.YNc(6,cO,2,2,"li",5),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a.TgZ(9,"button",8),a._uU(10," Get Started "),a.qZA(),a.qZA(),a.TgZ(11,"div",9),a.NdJ("click",function(){return r.openMenu()}),a._UZ(12,"span",10),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(5),a.ekj("open-menu",r.hamClick),a.xp6(1),a.Q6J("ngForOf",r.navLink),a.xp6(5),a.ekj("open-menu",r.hamClick))},directives:[Eu,Ai,Lv],styles:['header[_ngcontent-%COMP%]{box-shadow:var(--box-shadow);position:fixed;width:100%;z-index:150;background-color:var(--white-color)}li[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%], .nav-list[_ngcontent-%COMP%]{height:7rem}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{justify-content:space-between}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:87px;height:87px}.nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{line-height:5rem;font-weight:500;transition:all .4s ease-in}.nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:not(:last-child){margin-right:1.5rem}.nav-item[_ngcontent-%COMP%]:hover{color:var(---primary-color)}.get-started[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1.5rem}.toggle-menu[_ngcontent-%COMP%]{cursor:pointer;margin-top:-6px;display:none}.toggle-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]{width:2rem;height:2px;background-color:var(--primary-color);display:inline-block;position:relative;transform:translate(-1rem);transition:background-color .5s}.toggle-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]:before, .toggle-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;height:inherit;background-color:inherit;transition:all .5s}.toggle-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]:before{width:2rem;top:-.6rem}.toggle-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]:after{width:2rem;top:.6rem}.open-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]{background-color:transparent!important}.open-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]:before{top:0!important;transform:rotate(135deg);background-color:var(--primary-color)!important}.open-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]:after{top:0!important;transform:rotate(-135deg);background-color:var(--primary-color)!important}@media screen and (max-width: 870px){.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:87px;height:87px}.nav-list[_ngcontent-%COMP%]{position:fixed;top:0px;left:-100%;width:80%;height:100%;padding:2rem;background-color:var(--primary-color);color:var(--white-color);box-shadow:0 20px 25px #ffffff42;transition:.5s;z-index:100;display:grid!important}.nav-list.open-menu[_ngcontent-%COMP%]{left:0}.toggle-menu[_ngcontent-%COMP%]{display:block;margin-left:2.5rem}.get-started[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;padding:.5rem 1rem}}']}),n})(),lO=(()=>{class n{constructor(){}ngOnInit(){this.currentYear=(new Date).getFullYear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:57,vars:1,consts:[[1,"container"],[1,"links"],[1,"links-header"],["routerLink","/about"],["routerLink","/blog"],["routerLink","/careers"],["routerLink","/security"],["routerLink","/services"],["routerLink","/contact"],["routerLink","/price"],["routerLink","/institutions"],[1,"copyright"]],template:function(t,r){1&t&&(a.TgZ(0,"footer"),a.TgZ(1,"div",0),a.TgZ(2,"div",1),a.TgZ(3,"h5",2),a._uU(4,"Company"),a.qZA(),a.TgZ(5,"ul"),a.TgZ(6,"li",3),a._uU(7,"About us"),a.qZA(),a.TgZ(8,"li",4),a._uU(9,"Blog"),a.qZA(),a.TgZ(10,"li",5),a._uU(11,"Careers"),a.qZA(),a.TgZ(12,"li",6),a._uU(13,"Security"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",1),a.TgZ(15,"h5",2),a._uU(16,"Products"),a.qZA(),a.TgZ(17,"ul"),a.TgZ(18,"li",3),a._uU(19,"Metrocrypto"),a.qZA(),a.TgZ(20,"li",3),a._uU(21,"Metrocrypto Earn\xae"),a.qZA(),a.TgZ(22,"li",3),a._uU(23,"Metrocrypto Credit Card"),a.qZA(),a.TgZ(24,"li",7),a._uU(25,"Metrocrypto ActiveTrader\xae"),a.qZA(),a.TgZ(26,"li",7),a._uU(27,"Metrocrypto Mobile"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(28,"div",1),a.TgZ(29,"h5",2),a._uU(30,"Support"),a.qZA(),a.TgZ(31,"ul"),a.TgZ(32,"li",3),a._uU(33,"Help Center"),a.qZA(),a.TgZ(34,"li",8),a._uU(35,"Contact Us"),a.qZA(),a.TgZ(36,"li",3),a._uU(37,"System Status"),a.qZA(),a.TgZ(38,"li",7),a._uU(39,"Areas of Availability"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(40,"div",1),a.TgZ(41,"h5",2),a._uU(42,"Links"),a.qZA(),a.TgZ(43,"ul"),a.TgZ(44,"li",9),a._uU(45,"Prices"),a.qZA(),a.TgZ(46,"li",10),a._uU(47,"Institutions"),a.qZA(),a.TgZ(48,"li",3),a._uU(49,"Refer a Friend"),a.qZA(),a.TgZ(50,"li",3),a._uU(51,"Legal Agreements"),a.qZA(),a.TgZ(52,"li",7),a._uU(53,"Privacy Policy"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(54,"div",0),a.TgZ(55,"p",11),a._uU(56),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(56),a.hij(" \xa9 Copyright ",r.currentYear," Metrocrypto Trust Company, LLC.. "))},directives:[Eu],styles:["ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.8rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;transition:.2s all ease-in}a[_ngcontent-%COMP%]{transition:.2s all ease-in}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover{color:var(--yellow-color)}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:14px;font-weight:400}footer[_ngcontent-%COMP%]{background-color:var(--grey-color1);padding:3rem 0}footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));grid-gap:2rem}.links[_ngcontent-%COMP%]   .links-header[_ngcontent-%COMP%]{margin-bottom:1rem}footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin-top:7rem}"]}),n})(),dO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-default"]],decls:4,vars:0,template:function(t,r){1&t&&(a._UZ(0,"app-header"),a.TgZ(1,"main"),a._UZ(2,"router-outlet"),a.qZA(),a._UZ(3,"app-footer"))},directives:[bM,$l,lO],styles:["main[_ngcontent-%COMP%]{padding-top:5rem}"]}),n})(),hO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-about"]],decls:67,vars:0,consts:[[1,"about-hero","sect"],[1,"container"],["poster","https://www.gemini.com/_next/static/images/video-bg-default-3bf040a669b210f0110512d30d21f274.png.webp","playsinline","","autoplay","","loop","","preload","none","width","100%",1,"hero-video"],["src","https://www.gemini.com//static/videos/about.mp4","type","video/mp4"],[1,"sect","about-grey-bg"],[1,"sect","about-pillars"],[1,"heading"],[1,"images","dis-flex"],["src","../../../assets/img/product.svg","alt",""],["src","../../../assets/img/security.svg","alt",""],["src","../../../assets/img/licensing.svg","alt",""],["src","../../../assets/img/compliance.svg","alt",""],[1,"details"],[1,"details-colo-1"],[1,"details-colo-2"],[1,"certified"],[1,"body-col-2-item","soc-iso","dis-flex"],["src","../../../assets/img/cryptosecurity-soc-logo.png","alt",""],[1,"sect","about-grey-bg","about-join-mission"],["href",""],[1,"sect","gb-simple","gb-dark-bg"],[1,"container","gb-flex-details"],[1,"gb-flex-details-title"],[1,"btn","tert-btn"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"h1"),a._uU(3," Crypto is about giving you greater choice, independence, and opportunity. We are here to help you on your journey. "),a.qZA(),a.qZA(),a.TgZ(4,"video",2),a._UZ(5,"source",3),a.qZA(),a.qZA(),a.TgZ(6,"section",4),a.TgZ(7,"div",1),a.TgZ(8,"p"),a._uU(9," We are committed to earning and maintaining your trust. We believe that in order to do so, we must invest in our four pillars for the long-term, as they are the inputs that generate a trust output. "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"section",5),a.TgZ(11,"div",1),a.TgZ(12,"div",6),a.TgZ(13,"h2"),a._uU(14,"The four pillars of Metrocrypto Exchange"),a.qZA(),a.TgZ(15,"p"),a._uU(16," We build crypto products that are simple, elegant, and secure. Whether you are an individual or an institution, we want to help you buy, sell, and store your bitcoin and cryptocurrency. "),a.qZA(),a.TgZ(17,"div",7),a.TgZ(18,"span"),a._UZ(19,"img",8),a.TgZ(20,"p"),a._uU(21,"Product"),a.qZA(),a.qZA(),a.TgZ(22,"span"),a._UZ(23,"img",9),a.TgZ(24,"p"),a._uU(25,"Security"),a.qZA(),a.qZA(),a.TgZ(26,"span"),a._UZ(27,"img",10),a.TgZ(28,"p"),a._uU(29,"Licensing"),a.qZA(),a.qZA(),a.TgZ(30,"span"),a._UZ(31,"img",11),a.TgZ(32,"p"),a._uU(33,"Compliance"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"div",12),a.TgZ(35,"div",13),a.TgZ(36,"p"),a._uU(37," Crypto has the capacity to force a redesign of the Internet, our financial system, and money in a way that fosters and protects the rights and dignity of the individual. If we are successful, we could make as great of a contribution to personal freedom as the invention of the printing press, the personal computer, and the early, open Internet. "),a.qZA(),a.TgZ(38,"p"),a._uU(39," Crypto is not just a technology, it\u2019s a movement. But it won\u2019t happen unless we build simple, elegant, and secure ways for individuals and institutions around the world to discover and interact with this new frontier. "),a.qZA(),a.qZA(),a.TgZ(40,"div",14),a.TgZ(41,"p"),a._uU(42," We founded Metrocrypto Exchange with a \u201csecurity-first\u201d mentality and ethos of asking for permission, not forgiveness. We have worked hard to provide you with a high-integrity choice and we look forward to earning and maintaining your trust. "),a.qZA(),a.TgZ(43,"p"),a._uU(44," Metrocrypto Exchange is a New York trust company regulated by the New York State Department of Financial Services (NYSDFS). We are subject to capital reserve requirements, cybersecurity requirements, and banking compliance standards set forth by the NYSDFS and the New York Banking Law. Metrocrypto Exchange is also a fiduciary and Qualified Custodian. "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(45,"div",15),a.TgZ(46,"div",16),a._UZ(47,"img",17),a.TgZ(48,"p"),a._uU(49," Metrocrypto Exchange is the world\u2019s first SOC 1 Type 2 and SOC 2 Type 2 certified crypto exchange and custodian. Learn more about our commitment to security. "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(50,"section",18),a.TgZ(51,"div",1),a.TgZ(52,"h3"),a._uU(53,"Join our mission"),a.qZA(),a.TgZ(54,"p"),a._uU(55," Join us on our mission to bring greater choice, independence, and opportunity to individuals around the world. "),a.qZA(),a.TgZ(56,"p"),a.TgZ(57,"a",19),a._uU(58,"Visit careers page"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(59,"section",20),a.TgZ(60,"div",21),a.TgZ(61,"h2",22),a._uU(62," The most trusted crypto-native finance platform "),a.qZA(),a.TgZ(63,"p"),a._uU(64,"Create a free Metrocrypto Exchange account in minutes"),a.qZA(),a.TgZ(65,"button",23),a._uU(66,"Get started"),a.qZA(),a.qZA(),a.qZA())},styles:[".about-hero[_ngcontent-%COMP%]{position:relative;color:var(--white-color);text-align:center;padding:6rem 0}.about-hero[_ngcontent-%COMP%]   .hero-video[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--primary-color);z-index:-10;visibility:visible}.about-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:70px}.about-grey-bg[_ngcontent-%COMP%]{background-color:var(--grey-color1);text-align:center}.about-pillars[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{text-align:center}.about-pillars[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.about-pillars[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]{justify-content:space-around;margin:3rem 0}.about-pillars[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .images[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-right:5rem}.about-pillars[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px;margin-bottom:1rem}.about-pillars[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:1.5rem 0;border-top:1px solid rgb(230,230,230);border-bottom:1px solid rgb(230,230,230);display:grid;grid-gap:2rem}@media only screen and (min-width: 450px){.about-pillars[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}.about-pillars[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .details-col-1[_ngcontent-%COMP%], .about-pillars[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .details-col-2[_ngcontent-%COMP%]{flex-basis:45%}.about-pillars[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.about-pillars[_ngcontent-%COMP%]   .certified[_ngcontent-%COMP%]{padding:1.5rem 0}.about-pillars[_ngcontent-%COMP%]   .certified[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:2rem}.about-join-mission[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem}.about-join-mission[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;display:inline-block;margin-top:.5rem}"]}),n})();var fO=L(1555);function s(n,e){return new $t.y(t=>{const r=n.length;if(0===r)return void t.complete();const u=new Array(r);let d=0,p=0;for(let v=0;v<r;v++){const w=(0,Ht.D)(n[v]);let D=!1;t.add(w.subscribe({next:P=>{D||(D=!0,p++),u[v]=P},error:P=>t.error(P),complete:()=>{d++,(d===r||!D)&&(p===r&&t.next(e?e.reduce((P,R,G)=>(P[R]=u[G],P),{}):u),t.complete())}}))}})}let o=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),c=(()=>{class n extends o{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const l=new a.OlP("NgValueAccessor"),_={provide:l,useExisting:(0,a.Gpc)(()=>S),multi:!0},T=new a.OlP("CompositionEventMode");let S=(()=>{class n extends o{constructor(t,r,u){super(t,r),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(T,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[a._Bn([_]),a.qOj]}),n})();function O(n){return null==n||0===n.length}function N(n){return null!=n&&"number"==typeof n.length}const Z=new a.OlP("NgValidators"),H=new a.OlP("NgAsyncValidators"),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class W{static min(e){return function(n){return e=>{if(O(e.value)||O(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(O(e.value)||O(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return O(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return O(n.value)||ae.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>O(e.value)||!N(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>N(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return qs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(O(r.value))return null;const u=r.value;return e.test(u)?null:{pattern:{requiredPattern:t,actualValue:u}}}}(e)}static nullValidator(e){return null}static compose(e){return sv(e)}static composeAsync(e){return pO(e)}}function qs(n){return null}function Bd(n){return null!=n}function jd(n){const e=(0,a.QGY)(n)?(0,Ht.D)(n):n;return(0,a.CqO)(e),e}function nv(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function rv(n,e){return e.map(t=>t(n))}function iv(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function sv(n){if(!n)return null;const e=n.filter(Bd);return 0==e.length?null:function(t){return nv(rv(t,e))}}function CM(n){return null!=n?sv(iv(n)):null}function pO(n){if(!n)return null;const e=n.filter(Bd);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,zn.k)(e))return s(e,null);if((0,fO.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return s(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return s(n=1===n.length&&(0,zn.k)(n[0])?n[0]:n,null).pipe((0,st.U)(t=>e(...t)))}return s(n,null)}(rv(t,e).map(jd)).pipe((0,st.U)(nv))}}function wM(n){return null!=n?pO(iv(n)):null}function gO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mO(n){return n._rawValidators}function yO(n){return n._rawAsyncValidators}function EM(n){return n?Array.isArray(n)?n:[n]:[]}function OA(n,e){return Array.isArray(n)?n.includes(e):n===e}function _O(n,e){const t=EM(e);return EM(n).forEach(u=>{OA(t,u)||t.push(u)}),t}function vO(n,e){return EM(e).filter(t=>!OA(n,t))}let bO=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=CM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})(),$s=(()=>{class n extends bO{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();class gp extends bO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CO{constructor(e){this._cd=e}is(e){var t,r,u;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(u=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===u?void 0:u[e])}}let ov=(()=>{class n extends CO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gp,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),Cm=(()=>{class n extends CO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($s,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function NA(n,e){return[...e.path,n]}function X0(n,e){AM(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wO(n,e)})}(n,e),function(n,e){const t=(r,u)=>{e.valueAccessor.writeValue(r),u&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function RA(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),FA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AM(n,e){const t=mO(n);null!==e.validator?n.setValidators(gO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=yO(n);null!==e.asyncValidator?n.setAsyncValidators(gO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const u=()=>n.updateValueAndValidity();kA(e._rawValidators,u),kA(e._rawAsyncValidators,u)}function FA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const u=mO(n);if(Array.isArray(u)&&u.length>0){const d=u.filter(p=>p!==e.validator);d.length!==u.length&&(t=!0,n.setValidators(d))}}if(null!==e.asyncValidator){const u=yO(n);if(Array.isArray(u)&&u.length>0){const d=u.filter(p=>p!==e.asyncValidator);d.length!==u.length&&(t=!0,n.setAsyncValidators(d))}}}const r=()=>{};return kA(e._rawValidators,r),kA(e._rawAsyncValidators,r),t}function wO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EO(n,e){AM(n,e)}function DM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function TO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function SM(n,e){if(!e)return null;let t,r,u;return Array.isArray(e),e.forEach(d=>{d.constructor===S?t=d:function(n){return Object.getPrototypeOf(n.constructor)===c}(d)?r=d:u=d}),u||r||t||null}function LA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ew="VALID",VA="INVALID",av="PENDING",tw="DISABLED";function MM(n){return(OM(n)?n.validators:n)||null}function IO(n){return Array.isArray(n)?CM(n):n||null}function xM(n,e){return(OM(e)?e.asyncValidators:n)||null}function AO(n){return Array.isArray(n)?wM(n):n||null}function OM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class PM{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=IO(this._rawValidators),this._composedAsyncValidatorFn=AO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ew}get invalid(){return this.status===VA}get pending(){return this.status==av}get disabled(){return this.status===tw}get enabled(){return this.status!==tw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=IO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=AO(e)}addValidators(e){this.setValidators(_O(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_O(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vO(e,this._rawAsyncValidators))}hasValidator(e){return OA(this._rawValidators,e)}hasAsyncValidator(e){return OA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=av,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ew,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ew||this.status===av)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tw:ew}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=av,this._hasOwnPendingAsyncValidator=!0;const t=jd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(u=>{r=r instanceof nw?r.controls.hasOwnProperty(u)?r.controls[u]:null:r instanceof NM&&r.at(u)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?tw:this.errors?VA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(av)?av:this._anyControlsHaveStatus(VA)?VA:ew}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){OM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uv extends PM{constructor(e=null,t,r){super(MM(t),xM(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class nw extends PM{constructor(e,t,r){super(MM(t),xM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,u)=>{r.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof uv?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((u,d)=>{r=t(r,u,d)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class NM extends PM{constructor(e,t,r){super(MM(t),xM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,u)=>{this.at(u)&&this.at(u).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,u)=>{r.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof uv?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const EP={provide:$s,useExisting:(0,a.Gpc)(()=>iw)},rw=(()=>Promise.resolve(null))();let iw=(()=>{class n extends $s{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new nw({},CM(t),wM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),X0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),LA(this._directives,t)})}addFormGroup(t){rw.then(()=>{const r=this._findContainer(t.path),u=new nw({});EO(u,t),r.registerControl(t.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){rw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,TO(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Z,10),a.Y36(H,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([EP]),a.qOj]}),n})();const IP={provide:gp,useExisting:(0,a.Gpc)(()=>RM)},MO=(()=>Promise.resolve(null))();let RM=(()=>{class n extends gp{constructor(t,r,u,d){super(),this.control=new uv,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(u),this.valueAccessor=SM(0,d)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),DM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?NA(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){X0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){MO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,u=""===r||r&&"false"!==r;MO.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($s,9),a.Y36(Z,10),a.Y36(H,10),a.Y36(l,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([IP]),a.qOj,a.TTD]}),n})(),wm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const AP={provide:l,useExisting:(0,a.Gpc)(()=>kM),multi:!0};let kM=(()=>{class n extends c{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([AP]),a.qOj]}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const FM=new a.OlP("NgModelWithFormControlWarning"),OP={provide:$s,useExisting:(0,a.Gpc)(()=>Em)};let Em=(()=>{class n extends $s{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(FA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return X0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){RA(t.control||null,t,!1),LA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,TO(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,u=this.form.get(t.path);r!==u&&(RA(r||null,t),u instanceof uv&&(X0(u,t),t.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);EO(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return FA(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AM(this.form,this),this._oldForm&&FA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Z,10),a.Y36(H,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([OP]),a.qOj,a.TTD]}),n})();const RP={provide:gp,useExisting:(0,a.Gpc)(()=>cv)};let cv=(()=>{class n extends gp{constructor(t,r,u,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(u),this.valueAccessor=SM(0,d)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),DM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return NA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36($s,13),a.Y36(Z,10),a.Y36(H,10),a.Y36(l,10),a.Y36(FM,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([RP]),a.qOj,a.TTD]}),n._ngModelWarningSentOnce=!1,n})();const kP={provide:l,useExisting:(0,a.Gpc)(()=>UA),multi:!0};function kO(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let UA=(()=>{class n extends c{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const u=kO(r,t);this.setProperty("value",u)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([kP]),a.qOj]}),n})(),ZA=(()=>{class n{constructor(t,r,u){this._element=t,this._renderer=r,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(kO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(UA,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const LP={provide:l,useExisting:(0,a.Gpc)(()=>UM),multi:!0};function FO(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let UM=(()=>{class n extends c{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const u=t.map(d=>this._getOptionId(d));r=(d,p)=>{d._setSelected(u.indexOf(p.toString())>-1)}}else r=(u,d)=>{u._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const u=[];if(void 0!==r.selectedOptions){const d=r.selectedOptions;for(let p=0;p<d.length;p++){const v=d.item(p),w=this._getOptionValue(v.value);u.push(w)}}else{const d=r.options;for(let p=0;p<d.length;p++){const v=d.item(p);if(v.selected){const w=this._getOptionValue(v.value);u.push(w)}}}this.value=u,t(u)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([LP]),a.qOj]}),n})(),BA=(()=>{class n{constructor(t,r,u){this._element=t,this._renderer=r,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(FO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(FO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(UM,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[xO]]}),n})(),BM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[GO]}),n})(),jA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:FM,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[GO]}),n})(),qA=(()=>{class n{group(t,r=null){const u=this._reduceControls(t);let v,d=null,p=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(d=null!=r.validators?r.validators:null,p=null!=r.asyncValidators?r.asyncValidators:null,v=null!=r.updateOn?r.updateOn:void 0):(d=null!=r.validator?r.validator:null,p=null!=r.asyncValidator?r.asyncValidator:null)),new nw(u,{asyncValidators:p,updateOn:v,validators:d})}control(t,r,u){return new uv(t,r,u)}array(t,r,u){const d=t.map(p=>this._createControl(p));return new NM(d,r,u)}_reduceControls(t){const r={};return Object.keys(t).forEach(u=>{r[u]=this._createControl(t[u])}),r}_createControl(t){return t instanceof uv||t instanceof nw||t instanceof NM?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,a.Yz7)({factory:function(){return new n},token:n,providedIn:jA}),n})();class zO{}class WO{}class qd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const u=t.slice(0,r),d=u.toLowerCase(),p=t.slice(r+1).trim();this.maybeSetNormalizedName(u,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const u=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(u,r),this.maybeSetNormalizedName(t,u))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const u=("a"===e.op?this.headers.get(t):void 0)||[];u.push(...r),this.headers.set(t,u);break;case"d":const d=e.value;if(d){let p=this.headers.get(t);if(!p)return;p=p.filter(v=>-1===d.indexOf(v)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class WP{encodeKey(e){return KO(e)}encodeValue(e){return KO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const YP=/%(\d[a-f0-9])/gi,QP={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function KO(n){return encodeURIComponent(n).replace(YP,(e,t)=>{var r;return null!==(r=QP[t])&&void 0!==r?r:e})}function YO(n){return`${n}`}class mp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new WP,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(u=>{const d=u.indexOf("="),[p,v]=-1==d?[e.decodeKey(u),""]:[e.decodeKey(u.slice(0,d)),e.decodeValue(u.slice(d+1))],w=t.get(p)||[];w.push(v),t.set(p,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const u=e[r];Array.isArray(u)?u.forEach(d=>{t.push({param:r,value:d,op:"a"})}):t.push({param:r,value:u,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new mp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const u=r.indexOf(YO(e.value));-1!==u&&r.splice(u,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function QO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function JO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function XO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class sw{constructor(e,t,r,u){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==r?r:null,d=u):d=r,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new qd),this.context||(this.context=new JP),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const v=t.indexOf("?");this.urlWithParams=t+(-1===v?"?":v<t.length-1?"&":"")+p}}else this.params=new mp,this.urlWithParams=t}serializeBody(){return null===this.body?null:QO(this.body)||JO(this.body)||XO(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XO(this.body)?null:JO(this.body)?this.body.type||null:QO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,u=e.url||this.url,d=e.responseType||this.responseType,p=void 0!==e.body?e.body:this.body,v=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,w=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let D=e.headers||this.headers,P=e.params||this.params;const R=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(D=Object.keys(e.setHeaders).reduce((G,z)=>G.set(z,e.setHeaders[z]),D)),e.setParams&&(P=Object.keys(e.setParams).reduce((G,z)=>G.set(z,e.setParams[z]),P)),new sw(r,u,p,{params:P,headers:D,context:R,reportProgress:w,responseType:d,withCredentials:v})}}var Br=(()=>((Br=Br||{})[Br.Sent=0]="Sent",Br[Br.UploadProgress=1]="UploadProgress",Br[Br.ResponseHeader=2]="ResponseHeader",Br[Br.DownloadProgress=3]="DownloadProgress",Br[Br.Response=4]="Response",Br[Br.User=5]="User",Br))();class jM{constructor(e,t=200,r="OK"){this.headers=e.headers||new qd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qM extends jM{constructor(e={}){super(e),this.type=Br.ResponseHeader}clone(e={}){return new qM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $A extends jM{constructor(e={}){super(e),this.type=Br.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $A({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eP extends jM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $M(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let tP=(()=>{class n{constructor(t){this.handler=t}request(t,r,u={}){let d;if(t instanceof sw)d=t;else{let w,D;w=u.headers instanceof qd?u.headers:new qd(u.headers),u.params&&(D=u.params instanceof mp?u.params:new mp({fromObject:u.params})),d=new sw(t,r,void 0!==u.body?u.body:null,{headers:w,context:u.context,params:D,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const p=(0,rt.of)(d).pipe(vc(w=>this.handler.handle(w)));if(t instanceof sw||"events"===u.observe)return p;const v=p.pipe(fi(w=>w instanceof $A));switch(u.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return v.pipe((0,st.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return v.pipe((0,st.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return v.pipe((0,st.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));case"json":default:return v.pipe((0,st.U)(w=>w.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new mp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,u={}){return this.request("PATCH",t,$M(u,r))}post(t,r,u={}){return this.request("POST",t,$M(u,r))}put(t,r,u={}){return this.request("PUT",t,$M(u,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(zO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class nP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rP=new a.OlP("HTTP_INTERCEPTORS");let tN=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const nN=/^\)\]\}',?\n/;let iP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $t.y(r=>{const u=this.xhrFactory.build();if(u.open(t.method,t.urlWithParams),t.withCredentials&&(u.withCredentials=!0),t.headers.forEach((z,oe)=>u.setRequestHeader(z,oe.join(","))),t.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&u.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();u.responseType="json"!==z?z:"text"}const d=t.serializeBody();let p=null;const v=()=>{if(null!==p)return p;const z=1223===u.status?204:u.status,oe=u.statusText||"OK",Re=new qd(u.getAllResponseHeaders()),Be=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||t.url;return p=new qM({headers:Re,status:z,statusText:oe,url:Be}),p},w=()=>{let{headers:z,status:oe,statusText:Re,url:Be}=v(),at=null;204!==oe&&(at=void 0===u.response?u.responseText:u.response),0===oe&&(oe=at?200:0);let Ft=oe>=200&&oe<300;if("json"===t.responseType&&"string"==typeof at){const vn=at;at=at.replace(nN,"");try{at=""!==at?JSON.parse(at):null}catch(Vt){at=vn,Ft&&(Ft=!1,at={error:Vt,text:at})}}Ft?(r.next(new $A({body:at,headers:z,status:oe,statusText:Re,url:Be||void 0})),r.complete()):r.error(new eP({error:at,headers:z,status:oe,statusText:Re,url:Be||void 0}))},D=z=>{const{url:oe}=v(),Re=new eP({error:z,status:u.status||0,statusText:u.statusText||"Unknown Error",url:oe||void 0});r.error(Re)};let P=!1;const R=z=>{P||(r.next(v()),P=!0);let oe={type:Br.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(oe.total=z.total),"text"===t.responseType&&!!u.responseText&&(oe.partialText=u.responseText),r.next(oe)},G=z=>{let oe={type:Br.UploadProgress,loaded:z.loaded};z.lengthComputable&&(oe.total=z.total),r.next(oe)};return u.addEventListener("load",w),u.addEventListener("error",D),u.addEventListener("timeout",D),u.addEventListener("abort",D),t.reportProgress&&(u.addEventListener("progress",R),null!==d&&u.upload&&u.upload.addEventListener("progress",G)),u.send(d),r.next({type:Br.Sent}),()=>{u.removeEventListener("error",D),u.removeEventListener("abort",D),u.removeEventListener("load",w),u.removeEventListener("timeout",D),t.reportProgress&&(u.removeEventListener("progress",R),null!==d&&u.upload&&u.upload.removeEventListener("progress",G)),u.readyState!==u.DONE&&u.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ka))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const HM=new a.OlP("XSRF_COOKIE_NAME"),GM=new a.OlP("XSRF_HEADER_NAME");class sP{}let iN=(()=>{class n{constructor(t,r,u){this.doc=t,this.platform=r,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=pt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ve),a.LFG(a.Lbi),a.LFG(HM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),zM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const u=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||u.startsWith("http://")||u.startsWith("https://"))return r.handle(t);const d=this.tokenService.getToken();return null!==d&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,d)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sP),a.LFG(GM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),sN=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(rP,[]);this.chain=r.reduceRight((u,d)=>new nP(u,d),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(WO),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),oN=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:zM,useClass:tN}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:HM,useValue:t.cookieName}:[],t.headerName?{provide:GM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[zM,{provide:rP,useExisting:zM,multi:!0},{provide:sP,useClass:iN},{provide:HM,useValue:"XSRF-TOKEN"},{provide:GM,useValue:"X-XSRF-TOKEN"}]}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[tP,{provide:zO,useClass:sN},iP,{provide:WO,useExisting:iP}],imports:[[oN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function uN(n,e){1&n&&(a.TgZ(0,"span",28),a._uU(1,"Message Sent!"),a.qZA())}function cN(n,e){1&n&&(a.TgZ(0,"span",29),a._uU(1,"Oops! Failed"),a.qZA())}function lN(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function dN(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Submit"),a.qZA())}let hN=(()=>{class n{constructor(t,r){this.formBuilder=t,this.http=r,this.loading=!1,this.status="",this.success=!1,this.failed=!1,this.contactForm=this.formBuilder.group({email:["",{validators:[W.required,W.email],updateOn:"change"}],option:["",{validators:[W.required],updateOn:"change"}],subject:["",{validators:[W.required],updateOn:"change"}],details:["",{validators:[W.required],updateOn:"change"}]})}ngOnInit(){}submit(){this.contactForm.invalid||(this.loading=!0,this.http.post("https://formspree.io/f/mwkyraoa",{option:this.contactForm.value.option,emailAddress:this.contactForm.value.email,details:this.contactForm.value.details,subject:this.contactForm.value.subject}).subscribe(r=>this.success=!0,r=>this.failed=!0),setTimeout(()=>{this.success=!1,this.failed=!1},3e3),this.contactForm.reset())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qA),a.Y36(tP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-contact"]],decls:76,vars:5,consts:[[1,"sect"],[1,"container"],[1,"header"],[1,"contact-body"],[1,"form-area"],[3,"formGroup","ngSubmit"],[1,"form-field"],["for","email"],[1,"input-field"],["type","email","autocomplete","email","formControlName","email"],["name","","id","","formControlName","option"],["value",""],["value","linking my bank account"],["value","depositing currency"],["value","depositing crypto"],["value","withdrawing currency"],["value","withdrawing crypto"],["value","debit Card"],["type","text","autocomplete","subject","formControlName","subject"],["name","","id","","cols","30","rows","10","formControlName","details"],["class","status gc",4,"ngIf"],["class","status rc",4,"ngIf"],[1,"form-footer","dis-flex"],[1,"btn","prim-btn"],[4,"ngIf"],[1,"options"],[1,"dis-flex"],["src","../../../assets/img/svg/bx-radio-circle-marked.svg","alt",""],[1,"status","gc"],[1,"status","rc"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h1"),a._uU(4,"Submit a Request"),a.qZA(),a.qZA(),a.TgZ(5,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"form",5),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(8,"div",6),a.TgZ(9,"label",7),a._uU(10,"Email Address "),a.TgZ(11,"strong"),a._uU(12,"*"),a.qZA(),a.qZA(),a.TgZ(13,"div",8),a._UZ(14,"input",9),a.qZA(),a.qZA(),a.TgZ(15,"div",6),a.TgZ(16,"label",7),a._uU(17,"I need help with "),a.TgZ(18,"strong"),a._uU(19,"*"),a.qZA(),a.qZA(),a.TgZ(20,"select",10),a.TgZ(21,"option",11),a._uU(22,"-"),a.qZA(),a.TgZ(23,"option",12),a._uU(24," Linking my bank account "),a.qZA(),a.TgZ(25,"option",13),a._uU(26," Depositing (Cash) Currency "),a.qZA(),a.TgZ(27,"option",14),a._uU(28,"Depositing Crypto"),a.qZA(),a.TgZ(29,"option",15),a._uU(30," Withdrawing (Cash) Currency "),a.qZA(),a.TgZ(31,"option",16),a._uU(32,"Withdrawing Crypto"),a.qZA(),a.TgZ(33,"option",17),a._uU(34,"Debit Card"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(35,"div",6),a.TgZ(36,"label",7),a._uU(37,"Subject "),a.TgZ(38,"strong"),a._uU(39,"*"),a.qZA(),a.qZA(),a.TgZ(40,"div",8),a._UZ(41,"input",18),a.qZA(),a.qZA(),a.TgZ(42,"div",6),a.TgZ(43,"label",7),a._uU(44,"Details of your request "),a.TgZ(45,"strong"),a._uU(46,"*"),a.qZA(),a.qZA(),a._UZ(47,"textarea",19),a.qZA(),a.TgZ(48,"small"),a._uU(49,"A member of our support staff will respond as soon as possible."),a.qZA(),a.YNc(50,uN,2,0,"span",20),a.YNc(51,cN,2,0,"span",21),a.TgZ(52,"div",22),a.TgZ(53,"button",23),a.YNc(54,lN,2,0,"span",24),a.YNc(55,dN,2,0,"span",24),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(56,"div",25),a.TgZ(57,"ul"),a.TgZ(58,"li",26),a._UZ(59,"img",27),a._uU(60," Depositing & Withdrawing "),a.qZA(),a.TgZ(61,"li",26),a._UZ(62,"img",27),a._uU(63," Signing In & Account Restrictions "),a.qZA(),a.TgZ(64,"li",26),a._UZ(65,"img",27),a._uU(66," Trading & Metrocrypto Earn "),a.qZA(),a.TgZ(67,"li",26),a._UZ(68,"img",27),a._uU(69," Account Management & Verification "),a.qZA(),a.TgZ(70,"li",26),a._UZ(71,"img",27),a._uU(72," Fraudulent Activity "),a.qZA(),a.TgZ(73,"li",26),a._UZ(74,"img",27),a._uU(75," Metrocrypto Credit Card "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(7),a.Q6J("formGroup",r.contactForm),a.xp6(43),a.Q6J("ngIf",r.success),a.xp6(1),a.Q6J("ngIf",r.failed),a.xp6(3),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",!r.loading))},directives:[wm,Cm,Em,S,ov,cv,UA,ZA,BA,$r],styles:[".header[_ngcontent-%COMP%]{margin-bottom:2rem}.contact-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row-reverse}@media only screen and (max-width: 670px){.contact-body[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;justify-content:initial}}.contact-body[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{flex-basis:45%;width:100%}.contact-body[_ngcontent-%COMP%]   .form-area[_ngcontent-%COMP%]{width:100%;flex-basis:45%}.contact-body[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.contact-body[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:1rem;border:1px solid #dddddd;border-radius:var(--border-radius)}.contact-body[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-form-area:.5rem}form[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem}.form-field[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#eb5757}.input-field[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;justify-content:space-between;font-size:16px;color:#343536;white-space:nowrap;padding:1rem;margin-top:.6rem;background-color:#fff;border:1px solid rgb(179,179,180);transition:border-color 0s ease 0s,box-shadow .25s ease-in-out 0s;border-radius:12px}textarea[_ngcontent-%COMP%]{resize:none}.input-field[_ngcontent-%COMP%]:hover, .input-field[_ngcontent-%COMP%]:active{border-color:#1a1c1d;box-shadow:#1a1c1d 0 0 0 1px}.input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:none;outline:none;font-size:16px}.gc[_ngcontent-%COMP%]{color:#00d285}.rc[_ngcontent-%COMP%]{color:#eb5757}"]}),n})(),fN=(()=>{class n{constructor(t){this.profileService=t}ngOnInit(){this.userId=JSON.parse(localStorage.getItem("id")||"{}"),this.users=this.profileService.getSingleUser(this.userId).subscribe(t=>{t.forEach(r=>{let u=r.payload.doc.data();this.user=u,console.log(this.user)})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bm))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-account"]],decls:65,vars:9,consts:[[1,"account-container"],[1,"account-banner"],[1,"account-banner-bg"],[1,"cover-image"],[1,"account-banner-info"],[1,"account-banner-info-image"],["accountBannerInfoImage",""],["alt","image",1,"profile-image",3,"src"],[1,"account-banner-info-details"],[1,"profile-name"],[1,"profile-email"],[1,"account-profile"],[1,"account-profile-heading"],[1,"account-profile-details"],[1,"account-info"],["action",""],[1,"user-info"],[1,""],[1,"firstName"],["for","firstName"],["type","text","name","firstName",3,"ngModel","ngModelChange"],[1,"lastName"],["for","lastName"],["type","text","id","lastname","name","lastName",3,"ngModel","ngModelChange"],[1,"email"],["for","email"],["type","email","name","email",3,"ngModel","ngModelChange"],[1,"contact-info"],[1,"address"],["for","address"],["type","text","id","address","name","address",1,"",3,"ngModel","ngModelChange"],[1,"city"],["for","city"],["type","text","id","city","name","city",1,"",3,"ngModel","ngModelChange"],[1,"number"],["for","number"],["type","tel","name","number",3,"ngModel","ngModelChange"],[1,"update-btn","account-info"],[1,"btn","sec-btn"],[1,"success-msg"],["src","../../assets/img/svg/checked.svg","alt",""]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"h2"),a._uU(5,"Hi, Welcome back!"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",4),a.TgZ(7,"div",5,6),a._UZ(9,"img",7),a.qZA(),a.TgZ(10,"div",8),a.TgZ(11,"div",9),a.TgZ(12,"h4"),a._uU(13),a.qZA(),a.TgZ(14,"p"),a._uU(15,"Software Developer"),a.qZA(),a.qZA(),a.TgZ(16,"div",10),a.TgZ(17,"h4"),a._uU(18),a.qZA(),a.TgZ(19,"p"),a._uU(20,"Email"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"div",11),a.TgZ(22,"div",12),a.TgZ(23,"h3"),a._uU(24,"Profile Details"),a.qZA(),a.qZA(),a.TgZ(25,"div",13),a.TgZ(26,"div",14),a.TgZ(27,"form",15),a.TgZ(28,"div",16),a.TgZ(29,"h5",17),a._uU(30,"User Information"),a.qZA(),a.TgZ(31,"div",18),a.TgZ(32,"label",19),a._uU(33,"First Name"),a.qZA(),a.TgZ(34,"input",20),a.NdJ("ngModelChange",function(d){return r.user.firstName=d}),a.qZA(),a.qZA(),a.TgZ(35,"div",21),a.TgZ(36,"label",22),a._uU(37,"Last Name"),a.qZA(),a.TgZ(38,"input",23),a.NdJ("ngModelChange",function(d){return r.user.lastName=d}),a.qZA(),a.qZA(),a.TgZ(39,"div",24),a.TgZ(40,"label",25),a._uU(41,"Email"),a.qZA(),a.TgZ(42,"input",26),a.NdJ("ngModelChange",function(d){return r.user.emailAddress=d}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(43,"div",27),a.TgZ(44,"h5",17),a._uU(45,"Contact Information"),a.qZA(),a.TgZ(46,"div",28),a.TgZ(47,"label",29),a._uU(48,"Address"),a.qZA(),a.TgZ(49,"input",30),a.NdJ("ngModelChange",function(d){return r.user.address=d}),a.qZA(),a.qZA(),a.TgZ(50,"div",31),a.TgZ(51,"label",32),a._uU(52,"City"),a.qZA(),a.TgZ(53,"input",33),a.NdJ("ngModelChange",function(d){return r.user.city=d}),a.qZA(),a.qZA(),a.TgZ(54,"div",34),a.TgZ(55,"label",35),a._uU(56,"Mobile Number"),a.qZA(),a.TgZ(57,"input",36),a.NdJ("ngModelChange",function(d){return r.user.phoneNumber=d}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(58,"div",37),a.TgZ(59,"button",38),a._uU(60,"Update"),a.qZA(),a.TgZ(61,"span",39),a._UZ(62,"img",40),a.TgZ(63,"p"),a._uU(64,"All Changes are saved"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(9),a.Q6J("src",null==r.user?null:r.user.imageUrl,a.LSH),a.xp6(4),a.Oqu(null==r.user?null:r.user.fullName),a.xp6(5),a.Oqu(null==r.user?null:r.user.emailAddress),a.xp6(16),a.Q6J("ngModel",r.user.firstName),a.xp6(4),a.Q6J("ngModel",r.user.lastName),a.xp6(4),a.Q6J("ngModel",r.user.emailAddress),a.xp6(7),a.Q6J("ngModel",r.user.address),a.xp6(4),a.Q6J("ngModel",r.user.city),a.xp6(4),a.Q6J("ngModel",r.user.phoneNumber))},directives:[wm,Cm,iw,S,ov,RM],styles:["input[_ngcontent-%COMP%]:hover{border-color:#1a1c1d;box-shadow:#1a1c1d 0 0 0 1px}.account-banner[_ngcontent-%COMP%]{padding-bottom:1rem;box-shadow:var(--box-shadow)}.account-banner-bg[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(bg-2.3d36073aa9a93d271f79.jpg);background-size:cover;background-position:center;min-height:250px;width:100%}.account-banner-bg[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:var(--white-color);padding:5rem 0 0 3rem}.account-banner-info[_ngcontent-%COMP%]{padding:1rem 1rem .5rem}@media only screen and (min-width: 585px){.account-banner-info[_ngcontent-%COMP%]{display:flex;align-items:center}}.account-banner-info-image[_ngcontent-%COMP%]{max-width:100px;width:196px;height:auto;margin-top:-40px;margin-right:20px}.account-banner-info-image[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{width:100%;border-radius:50%}@media only screen and (min-width: 585px){.account-banner-info-details[_ngcontent-%COMP%]{display:flex;align-items:center}}.account-banner-info-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.34rem;font-weight:500;margin-bottom:.3rem}.account-banner-info-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.account-banner-info-details[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin-right:2rem}@media only screen and (max-width: 585px){.account-banner-info-details[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin-bottom:1rem}}.account-banner-info-details[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--primary-color)}.account-banner-info-details[_ngcontent-%COMP%]   .profile-email[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-color2)}.account-profile[_ngcontent-%COMP%]{padding-top:1rem}.account-profile-heading[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-grey);padding:1.5rem}.account-profile-details[_ngcontent-%COMP%]{padding:0 1.5rem}.account-profile-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px!important}.account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:1.5rem 0}.account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;align-items:flex-start}.account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{display:grid;grid-gap:2rem}.account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:16px;color:#343536;white-space:nowrap;padding:1rem;margin-top:.6rem;background-color:#fff;border:1px solid rgb(179,179,180);transition:border-color 0s ease 0s,box-shadow .25s ease-in-out 0s;border-radius:12px}.account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-color)}@media only screen and (min-width: 585px){.account-profile-details[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.account-profile-details[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%]{grid-column:1 / span 2}}.account-profile-details[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%], .account-profile-details[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%]   .success-msg[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.account-profile-details[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem}.account-profile-details[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%]   .success-msg[_ngcontent-%COMP%]{font-size:14px}"]}),n})(),pN=(()=>{class n{constructor(t){this.profileService=t}ngOnInit(){this.userId=JSON.parse(localStorage.getItem("id")||"{}"),this.users=this.profileService.getSingleUser(this.userId).subscribe(t=>{t.forEach(r=>{let u=r.payload.doc.data();this.user=u})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bm))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-overview"]],decls:58,vars:3,consts:[[1,"main-body"],[1,"card-list"],[1,"card"],[1,"uc"],[1,"bx","bxs-up-arrow-alt","gc"],[1,"gc"],[1,"bx","bxs-up-arrow-alt","rc"],[1,"rc"],[1,"card-list","bal-card"],[1,""],[1,"bx","bxs-wallet-alt"],[1,"bx","bxs-server"],[1,"bx","bx-money"],[1,"btc-chart"],["scrolling","no","allowtransparency","true","frameborder","0","src","https://s.tradingview.com/embed-widget/forex-cross-rates/?locale=en#%7B%22width%22%3A980%2C%22height%22%3A400%2C%22currencies%22%3A%5B%22EUR%22%2C%22USD%22%2C%22JPY%22%2C%22BTC%22%2C%22ETH%22%2C%22LTC%22%2C%22GBP%22%2C%22CHF%22%2C%22AUD%22%2C%22CAD%22%2C%22NZD%22%2C%22CNY%22%5D%2C%22isTransparent%22%3Afalse%2C%22colorTheme%22%3A%22light%22%2C%22utm_source%22%3A%22dynamicpremiumassets.com%22%2C%22utm_medium%22%3A%22widget_new%22%2C%22utm_campaign%22%3A%22forex-cross-rates%22%7D",1,"tradingview"],["id","tradingview","src","https://s.tradingview.com/widgetembed/?frameElementId=tradingview_dd6f1&symbol=COINBASE%3ABTCUSD&interval=D&symboledit=1&saveimage=1&toolbarbg=f1f3f6&studies=%5B%5D&theme=Dark&style=1&timezone=Etc%2FUTC&studies_overrides=%7B%7D&overrides=%7B%7D&enabled_features=%5B%5D&disabled_features=%5B%5D&locale=en&utm_source=www.bitlunaroptions.com&utm_medium=widget_new&utm_campaign=chart&utm_term=COINBASE%3ABTCUSD","allowtransparency","true","scrolling","no","allowfullscreen","","frameborder","0",1,"tradingview"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h4",3),a._uU(4,"Btc/eur "),a._UZ(5,"i",4),a.qZA(),a.TgZ(6,"p"),a._uU(7,"1119,86 "),a.TgZ(8,"span",5),a._uU(9,"+14,90(1,35%)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"div",2),a.TgZ(11,"h4",3),a._uU(12,"Btc/usd "),a._UZ(13,"i",4),a.qZA(),a.TgZ(14,"p"),a._uU(15,"1119,93 "),a.TgZ(16,"span",5),a._uU(17,"+3,90(0,25%)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",2),a.TgZ(19,"h4",3),a._uU(20,"Eth/eur "),a._UZ(21,"i",4),a.qZA(),a.TgZ(22,"p"),a._uU(23,"49,22 "),a.TgZ(24,"span",5),a._uU(25,"+1,23(2,14%)"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(26,"div",2),a.TgZ(27,"h4",3),a._uU(28,"Eth/usd "),a._UZ(29,"i",6),a.qZA(),a.TgZ(30,"p"),a._uU(31,"45,26 "),a.TgZ(32,"span",7),a._uU(33,"+2,73(5,51%)"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(34,"div",8),a.TgZ(35,"div",2),a.TgZ(36,"h4",9),a._uU(37,"Current Balance "),a._UZ(38,"i",10),a.qZA(),a.TgZ(39,"p"),a._uU(40),a.qZA(),a.qZA(),a.TgZ(41,"div",2),a.TgZ(42,"h4",9),a._uU(43,"Total Deposit "),a._UZ(44,"i",11),a.qZA(),a.TgZ(45,"p"),a._uU(46),a.qZA(),a.qZA(),a.TgZ(47,"div",2),a.TgZ(48,"h4",9),a._uU(49,"Total Withdrawal "),a._UZ(50,"i",12),a.qZA(),a.TgZ(51,"p"),a._uU(52),a.qZA(),a.qZA(),a.qZA(),a.TgZ(53,"section",13),a._UZ(54,"iframe",14),a.qZA(),a.TgZ(55,"section",13),a.TgZ(56,"div"),a._UZ(57,"iframe",15),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(40),a.hij("$",null==r.user?null:r.user.currentBal,""),a.xp6(6),a.hij("$",null==r.user?null:r.user.totalDepo,""),a.xp6(6),a.hij("$",null==r.user?null:r.user.totalWith,""))},styles:[".main-body[_ngcontent-%COMP%]{display:grid;grid-gap:2.5rem}.main-body[_ngcontent-%COMP%]   .card-list[_ngcontent-%COMP%]{display:grid;grid-gap:2rem}.main-body[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;box-shadow:var(--box-shadow)}@media only screen and (max-width: 755px){.sidenav-area[_ngcontent-%COMP%]{position:fixed;top:0px;left:-100%;width:100%;background-color:#ebebeb79;transition:.5s;z-index:100}.sidenav-area.show-menu[_ngcontent-%COMP%]{left:0}.sidenav[_ngcontent-%COMP%]{width:40%}main[_ngcontent-%COMP%]{position:relative;left:0;width:100%}main[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .main-header-menu[_ngcontent-%COMP%]{visibility:visible}}@media only screen and (min-width: 480px){.main-body[_ngcontent-%COMP%]   .card-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px;vertical-align:middle}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;margin-top:.5rem}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:1rem}.bal-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-color)}.bal-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500}.bal-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right;font-size:40px}.bal-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2rem}.btc-chart[_ngcontent-%COMP%]   .tradingview[_ngcontent-%COMP%]{width:100%;height:55vh}"]}),n})();function gN(n,e){1&n&&(a.TgZ(0,"span",25),a._uU(1,"Withdrawal successful"),a.qZA())}let mN=(()=>{class n{constructor(t,r,u){this.formBuilder=t,this.profileService=r,this.router=u,this.successMessage=!1,this.withdrawForm=this.formBuilder.group({amount:["",{validators:[W.required],updateOn:"change"}]})}ngOnInit(){this.userId=JSON.parse(localStorage.getItem("id")||"{}"),this.users=this.profileService.getSingleUser(this.userId).subscribe(t=>{t.forEach(r=>{let u=r.payload.doc.data();u.id=r.payload.doc.id,this.user=u})})}onEdit(t){this.profileService.updateUser(t.emailAddress,{recentAmount:this.withdrawForm.value.amount,totalWith:t.totalWith+this.withdrawForm.value.amount}).then(u=>{this.successMessage=!0,this.router.navigate(["dashboard"])}).catch(u=>{console.log(u)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qA),a.Y36(bm),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-receive"]],decls:49,vars:3,consts:[[1,""],[1,"account-banner"],[1,"account-banner-bg"],[1,"cover-image"],[1,"withdraw-sect"],[1,"withdraw-sect-head"],[1,"withdraw-sect-body"],[1,"withdraw-sect-body-head"],[1,"withdraw-sect-body-form",3,"formGroup","ngSubmit"],["for","amount"],["type","number","placeholder","Enter amount","formControlName","amount"],["for","email"],["name","","id",""],["value",""],["value","Btc"],["value","Etherum"],["value","Usdt"],["for",""],["type","text","placeholder","Enter Wallet Address"],["type","text","placeholder","Enter Account Number"],["type","text","placeholder","Enter Account Name"],["type","password","placeholder","Enter password"],["class","gc",4,"ngIf"],[1,"col-2"],[1,"btn","prim-btn",3,"click"],[1,"gc"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"h2"),a._uU(5,"Hi, Welcome back!"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",4),a.TgZ(7,"h3",5),a._uU(8,"Withdraw fund from your account"),a.qZA(),a.TgZ(9,"div",6),a.TgZ(10,"h5",7),a._uU(11),a.qZA(),a.TgZ(12,"form",8),a.NdJ("ngSubmit",function(d){return r.onEdit(d)}),a.TgZ(13,"div",0),a.TgZ(14,"label",9),a._uU(15,"Amount"),a.qZA(),a._UZ(16,"input",10),a.qZA(),a.TgZ(17,"div",0),a.TgZ(18,"label",11),a._uU(19,"Payment Method"),a.qZA(),a.TgZ(20,"select",12),a.TgZ(21,"option",13),a._uU(22,"Select payment method"),a.qZA(),a.TgZ(23,"option",14),a._uU(24,"Btc"),a.qZA(),a.TgZ(25,"option",15),a._uU(26,"Etherum"),a.qZA(),a.TgZ(27,"option",16),a._uU(28,"Usdt"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"div",0),a.TgZ(30,"label",17),a._uU(31,"Wallet Address"),a.qZA(),a._UZ(32,"input",18),a.qZA(),a.TgZ(33,"div",0),a.TgZ(34,"label",17),a._uU(35,"Account Number"),a.qZA(),a._UZ(36,"input",19),a.qZA(),a.TgZ(37,"div",0),a.TgZ(38,"label",17),a._uU(39,"Account Name"),a.qZA(),a._UZ(40,"input",20),a.qZA(),a.TgZ(41,"div",0),a.TgZ(42,"label",17),a._uU(43,"Password"),a.qZA(),a._UZ(44,"input",21),a.qZA(),a.YNc(45,gN,2,0,"span",22),a.TgZ(46,"div",23),a.TgZ(47,"button",24),a.NdJ("click",function(){return r.onEdit(r.user)}),a._uU(48,"Withdraw"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(11),a.hij(" Account Balance $",null==r.user?null:r.user.currentBal," "),a.xp6(1),a.Q6J("formGroup",r.withdrawForm),a.xp6(33),a.Q6J("ngIf",r.successMessage))},directives:[wm,Cm,Em,kM,S,ov,cv,ZA,BA,$r],styles:["input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{border-color:#1a1c1d;box-shadow:#1a1c1d 0 0 0 1px}.account-banner[_ngcontent-%COMP%]{padding-bottom:1rem}.account-banner-bg[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(bg-2.3d36073aa9a93d271f79.jpg);background-size:cover;background-position:center;min-height:250px;width:100%}.account-banner-bg[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:var(--white-color);padding:5rem 0 0 3rem}.account-banner-info[_ngcontent-%COMP%]{display:block;width:90%;margin:2rem auto}@media only screen and (min-width: 585px){.account-banner-info[_ngcontent-%COMP%]{display:flex;align-items:center}}.account-banner[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem}.withdraw-sect[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;border:1px solid var(--light-grey);padding:1rem}.withdraw-sect-head[_ngcontent-%COMP%], .withdraw-sect-body-head[_ngcontent-%COMP%]{text-align:center}.withdraw-sect-body-form[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem;margin-top:1rem}.withdraw-sect-body-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .withdraw-sect-body-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;font-size:16px;color:#343536;white-space:nowrap;padding:1rem;margin-top:.6rem;background-color:#fff;border:1px solid rgb(179,179,180);transition:border-color 0s ease 0s,box-shadow .25s ease-in-out 0s;border-radius:12px}.withdraw-sect-body-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;margin-top:1rem;width:100%}@media only screen and (min-width: 585px){.withdraw-sect-body-form[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.col-2[_ngcontent-%COMP%]{grid-column:1 / span 2}}"]}),n})(),yN=(()=>{class n{constructor(t){this.db=t,this.collectionName="plan",this.serviceRef=t.collection(this.collectionName)}getPlans(){return this.serviceRef}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _N=["investBtn"],vN=["investBtn2"],bN=["investBtn3"],CN=["deposit"];function wN(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6),a.TgZ(1,"div",7),a.TgZ(2,"h4",8),a._uU(3),a.qZA(),a.TgZ(4,"div"),a.TgZ(5,"ul"),a.TgZ(6,"li"),a._uU(7),a.qZA(),a.TgZ(8,"li"),a._uU(9),a.qZA(),a.TgZ(10,"li"),a._uU(11),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"a",9),a.NdJ("click",function(u){return a.CHM(t),a.oxw().openPlanPreview(u)}),a._uU(13,"Invest"),a.qZA(),a.qZA(),a.TgZ(14,"div",10),a.TgZ(15,"h4",8),a._uU(16,"Investment Preview"),a.qZA(),a.TgZ(17,"div",11),a.TgZ(18,"h5",12),a._uU(19,"Account Balance $0"),a.qZA(),a.TgZ(20,"form",13),a._UZ(21,"input",14),a.TgZ(22,"select",15),a.TgZ(23,"option",16),a._uU(24,"Select payment method"),a.qZA(),a.TgZ(25,"option",17),a._uU(26,"Btc"),a.qZA(),a.TgZ(27,"option",18),a._uU(28,"Etherum"),a.qZA(),a.TgZ(29,"option",19),a._uU(30,"Usdt"),a.qZA(),a.qZA(),a.TgZ(31,"div"),a.TgZ(32,"button",20,21),a.NdJ("click",function(u){return a.CHM(t),a.oxw().openDepositModal(u)}),a._uU(34," Invest "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(35,"div",22),a.TgZ(36,"div",23,24),a.TgZ(38,"h3",25),a._uU(39,"Deposit fund from your account"),a.qZA(),a.TgZ(40,"div",26),a.TgZ(41,"h5",27),a._uU(42,"Account Balance $0"),a.qZA(),a.TgZ(43,"div",28),a._UZ(44,"img",29),a.TgZ(45,"div",30),a.TgZ(46,"div",31),a.TgZ(47,"p"),a.TgZ(48,"span",8),a._uU(49,"Name:"),a.qZA(),a._uU(50),a.qZA(),a.TgZ(51,"p"),a.TgZ(52,"span",8),a._uU(53,"Email:"),a.qZA(),a._uU(54),a.qZA(),a.TgZ(55,"p"),a.TgZ(56,"span",8),a._uU(57,"Option:"),a.qZA(),a._uU(58),a.qZA(),a.TgZ(59,"p"),a.TgZ(60,"span",8),a._uU(61,"Wallet:"),a.qZA(),a._UZ(62,"input",32),a.qZA(),a.qZA(),a.TgZ(63,"div",33),a.TgZ(64,"button",34),a.NdJ("click",function(){return a.CHM(t),a.oxw().myFunction()})("mouseenter",function(){return a.CHM(t),a.oxw().overFunc()}),a.TgZ(65,"span",35),a._uU(66),a.qZA(),a._uU(67," Copy "),a.qZA(),a.TgZ(68,"button",36),a.NdJ("click",function(){return a.CHM(t),a.oxw().depositBtn()}),a._uU(69," Deposit "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw();a.xp6(1),a.ekj("show",r.planPreview),a.xp6(2),a.Oqu(t.title),a.xp6(4),a.hij("Min. Possible Deposit ",t.minPosDepo,""),a.xp6(2),a.hij("Max. Possible Deposit : ",t.maxPosDepo,""),a.xp6(2),a.hij("",t.minReturn," Minimum return"),a.xp6(3),a.ekj("show",r.planPreview),a.xp6(21),a.ekj("show-modal",r.depositModal),a.xp6(15),a.hij(" ",null==r.user?null:r.user.fullName,""),a.xp6(4),a.hij(" ",null==r.user?null:r.user.emailAddress,""),a.xp6(4),a.hij(" ",r.option,""),a.xp6(4),a.Q6J("value",r.optionId),a.xp6(4),a.Oqu(r.tooltip)}}let EN=(()=>{class n{constructor(t,r,u,d){this.renderer=t,this.profileService=r,this.planService=u,this.router=d,this.option="Null",this.optionId="Null",this.BtcId="1FqD5tgXJjMaNhP1ECoYTkqvpnYK35jmzA",this.EtherumId="0x9286a3cd89b7a8a8703a1bcda027b0e3fd01a867",this.usdtId="0x9286a3cd89b7a8a8703a1bcda027b0e3fd01a867"}ngAfterViewInit(){this.userId=JSON.parse(localStorage.getItem("id")||"{}"),this.users=this.profileService.getSingleUser(this.userId).subscribe(t=>{t.forEach(r=>{let u=r.payload.doc.data();this.user=u})}),this.renderer.listen("window","click",t=>{let r=!this.investBtn.nativeElement.contains(t.target),u=!this.deposit.nativeElement.contains(t.target);r&&u&&(this.depositModal=!1)}),this.getAllPlans()}getAllPlans(){this.planService.getPlans().snapshotChanges().pipe((0,st.U)(t=>t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())))).subscribe(t=>{this.plans=t,console.log(this.plans)})}openPlanPreview(t){const r=t.currentTarget.parentElement.parentElement.children[0];t.currentTarget.parentElement.parentElement.children[1].classList.add("show"),r.classList.add("show")}openDepositModal(t){this.styles=t.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.children[2],this.styles.classList.add("show-modal"),console.log(this.depositModal),this.paymentMethod=document.getElementsByClassName("paymentMethod"),Array.prototype.forEach.call(this.paymentMethod,r=>{"Btc"===r.value?(this.option="Btc",this.optionId=this.BtcId):"Etherum"===r.value?(this.option="Etherum",this.optionId=this.EtherumId):"Usdt"===r.value&&(this.option="Usdt",this.optionId=this.usdtId)})}myFunction(){this.copyText=document.getElementsByClassName("myInput"),Array.prototype.forEach.call(this.copyText,t=>{t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),this.tooltip="Copied!"})}overFunc(){this.tooltip="Copy to clipboard"}depositBtn(){this.router.navigate(["dashboard"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(bm),a.Y36(yN),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-send"]],viewQuery:function(t,r){if(1&t&&(a.Gf(_N,5),a.Gf(vN,5),a.Gf(bN,5),a.Gf(CN,5)),2&t){let u;a.iGM(u=a.CRH())&&(r.investBtn=u.first),a.iGM(u=a.CRH())&&(r.investBtn2=u.first),a.iGM(u=a.CRH())&&(r.investBtn3=u.first),a.iGM(u=a.CRH())&&(r.deposit=u.first)}},decls:8,vars:1,consts:[[1,""],[1,"account-banner"],[1,"account-banner-bg"],[1,"cover-image"],[1,"plan-card"],["class","plan-card-item",4,"ngFor","ngForOf"],[1,"plan-card-item"],[1,"plan-card-side","plan-card-front"],[1,"uc"],[1,"btn","sec-btn",3,"click"],[1,"plan-card-side","plan-card-preview"],[1,"plan-card-preview-body"],[1,"plan-card-preview-body-head"],[1,"plan-card-preview-body-form"],["type","text","placeholder","Enter amount","id","amount"],["name","",1,"paymentMethod"],["value",""],["value","Btc"],["value","Etherum"],["value","Usdt"],[1,"btn","prim-btn","investBtn",3,"click"],["investBtn",""],[1,"plan-invest-area"],[1,"plan-invest"],["deposit",""],[1,"plan-invest-head"],[1,"plan-invest-body"],[1,"heading"],[1,"body"],["src","https://www.svgrepo.com/show/15468/send.svg","alt","send"],[1,"body-details"],[1,"user-details"],["type","text","disabled","",1,"gen-code","myInput",3,"value"],[1,"body-btns"],[1,"btn","sec-btn","tooltip",3,"click","mouseenter"],["id","myTooltip",1,"tooltiptext"],[1,"btn","prim-btn",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"h2"),a._uU(5,"Hi, Welcome back!"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",4),a.YNc(7,wN,70,15,"div",5),a.qZA(),a.qZA()),2&t&&(a.xp6(7),a.Q6J("ngForOf",r.plans))},directives:[Ai,wm,Cm,iw,ZA,BA],styles:['input[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]:hover{border-color:#1a1c1d;box-shadow:#1a1c1d 0 0 0 1px}.account-banner[_ngcontent-%COMP%]{padding-bottom:1rem}.account-banner-bg[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(bg-2.3d36073aa9a93d271f79.jpg);background-size:cover;background-position:center;min-height:250px;width:100%}.account-banner-bg[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:var(--white-color);padding:5rem 0 0 3rem}.account-banner-info[_ngcontent-%COMP%]{display:block;width:90%;margin:2rem auto}@media only screen and (min-width: 585px){.account-banner-info[_ngcontent-%COMP%]{display:flex;align-items:center}}.account-banner[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem}.plan-card[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;margin-top:2rem}@media only screen and (min-width: 1200px){.plan-card[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(500px,1fr))}}@media only screen and (min-width: 480px){.plan-card[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}}.plan-card-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .plan-card-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:center}.plan-card-item[_ngcontent-%COMP%]{position:relative;width:100%;height:250px}.plan-card-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:1rem 0}.plan-card-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem}.plan-card-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:.5rem;text-align:center;cursor:pointer}.plan-card-side[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;border-radius:var(--border-radius);box-shadow:0 4px 25px #0e243126;padding:1rem;-webkit-backface-visibility:hidden;backface-visibility:hidden;visibility:visible;transition:all 2s ease-out}.plan-card-preview[_ngcontent-%COMP%]{transform:rotateY(180deg)}.plan-card-front.show[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.plan-card-preview.show[_ngcontent-%COMP%]{transform:rotateY(0)}.plan-card-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.plan-card-preview-head[_ngcontent-%COMP%], .plan-card-preview-body-head[_ngcontent-%COMP%]{text-align:center}.plan-card-preview-body-form[_ngcontent-%COMP%]{margin-top:1rem}.plan-card-preview-body-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .plan-card-preview-body-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;font-size:16px;color:#343536;white-space:nowrap;padding:1rem;margin-top:.6rem;background-color:#fff;border:1px solid rgb(179,179,180);transition:border-color 0s ease 0s,box-shadow .25s ease-in-out 0s;border-radius:12px}.plan-card-preview-body-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-top:1.5rem}.plan-invest-area[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:100%;height:100vh;background-color:#f2f5f6a4;display:flex;z-index:150;opacity:0;visibility:hidden;transition:all .5s ease-in-out;overflow-y:scroll}.plan-invest-area.show-modal[_ngcontent-%COMP%]{opacity:1;visibility:visible}.plan-invest[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;background-color:var(--white-color);padding:1rem;border-radius:4px;margin:auto;width:50%;box-shadow:var(--box-shadow)}.plan-invest-head[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{text-align:center}.plan-invest-body[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:1rem}.user-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;color:var(--text-color2)}.gen-code[_ngcontent-%COMP%]{background-color:var(--light-green);padding:.2rem;margin-left:.2rem;border:none;outline:none}input.gen-code[_ngcontent-%COMP%]:hover{border:none!important}.plan-invest-body[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto;flex-basis:30%}.plan-invest-body[_ngcontent-%COMP%]   .body-details[_ngcontent-%COMP%]{flex-basis:60%}.body-btns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.body-btns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem;flex-basis:45%}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:140px;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:1;bottom:150%;left:50%;margin-left:-75px;opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}@media only screen and (max-width: 870px){.plan-invest[_ngcontent-%COMP%]{width:90%}.plan-invest-body[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-direction:column}}']}),n})(),TN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:84,vars:0,consts:[[1,"hero","sect"],[1,"container","gb-flex-content"],[1,"hero-details","gb-flex-details"],[1,"gb-flex-details-title"],[1,"paragh"],[1,"btn","prim-btn","dis-flex"],[1,"gb-flex-img"],["poster","https://www.gemini.com/_next/static/images/crypto-on-the-go-cc8d94b5883d386291873b80281e4489.png.webp","playsinline","","autoplay","","muted","","loop","","preload","none"],["src","../../../assets/videos/gemini-phone.mp4","type","video/mp4"],[1,"sect","gb-credit-cards"],[1,"container","gb-flex-content","row-reverse"],[1,"gb-flex-details"],["src","../../../assets/img/svg/check-icon-black.svg","alt",""],[1,"btn","sec-btn","dis-flex"],["poster","../../../assets/img/cards.PNG","autoplay","","muted","","loop","","preload","none"],["src","../../../assets/videos/reveal-trio.mp4","type","video/mp4"],[1,"gb-earn"],["src","../../../assets/img/svg/earn.svg","alt","",1,"earn-icon"],["src","../../../assets/img/gemini-earn-iphone.jpg","alt","image"],[1,"sect","gb-nifty"],["src","../../../assets/img/homepage-nifty-icon.png","alt","image"],[1,"sect","gb-tools"],["src","../../../assets/img/tools.webp","alt","image"],[1,"sect","gb-simple","gb-dark-bg"],[1,"container","gb-flex-details"],[1,"btn","tert-btn"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h1",3),a._uU(4,"Buy bitcoin and crypto instantly!"),a.qZA(),a.TgZ(5,"p",4),a._uU(6," Metrocrypto is a simple, elegant, and secure platform to build your crypto portfolio. "),a.qZA(),a.TgZ(7,"button",5),a._uU(8,"Get Started Now"),a.qZA(),a.qZA(),a.TgZ(9,"div",6),a.TgZ(10,"video",7),a._UZ(11,"source",8),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"section",9),a.TgZ(13,"div",10),a.TgZ(14,"div",11),a.TgZ(15,"h2",3),a._uU(16," Introducing the Metrocrypto Credit Card\u2122 "),a.qZA(),a.TgZ(17,"ul"),a.TgZ(18,"li"),a._UZ(19,"img",12),a.TgZ(20,"p"),a._uU(21,"Up to 3% back on purchases"),a.qZA(),a.qZA(),a.TgZ(22,"li"),a._UZ(23,"img",12),a.TgZ(24,"p"),a._uU(25,"Earn rewards in bitcoin or 50+ other cryptos"),a.qZA(),a.qZA(),a.TgZ(26,"li"),a._UZ(27,"img",12),a.TgZ(28,"p"),a._uU(29,"No annual fee "),a.TgZ(30,"sup"),a._uU(31,"1"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(32,"li"),a.TgZ(33,"small"),a.TgZ(34,"sup"),a._uU(35,"1"),a.qZA(),a._uU(36,"Subject to cardholder and rewards terms which will be available at application."),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"button",13),a._uU(38,"Join the waitlist"),a.qZA(),a.qZA(),a.TgZ(39,"div",6),a.TgZ(40,"video",14),a._UZ(41,"source",15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(42,"section",16),a.TgZ(43,"div",1),a.TgZ(44,"div",11),a._UZ(45,"img",17),a.TgZ(46,"h2",3),a._uU(47,"Earn Up to 8.05% APY"),a.qZA(),a.TgZ(48,"p"),a._uU(49,"More than 100x the average national interest rate"),a.qZA(),a.TgZ(50,"button",13),a._uU(51,"Learn More"),a.qZA(),a.qZA(),a.TgZ(52,"div",6),a._UZ(53,"img",18),a.qZA(),a.qZA(),a.qZA(),a.TgZ(54,"section",19),a.TgZ(55,"div",10),a.TgZ(56,"div",11),a.TgZ(57,"h2",3),a._uU(58,"Buy and sell NFTs on Nifty Gateway"),a.qZA(),a.TgZ(59,"p"),a._uU(60," A non-fungible token (NFT) is digital art on the blockchain\u2014the latest trend in crypto. Nifty Gateway is owned by Metrocrypto, so you can expect the same industry-leading crypto security for your NFTs. "),a.qZA(),a.TgZ(61,"button",13),a._uU(62,"Get Nifty"),a.qZA(),a.qZA(),a.TgZ(63,"div",6),a._UZ(64,"img",20),a.qZA(),a.qZA(),a.qZA(),a.TgZ(65,"section",21),a.TgZ(66,"div",1),a.TgZ(67,"div",11),a.TgZ(68,"h2",3),a._uU(69," Tools for beginners and active traders "),a.qZA(),a.TgZ(70,"p"),a._uU(71," Whether you\u2019re an experienced trader or just getting started, Metrocrypto has all the tools you need to buy, sell, and store your crypto. Maximize your trading strategies with ActiveTrader. "),a.qZA(),a.TgZ(72,"button",13),a._uU(73,"Learn More"),a.qZA(),a.qZA(),a.TgZ(74,"div",6),a._UZ(75,"img",22),a.qZA(),a.qZA(),a.qZA(),a.TgZ(76,"section",23),a.TgZ(77,"div",24),a.TgZ(78,"h2",3),a._uU(79," A simple, secure way to buy and sell cryptocurrency "),a.qZA(),a.TgZ(80,"p"),a._uU(81,"Trade bitcoin and other cryptos in 3 minutes."),a.qZA(),a.TgZ(82,"button",25),a._uU(83,"Get started"),a.qZA(),a.qZA(),a.qZA())},styles:[".gb-flex-img[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:340px;height:auto}.gb-credit-cards[_ngcontent-%COMP%]{background-color:#d6d3d8}sup[_ngcontent-%COMP%]{font-size:52%;top:-.6em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:1rem}.gb-earn[_ngcontent-%COMP%]{padding-top:3rem}.gb-earn[_ngcontent-%COMP%]   .earn-icon[_ngcontent-%COMP%]{margin-bottom:.5rem}.gb-earn[_ngcontent-%COMP%]   .gb-flex-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:340px}.gb-nifty[_ngcontent-%COMP%]{background-image:url(homepage-nifty-background.c411fcbe01bbafb24313.png);background-position:center;background-size:cover;color:var(--white-color)}.gb-nifty[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:var(--white-color);color:var(--white-color)}.gb-nifty[_ngcontent-%COMP%]   .gb-flex-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:211px}"]}),n})(),IN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-institutions"]],decls:114,vars:0,consts:[[1,"sect","institute-hero"],[1,"container"],[1,""],[1,"institute-hero-heading"],[1,"btn","tert-btn"],[1,"sect","institute-services"],[1,"gb-card"],[1,"gb-item"],[1,"gb-item-details"],["src","../../../assets/img/institutionals/assets.svg","alt","image"],[1,"learn-more","clickable"],["src","../../../assets/img/institutionals/corporations.svg","alt","image"],["src","../../../assets/img/institutionals/liquidity.svg","alt","image"],["src","../../../assets/img/institutionals/wealth.svg","alt","image"],[1,"sect","institute-about"],[1,"heading"],[1,"body","gb-flex-content"],[1,"body-col-1"],[1,"body-col-1-item"],[1,"body-col-2"],[1,"body-col-2-item","soc-iso","dis-flex"],["src","../../../assets/img/cryptosecurity-soc-logo.png","alt",""],["src","../../../assets/img/iso-certified.svg","alt",""],[1,"sect","exchange"],[1,"exchange-card"],[1,"exchange-item"],["src","../../../assets/img/institutionals/market-choice.webp","alt",""],["src","../../../assets/img/institutionals/crypto-compare.webp","alt",""],["src","../../../assets/img/institutionals/crypto-am.svg","alt",""]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"p",2),a._uU(4,"Institutional solutions"),a.qZA(),a.TgZ(5,"h1",3),a._uU(6," Metrocrypto is the leading crypto-native platform serving "),a.TgZ(7,"i"),a._uU(8,"assest manager"),a.qZA(),a.qZA(),a.TgZ(9,"button",4),a._uU(10,"Open an institutional account"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"section",5),a.TgZ(12,"div",1),a.TgZ(13,"div",6),a.TgZ(14,"div",7),a.TgZ(15,"div",8),a.TgZ(16,"picture",2),a._UZ(17,"img",9),a.qZA(),a.TgZ(18,"div",2),a.TgZ(19,"h5",2),a._uU(20,"Asset managers"),a.qZA(),a.TgZ(21,"p"),a._uU(22," Metrocrypto Fund Solutions is a full-stack platform built to provide fund managers with crypto custody, clearing, and trade execution services all in one place. "),a.qZA(),a.TgZ(23,"span",10),a._uU(24,"Learn more"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"div",7),a.TgZ(26,"div",8),a.TgZ(27,"picture",2),a._UZ(28,"img",11),a.qZA(),a.TgZ(29,"div",2),a.TgZ(30,"h5",2),a._uU(31,"Corporations"),a.qZA(),a.TgZ(32,"p"),a._uU(33," Metrocrypto\u2019s platform is designed to help public and private companies buy and hold crypto and incorporate it into their businesses. "),a.qZA(),a.TgZ(34,"span",10),a._uU(35,"Learn more"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(36,"div",7),a.TgZ(37,"div",8),a.TgZ(38,"picture",2),a._UZ(39,"img",12),a.qZA(),a.TgZ(40,"div",2),a.TgZ(41,"h5",2),a._uU(42,"Liquidity providers"),a.qZA(),a.TgZ(43,"p"),a._uU(44," Advanced tools for trading crypto and price discovery built on institutional-grade infrastructure that is reliable and secure. "),a.qZA(),a.TgZ(45,"span",10),a._uU(46,"Learn more"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(47,"div",7),a.TgZ(48,"div",8),a.TgZ(49,"picture",2),a._UZ(50,"img",13),a.qZA(),a.TgZ(51,"div",2),a.TgZ(52,"h5",2),a._uU(53,"Wealth managers"),a.qZA(),a.TgZ(54,"p"),a._uU(55," Metrocrypto's wealth management solution allows investment managers to incorporate crypto into their client portfolio allocation. "),a.qZA(),a.TgZ(56,"span",10),a._uU(57,"Learn more"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(58,"section",14),a.TgZ(59,"div",1),a.TgZ(60,"div",15),a.TgZ(61,"h2"),a._uU(62,"About Metrocrypto"),a.qZA(),a.TgZ(63,"p"),a._uU(64," Metrocrypto is a regulated, crypto-native exchange and custodian, offering a full spectrum of turn-key cryptocurrency products and services. Metrocrypto Trust Company, LLC is a New York trust company that is a fiduciary and subject to the capital reserve requirements, cybersecurity requirements, and banking compliance standards set forth by the New York State Department of Financial Services (NYDFS) and the New York Banking Law. "),a.qZA(),a.TgZ(65,"p"),a._uU(66," Metrocrypto is the only crypto platform in the world to have completed SOC 1 Type 2 and SOC 2 Type 2 examinations for both our exchange and custody products. These examinations were performed by Deloitte & Touche LLP. Discover how Metrocrypto can meet your needs. For more information please contact: sales@metrocryptoexchange.com. "),a.qZA(),a.qZA(),a.TgZ(67,"div",16),a.TgZ(68,"div",17),a.TgZ(69,"div",18),a.TgZ(70,"h5",2),a._uU(71,"Best-in-class trading"),a.qZA(),a.TgZ(72,"p"),a._uU(73," Metrocrypto\u2019s exchange services provide best-in-class trading technology for both institutional and individual investors. "),a.qZA(),a.qZA(),a.TgZ(74,"div",18),a.TgZ(75,"h5",2),a._uU(76,"Leading insurance coverage"),a.qZA(),a.TgZ(77,"p"),a._uU(78," Metrocrypto maintains $290M in digital asset insurance in addition to the capital reserve requirements set forth by NYDFS. "),a.qZA(),a.qZA(),a.TgZ(79,"div",18),a.TgZ(80,"h5",2),a._uU(81,"Unrivaled knowledge and client service"),a.qZA(),a.TgZ(82,"p"),a._uU(83," The Metrocrypto team has deep expertise in crypto, traditional capital markets, security, and technology, which allows us to partner with institutional clients and deliver solutions that meet their unique requirements and objectives. "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(84,"div",19),a.TgZ(85,"div",20),a._UZ(86,"img",21),a.TgZ(87,"p"),a._uU(88," SOC 1 Type 2 and SOC 2 Type 2 certification performed by Deloitte & Touche LLP "),a.qZA(),a.qZA(),a.TgZ(89,"div",20),a._UZ(90,"img",22),a.TgZ(91,"p"),a._uU(92," ISO/IEC 27001 Information Security Management System (ISMS) by Coalfire "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(93,"section",23),a.TgZ(94,"div",1),a.TgZ(95,"div",24),a.TgZ(96,"div",25),a._UZ(97,"img",26),a.TgZ(98,"p"),a._uU(99,"2019 Markets Choice Awards"),a.qZA(),a.TgZ(100,"h5"),a._uU(101,"Best Cryptocurrency Exchange"),a.qZA(),a.qZA(),a.TgZ(102,"div",25),a._UZ(103,"img",27),a.TgZ(104,"p"),a._uU(105,"2020 CryptoCompare Exchange"),a.qZA(),a.TgZ(106,"h5"),a._uU(107,"#1 Cryptocurrency Exchange"),a.qZA(),a.qZA(),a.TgZ(108,"div",25),a._UZ(109,"img",28),a.TgZ(110,"p"),a._uU(111,"2020 Crypto AM Awards"),a.qZA(),a.TgZ(112,"h5"),a._uU(113,"Best Custody Exchange"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".institute-hero[_ngcontent-%COMP%]{background-image:url(background-dark-blue-031a8760b65885af91bceca4652277a6.1ba3d03c3bf204194749.png);background-position:center;background-size:cover;color:var(--white-color);padding:7% 0}.institute-hero-heading[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:clamp(1.5rem,-.4026rem + 6.2338vw,3rem)}.institute-hero-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-decoration:underline}.institute-services[_ngcontent-%COMP%]   .gb-card[_ngcontent-%COMP%]{display:grid;grid-gap:2rem}@media only screen and (min-width: 450px){.institute-services[_ngcontent-%COMP%]   .gb-card[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}}.institute-services[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%]{background:rgb(255,255,255);width:100%;border-radius:8px;padding:34px;cursor:pointer;box-shadow:#1a1a1a14 0 0 28px}.institute-services[_ngcontent-%COMP%]   .gb-item-details[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.institute-services[_ngcontent-%COMP%]   .gb-item-details[_ngcontent-%COMP%]   picture[_ngcontent-%COMP%]{margin-right:1rem}.institute-services[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.institute-services[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem}.institute-services[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%]   .learn-more[_ngcontent-%COMP%]{text-decoration:underline;display:block;margin-top:.3rem}.institute-about[_ngcontent-%COMP%]{background-image:url(background-light-blue-eb5ed8df8c8908301451b49e1d30a659.5dd793c00f76ff6d4afd.png);background-position:center;background-size:cover}.institute-about[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.institute-about[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}.institute-about[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{margin-top:4rem}.institute-about[_ngcontent-%COMP%]   .body-col-1[_ngcontent-%COMP%], .institute-about[_ngcontent-%COMP%]   .body-col-2[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;flex-basis:45%}.institute-about[_ngcontent-%COMP%]   .body-col-1-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem}.institute-about[_ngcontent-%COMP%]   .body-col-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:2rem}@media only screen and (max-width: 960px){.institute-about[_ngcontent-%COMP%]   .gb-flex-content[_ngcontent-%COMP%]{display:grid;grid-gap:2rem}}.exchange-card[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;text-align:center}@media only screen and (min-width: 450px){.exchange-card[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}.exchange-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:140px}.exchange-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2rem}"]}),n})(),AN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-price"]],decls:38,vars:0,consts:[[1,"sect","prices"],[1,"container"],[1,"header"],[1,"body"],[1,"table"],[1,"table-head","table-row"],[1,"table-head-item","item"],[1,"table-body"],[1,"table-list","table-row"],[1,"table-list-item","item","name","dis-flex"],["src","../../../assets/img/svg/btc.svg","alt",""],[1,"uc"],[1,"table-list-item","item"],[1,"table-list-item","item","image"],[1,"table-list-item","item","action"],[1,"btn","prim-btn"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h1"),a._uU(4,"Cryptocurrency Prices"),a.qZA(),a.TgZ(5,"p"),a._uU(6,"We're having trouble loading price data, please check back later."),a.qZA(),a.qZA(),a.TgZ(7,"div",3),a.TgZ(8,"div",4),a.TgZ(9,"div",5),a.TgZ(10,"span",6),a._uU(11,"Name"),a.qZA(),a.TgZ(12,"span",6),a._uU(13,"Price"),a.qZA(),a.TgZ(14,"span",6),a._uU(15,"24hr change"),a.qZA(),a.TgZ(16,"span",6),a._uU(17,"%change"),a.qZA(),a.TgZ(18,"span",6),a._uU(19,"Market cap"),a.qZA(),a.qZA(),a.TgZ(20,"div",7),a.TgZ(21,"div",8),a.TgZ(22,"span",9),a._UZ(23,"img",10),a.TgZ(24,"span"),a.TgZ(25,"h4"),a._uU(26,"Bitcoin"),a.qZA(),a.TgZ(27,"p",11),a._uU(28,"Btcusd"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"span",12),a._uU(30," Price "),a.qZA(),a.TgZ(31,"span",13),a._uU(32,"Yes"),a.qZA(),a.TgZ(33,"span",14),a._uU(34," Yes "),a.qZA(),a.TgZ(35,"span",14),a.TgZ(36,"button",15),a._uU(37,"Buy"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".prices[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:2rem}.table[_ngcontent-%COMP%]{width:100%;margin-top:2rem}@media only screen and (max-width: 977px){.table[_ngcontent-%COMP%]{width:200%}.body[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}}.table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;align-items:flex-start;border-bottom:2px solid var(--grey-color)}.table[_ngcontent-%COMP%]   .table-head[_ngcontent-%COMP%]{padding:1.5rem 0}.table[_ngcontent-%COMP%]   .table-list[_ngcontent-%COMP%]{padding:1.5rem 0}.table-head[_ngcontent-%COMP%]   .table-head-item[_ngcontent-%COMP%]{color:var(--grey-color);font-size:16px;font-weight:500;text-transform:capitalize;line-height:21px}.table-body[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem}.table-list[_ngcontent-%COMP%]{background-color:var(--white-color);border-radius:var(--border-radius)}.table-list[_ngcontent-%COMP%]   .table-list-item[_ngcontent-%COMP%]{font-weight:600;line-height:24px}.table-list[_ngcontent-%COMP%]   .table-list-item.name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:1rem}.table-list[_ngcontent-%COMP%]   .table-list-item.name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}.item[_ngcontent-%COMP%]:nth-child(1){grid-column:1 / 2}.item[_ngcontent-%COMP%]:nth-child(2){grid-column:2 / 4}.item[_ngcontent-%COMP%]:nth-child(3){grid-column:4 / 5}.item[_ngcontent-%COMP%]:nth-child(4){grid-column:5 / 6}.item[_ngcontent-%COMP%]:nth-child(5){grid-column:6 / 7}"]}),n})();function DN(n,e){1&n&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"h3"),a._uU(3,"Account security"),a.qZA(),a.TgZ(4,"p",13),a._uU(5," We build innovative security solutions to better protect our users and their accounts. "),a.qZA(),a.qZA(),a.TgZ(6,"ul",35),a.TgZ(7,"li"),a.TgZ(8,"p"),a._uU(9," Two-Factor Authentication (2FA) is required by default, in order to access your account and make withdrawals. "),a.qZA(),a.qZA(),a.TgZ(10,"li"),a.TgZ(11,"p"),a._uU(12," Support for hardware security keys, like Yubikey, allows for a more secure 2FA experience for account access. "),a.qZA(),a.qZA(),a.TgZ(13,"li"),a.TgZ(14,"p"),a._uU(15," Address whitelisting allows users to restrict cryptocurrency withdrawals to whitelisted cryptocurrency addresses. "),a.qZA(),a.qZA(),a.qZA(),a.qZA())}function SN(n,e){1&n&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"h3"),a._uU(3,"Internal Controls"),a.qZA(),a.TgZ(4,"p",13),a._uU(5," Metrocrypto has implemented leading security controls designed to mitigate the risk of insider threats. "),a.qZA(),a.qZA(),a.TgZ(6,"ul",35),a.TgZ(7,"li"),a.TgZ(8,"p"),a._uU(9," Multiple signatories are required to transfer cryptocurrency out of our Cold Storage System and perform other sensitive functions. "),a.qZA(),a.qZA(),a.TgZ(10,"li"),a.TgZ(11,"p"),a._uU(12," Metrocrypto offices do not contain any private keys. All private keys are stored offsite at high-security data centers. "),a.qZA(),a.qZA(),a.TgZ(13,"li"),a.TgZ(14,"p"),a._uU(15," All employees undergo rigorous background checks and are subject to ongoing screening throughout their employment. "),a.qZA(),a.qZA(),a.TgZ(16,"li"),a.TgZ(17,"p"),a._uU(18," Access to production systems requires use of hardware security keys, which are not susceptible to phishing attacks. "),a.qZA(),a.qZA(),a.TgZ(19,"li"),a.TgZ(20,"p"),a._uU(21," Our CEO (Tyler Winklevoss) and President (Cameron Winklevoss) are unable to individually or jointly transfer cryptocurrency out of our Online \u201cHot\u201d or Offline \u201cCold\u201d Storage. "),a.qZA(),a.qZA(),a.qZA(),a.qZA())}function MN(n,e){1&n&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"h3"),a._uU(3,"Asset Security"),a.qZA(),a.TgZ(4,"p",13),a._uU(5," Metrocrypto is passionate about building the most secure infrastructure to protect and manage sensitive key material. "),a.qZA(),a.qZA(),a.TgZ(6,"ul",35),a.TgZ(7,"li"),a.TgZ(8,"p"),a._uU(9," The hardware security modules (HSMs) we rely upon have achieved a FIPS 140-2 Level 3 rating or higher. "),a.qZA(),a.qZA(),a.TgZ(10,"li"),a.TgZ(11,"p"),a._uU(12," The multisignature digital signature scheme (multisig) used eliminates single points of failure and improves our resilience against the loss or compromise of any individual private key. "),a.qZA(),a.qZA(),a.TgZ(13,"li"),a.TgZ(14,"p"),a._uU(15," All HSMs are geographically distributed at secure data centers and require coordinated action of multiple employees to operate. "),a.qZA(),a.qZA(),a.qZA(),a.qZA())}function xN(n,e){1&n&&(a.TgZ(0,"div",33),a.TgZ(1,"div",34),a.TgZ(2,"h3"),a._uU(3,"Compliance and Certifications"),a.qZA(),a.TgZ(4,"p",13),a._uU(5," Trust requires transparency, which is why Metrocrypto has embraced regulations and third party assessments that demonstrate our commitment to a safe and secure experience. "),a.qZA(),a.qZA(),a.TgZ(6,"ul",35),a.TgZ(7,"li"),a.TgZ(8,"p"),a._uU(9," Metrocrypto was the first cryptocurrency exchange and custodian to complete a SOC 1 Type 2 exam, SOC 2 Type 2 exam, and earn an ISO 27001 certification. "),a.qZA(),a.qZA(),a.TgZ(10,"li"),a.TgZ(11,"p"),a._uU(12," We maintain compliance with PCI DSS to protect debit / credit card data. "),a.qZA(),a.qZA(),a.TgZ(13,"li"),a.TgZ(14,"p"),a._uU(15," Metrocrypto is subject to security requirements of our global regulators. This includes, but is not limited to, the NY Department of Financial Services (NYDFS), Monetary Authority of Singapore (MAS), and UK Financial Conduct Authority (FCA). "),a.qZA(),a.qZA(),a.TgZ(16,"li"),a.TgZ(17,"p"),a._uU(18," Metrocrypto hires independent third parties to perform penetration tests - at least annually - in order to proactively identify and resolve security vulnerabilities. "),a.qZA(),a.qZA(),a.qZA(),a.qZA())}let ON=(()=>{class n{constructor(){this.account=!0,this.controls=!1,this.assets=!1,this.compliance=!1}ngOnInit(){}showAccount(){this.account=!0,this.controls=!1,this.assets=!1,this.compliance=!1}showControls(){this.account=!1,this.controls=!0,this.assets=!1,this.compliance=!1}showAssets(){this.account=!1,this.controls=!1,this.assets=!0,this.compliance=!1}showCompliance(){this.account=!1,this.controls=!1,this.assets=!1,this.compliance=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-security"]],decls:96,vars:12,consts:[[1,"sect","security-trust"],[1,"container"],[1,"uc"],[1,"soc-iso"],["src","../../../assets/img/cryptosecurity-soc-logo.png","alt",""],["src","../../../assets/img/iso-certified-white.webp","alt",""],[1,"sect","security-contact"],[1,"sect-heading"],[1,"gb-card"],[1,"gb-item"],[1,"gb-item-details"],[1,""],["src","../../../assets/img/security.svg","alt","image"],[1,"details-p"],[1,"learn-more","clickable"],["src","../../../assets/img/coordinated.svg","alt","image"],[1,"security-valid-coms","gb-card"],[1,"link-list"],[1,"link-item","correct","dis-flex"],["src","../../../assets/img/correct.webp","alt",""],[1,"link-item","wrong","dis-flex"],["src","../../../assets/img/wrong.webp","alt",""],[1,"sect","security-controls"],[1,"sect-heading","container"],[1,"security-controls-body"],[1,"tab-buttons"],[1,"dis-flex"],[1,"btn",3,"click"],["class","tab-content container gb-flex-content",4,"ngIf"],[1,"sect","gb-simple","gb-dark-bg"],[1,"container","gb-flex-details"],[1,"gb-flex-details-title"],[1,"btn","tert-btn"],[1,"tab-content","container","gb-flex-content"],[1,"tab-content-heading"],[1,"tab-content-list"]],template:function(t,r){1&t&&(a.TgZ(0,"section",0),a.TgZ(1,"div",1),a.TgZ(2,"p",2),a._uU(3,"Security"),a.qZA(),a.TgZ(4,"h1"),a._uU(5,"Trust is our product."),a.qZA(),a.TgZ(6,"p"),a._uU(7," Our founders, Cameron and Tyler Winklevoss, were early investors in cryptocurrency and struggled to find a platform where they could securely manage their growing portfolio. Out of that frustration and lack of trust, they built Metrocrypto to deliver the first trusted platform that focused on strong security controls and compliance. "),a.qZA(),a.TgZ(8,"p"),a._uU(9," Today, every employee at Metrocrypto continues our founders\u2019 focus on security and compliance, in order to build trust. Metrocrypto has built a leading security program focused on developing innovative security solutions to help protect and secure our customers and their assets. We have also invested considerable resources to remain transparent about our security posture, through third party security assessments, including our SOC2 Type 2, ISO 27001, and annual penetration testing. "),a.qZA(),a.TgZ(10,"div",3),a._UZ(11,"img",4),a._UZ(12,"img",5),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"section",6),a.TgZ(14,"div",1),a.TgZ(15,"div",7),a.TgZ(16,"h2"),a._uU(17,"Contacting the Security Team"),a.qZA(),a.qZA(),a.TgZ(18,"div",8),a.TgZ(19,"div",9),a.TgZ(20,"div",10),a.TgZ(21,"picture",11),a._UZ(22,"img",12),a.qZA(),a.TgZ(23,"div",11),a.TgZ(24,"h3",11),a._uU(25,"Reporting Fraud or Abuse"),a.qZA(),a.TgZ(26,"p",13),a._uU(27," We\u2019ve built a rules-based marketplace with security at its core, so that our customers can focus on building their crypto portfolio. Our team is ready to help should you encounter fraud or abuse. We recommend you take a moment to visit our Trust and Safety page, which contains materials to help users avoid fraud and spot scams. "),a.qZA(),a.TgZ(28,"span",14),a._uU(29,"Report Fraud or Scams"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(30,"div",9),a.TgZ(31,"div",10),a.TgZ(32,"picture",11),a._UZ(33,"img",15),a.qZA(),a.TgZ(34,"div",11),a.TgZ(35,"h3",11),a._uU(36,"Coordinated Disclosure Program"),a.qZA(),a.TgZ(37,"p",13),a._uU(38," We welcome contributions from security researchers to help us build and secure the future of money. To submit a security vulnerability to Metrocrypto, or to learn more about our coordinated disclosure program, please visit our HackerOne page. Impactful vulnerability submissions will be considered for inclusion in Metrocrypto\u2019s private bug bounty program. "),a.qZA(),a.TgZ(39,"span",14),a._uU(40,"Disclose a Security Vulnerability"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(41,"div",16),a.TgZ(42,"div",11),a.TgZ(43,"h3",11),a._uU(44,"Valid Metrocrypto Communications"),a.qZA(),a.TgZ(45,"p",13),a._uU(46," Metrocrypto does not offer phone support. All support is provided via email. You will only be contacted via a valid Metrocrypto email. Emails from Metrocrypto will always end with the .metrocryptoexchange.com domain name. For example, emails from support@metrocryptoexchange.com or from the sub-domain hello@news.metrocryptoexchange.com are valid Metrocrypto email addresses, because they end with .metrocryptoexchange.com. "),a.qZA(),a.qZA(),a.TgZ(47,"ul",17),a.TgZ(48,"li",18),a._UZ(49,"img",19),a.TgZ(50,"p"),a._uU(51,"xxxxxx@"),a.TgZ(52,"span"),a._uU(53,"metrocryptoexchange.com"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(54,"li",18),a._UZ(55,"img",19),a.TgZ(56,"p"),a._uU(57,"xxxxxx@news."),a.TgZ(58,"span"),a._uU(59,"metrocryptoexchange.com"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(60,"li",20),a._UZ(61,"img",21),a.TgZ(62,"p"),a._uU(63,"xxxxxx@metrocryptoexchange"),a.TgZ(64,"span"),a._uU(65,"gem.com"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(66,"section",22),a.TgZ(67,"div",11),a.TgZ(68,"div",23),a.TgZ(69,"h2"),a._uU(70,"Industry Leading Security Controls"),a.qZA(),a.TgZ(71,"p"),a._uU(72," Trust is our product, which begins by building and maintaining a secure customer experience. The following provides information about the leading security controls we\u2019ve implemented to secure customer accounts and assets, and mitigate the risk of insider threats. "),a.qZA(),a.qZA(),a.TgZ(73,"div",24),a.TgZ(74,"div",25),a.TgZ(75,"div",26),a.TgZ(76,"button",27),a.NdJ("click",function(){return r.showAccount()}),a._uU(77," Account "),a.qZA(),a.TgZ(78,"button",27),a.NdJ("click",function(){return r.showControls()}),a._uU(79," Controls "),a.qZA(),a.TgZ(80,"button",27),a.NdJ("click",function(){return r.showAssets()}),a._uU(81," Assets "),a.qZA(),a.TgZ(82,"button",27),a.NdJ("click",function(){return r.showCompliance()}),a._uU(83," Compliance "),a.qZA(),a.qZA(),a.qZA(),a.YNc(84,DN,16,0,"div",28),a.YNc(85,SN,22,0,"div",28),a.YNc(86,MN,16,0,"div",28),a.YNc(87,xN,19,0,"div",28),a.qZA(),a.qZA(),a.qZA(),a.TgZ(88,"section",29),a.TgZ(89,"div",30),a.TgZ(90,"h2",31),a._uU(91," The most trusted crypto-native finance platform "),a.qZA(),a.TgZ(92,"p"),a._uU(93,"Create a free Metrocrypto account in minutes"),a.qZA(),a.TgZ(94,"button",32),a._uU(95,"Get started"),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(76),a.ekj("active",r.account),a.xp6(2),a.ekj("active",r.controls),a.xp6(2),a.ekj("active",r.assets),a.xp6(2),a.ekj("active",r.compliance),a.xp6(2),a.Q6J("ngIf",r.account),a.xp6(1),a.Q6J("ngIf",r.controls),a.xp6(1),a.Q6J("ngIf",r.assets),a.xp6(1),a.Q6J("ngIf",r.compliance))},directives:[$r],styles:[".sect-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.sect-heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem}.details-p[_ngcontent-%COMP%]{margin-top:1rem}.security-trust[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:2rem 0}.security-trust[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.security-trust[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--white-color);text-align:center}.security-trust[_ngcontent-%COMP%]   .soc-iso[_ngcontent-%COMP%]{margin-top:2rem}.security-trust[_ngcontent-%COMP%]   .soc-iso[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(:last-child){margin-right:3rem}.security-contact[_ngcontent-%COMP%]   .gb-card[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;align-items:center}@media only screen and (min-width: 450px){.security-contact[_ngcontent-%COMP%]   .gb-card[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}}.security-contact[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%], .security-valid-coms[_ngcontent-%COMP%]{background:var(--grey-color1);width:100%;border-radius:8px;padding:34px}.security-contact[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:42px;height:42px;margin-bottom:1.5rem}.security-contact[_ngcontent-%COMP%]   .gb-item[_ngcontent-%COMP%]   .learn-more[_ngcontent-%COMP%]{text-decoration:underline;display:block;margin-top:.3rem}.security-valid-coms[_ngcontent-%COMP%]{margin-top:3rem}.link-list[_ngcontent-%COMP%]{display:grid;grid-gap:1rem}.link-item[_ngcontent-%COMP%]{padding:.5rem;border-radius:999px}.link-item.correct[_ngcontent-%COMP%]{background-color:#cfedd9}.link-item.wrong[_ngcontent-%COMP%]{background-color:#fedada}.link-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:31px;margin-right:1rem}.link-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500}.link-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}.security-controls[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]{padding:1rem 5%;border-top:1px solid rgb(230,230,230);border-bottom:1px solid rgb(230,230,230)}@media only screen and (min-width: 670px){.security-controls[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   .dis-flex[_ngcontent-%COMP%]{justify-content:center}}@media only screen and (max-width: 977px){.security-controls[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}}.security-controls[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0 1rem}.security-controls[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--white-color)}.tab-content[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem;align-items:flex-start}.tab-content-heading[_ngcontent-%COMP%]{flex-basis:30%}.tab-content-list[_ngcontent-%COMP%]{flex-basis:55%}.tab-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.tab-content[_ngcontent-%COMP%]   .tab-content-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:disc}.tab-content[_ngcontent-%COMP%]   .tab-content-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}"]}),n})();function PN(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function NN(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Sign in"),a.qZA())}let RN=(()=>{class n{constructor(t,r,u,d){this.firebaseService=t,this.formBuilder=r,this.route=u,this.router=d,this.hide=!0,this.loading=!1,this.returnUrl="",this.isSignedin=!1,this.errorMessage="",this.showError=!1,this.signinForm=this.formBuilder.group({email:["",{validators:[W.required,W.email],updateOn:"change"}],password:["",{validators:[W.required],updateOn:"change"}]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl,this.isSignedin=null!==localStorage.getItem("id")}signin(){var t=this;return(0,pe.Z)(function*(){t.loading=!0;let r={emailAddress:t.signinForm.value.email,password:t.signinForm.value.password};yield t.firebaseService.signinUser(r).then(u=>{console.log(u),t.router.navigate(["dashboard"])}).catch(u=>{t.errorMessage=u,t.showError=!0,t.loading=!1,console.log(t.errorMessage)}),!0===t.firebaseService.isLogggedIn&&(t.isSignedin=!0)})()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xA),a.Y36(qA),a.Y36(Da),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-signin"]],decls:29,vars:8,consts:[[1,"auth-container"],[1,"auth-form-area"],[1,"logo"],["src","../../../assets/img/favicon.ico","alt","","routerLink","/",1,"clickable"],[1,"auth-form-area-title"],[3,"formGroup","ngSubmit"],[1,"form-field"],["for","email"],[1,"input-field"],["type","email","autocomplete","email","formControlName","email"],["for","password"],[1,"input-field","dis-flex"],["formControlName","password",3,"type"],[1,"clickable",3,"src","click"],[1,"error-message","rc"],[1,"form-footer","dis-flex"],[1,"btn","prim-btn"],[4,"ngIf"],[1,"form-footer-extra"],["routerLink","/auth/signup",1,"clickable"],[1,"clickable"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"span",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"h2",4),a._uU(5,"Sign in to Metrocrypto"),a.qZA(),a.TgZ(6,"form",5),a.NdJ("ngSubmit",function(){return r.signin()}),a.TgZ(7,"div",6),a.TgZ(8,"label",7),a._uU(9,"Email Address"),a.qZA(),a.TgZ(10,"div",8),a._UZ(11,"input",9),a.qZA(),a.qZA(),a.TgZ(12,"div",6),a.TgZ(13,"label",10),a._uU(14,"Password"),a.qZA(),a.TgZ(15,"div",11),a._UZ(16,"input",12),a.TgZ(17,"img",13),a.NdJ("click",function(){return r.hide=!r.hide}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"span",14),a._uU(19),a.qZA(),a.TgZ(20,"div",15),a.TgZ(21,"button",16),a.YNc(22,PN,2,0,"span",17),a.YNc(23,NN,2,0,"span",17),a.qZA(),a.TgZ(24,"div",18),a.TgZ(25,"p",19),a._uU(26,"Create new account"),a.qZA(),a.TgZ(27,"p",20),a._uU(28,"Rest your password"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(6),a.Q6J("formGroup",r.signinForm),a.xp6(10),a.Q6J("type",r.hide?"password":"text"),a.xp6(1),a.Q6J("src",r.hide?"../../../assets/img/svg/bx-show.svg":"../../assets/img/svg/bx-hide.svg",a.LSH),a.xp6(1),a.ekj("show",r.showError),a.xp6(1),a.Oqu(r.errorMessage),a.xp6(3),a.Q6J("ngIf",r.loading),a.xp6(1),a.Q6J("ngIf",!r.loading))},directives:[Eu,wm,Cm,Em,S,ov,cv,$r],styles:[".auth-container[_ngcontent-%COMP%]{background-color:var(--grey-color1);width:100%;min-height:100vh;display:flex}.auth-form-area[_ngcontent-%COMP%]{width:600px;margin:0 auto;background-color:var(--white-color);padding:6%}.auth-form-area-title[_ngcontent-%COMP%]{margin-bottom:2rem}form[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem}.auth-form-area[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:grid;place-items:center;margin-bottom:1rem}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:100%;justify-content:space-between;font-size:16px;color:#343536;white-space:nowrap;padding:1rem;margin-top:.6rem;background-color:#fff;border:1px solid rgb(179,179,180);transition:border-color 0s ease 0s,box-shadow .25s ease-in-out 0s;border-radius:12px}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:hover, .auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:active{border-color:#1a1c1d;box-shadow:#1a1c1d 0 0 0 1px}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:none;outline:none;font-size:16px}.auth-form-area[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{justify-content:space-between}.auth-form-area[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline}.error-message[_ngcontent-%COMP%]{display:none}.error-message.show[_ngcontent-%COMP%]{display:block}"]}),n})();function kN(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"span",2),a._UZ(2,"img",10),a.qZA(),a.TgZ(3,"h2",11),a._uU(4,"Create an account"),a.qZA(),a.TgZ(5,"small"),a._uU(6,"Please enter your name as it appears on official documents."),a.qZA(),a.TgZ(7,"div",12),a.TgZ(8,"div",13),a.TgZ(9,"div",14),a.TgZ(10,"label",15),a._uU(11,"First name"),a.qZA(),a.TgZ(12,"div",16),a._UZ(13,"input",17),a.qZA(),a.qZA(),a.TgZ(14,"div",14),a.TgZ(15,"label",18),a._uU(16,"Middle name"),a.qZA(),a.TgZ(17,"div",16),a._UZ(18,"input",19),a.qZA(),a.qZA(),a.TgZ(19,"div",14),a.TgZ(20,"label",20),a._uU(21,"Last name"),a.qZA(),a.TgZ(22,"div",16),a._UZ(23,"input",21),a.qZA(),a.qZA(),a.TgZ(24,"div",14),a.TgZ(25,"label",22),a._uU(26,"Phone number"),a.qZA(),a.TgZ(27,"div",16),a._UZ(28,"input",23),a.qZA(),a.qZA(),a.TgZ(29,"div",24),a.TgZ(30,"label",25),a._uU(31,"Email Address"),a.qZA(),a.TgZ(32,"div",16),a._UZ(33,"input",26),a.qZA(),a.qZA(),a.TgZ(34,"div",24),a.TgZ(35,"label",27),a._uU(36,"Password"),a.qZA(),a.TgZ(37,"div",28),a._UZ(38,"input",29),a.TgZ(39,"img",30),a.NdJ("click",function(){a.CHM(t);const u=a.oxw();return u.hide=!u.hide}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(40,"div",31),a.TgZ(41,"button",32),a.NdJ("click",function(){return a.CHM(t),a.oxw().showForm("form2")}),a.TgZ(42,"span"),a._uU(43,"Next"),a.qZA(),a.qZA(),a.TgZ(44,"div",33),a.TgZ(45,"p",34),a._uU(46,"Account sign in"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=a.oxw();a.xp6(38),a.Q6J("type",t.hide?"password":"text"),a.xp6(1),a.Q6J("src",t.hide?"../../../assets/img/svg/bx-show.svg":"../../../assets/img/svg/bx-hide.svg",a.LSH)}}function FN(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"span",2),a._UZ(2,"img",10),a.qZA(),a.TgZ(3,"h2",11),a._uU(4,"Enter your address"),a.qZA(),a.TgZ(5,"small"),a._uU(6,"Please enter your primary address. This is required to verify your identity."),a.qZA(),a.TgZ(7,"div",12),a.TgZ(8,"div",13),a.TgZ(9,"div",14),a.TgZ(10,"label",35),a._uU(11,"Address"),a.qZA(),a.TgZ(12,"div",16),a._UZ(13,"input",36),a.qZA(),a.qZA(),a.TgZ(14,"div",14),a.TgZ(15,"label",18),a._uU(16,"City/Town/Subdivision"),a.qZA(),a.TgZ(17,"div",16),a._UZ(18,"input",37),a.qZA(),a.qZA(),a.TgZ(19,"div",14),a.TgZ(20,"label",38),a._uU(21,"State"),a.qZA(),a.TgZ(22,"div",16),a._UZ(23,"input",39),a.qZA(),a.qZA(),a.TgZ(24,"div",14),a.TgZ(25,"label",40),a._uU(26,"ZIP code"),a.qZA(),a.TgZ(27,"div",16),a._UZ(28,"input",41),a.qZA(),a.qZA(),a.qZA(),a.TgZ(29,"div",31),a.TgZ(30,"span",42),a.NdJ("click",function(){return a.CHM(t),a.oxw().showForm("form3")}),a._uU(31," Next "),a.qZA(),a.TgZ(32,"div",33),a.TgZ(33,"p",43),a._uU(34,"Account sign in"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}}function LN(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Loading..."),a.qZA())}function VN(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Submit"),a.qZA())}function UN(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"span",2),a._UZ(2,"img",10),a.qZA(),a.TgZ(3,"h2",11),a._uU(4,"Confirm your identity"),a.qZA(),a.TgZ(5,"small"),a._uU(6,"Financial regulations require us to collect this information."),a.qZA(),a.TgZ(7,"div",12),a.TgZ(8,"div",13),a.TgZ(9,"div",24),a.TgZ(10,"label",44),a._uU(11,"Social Security Number (SSN)"),a.qZA(),a.TgZ(12,"div",28),a._UZ(13,"input",45),a.TgZ(14,"img",30),a.NdJ("click",function(){a.CHM(t);const u=a.oxw();return u.hide=!u.hide}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"div",24),a.TgZ(16,"label",46),a._uU(17,"Date of birth"),a.qZA(),a.TgZ(18,"div",16),a._UZ(19,"input",47),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"div",31),a.TgZ(21,"button",48),a.YNc(22,LN,2,0,"span",9),a.YNc(23,VN,2,0,"span",9),a.qZA(),a.TgZ(24,"div",33),a.TgZ(25,"p",43),a._uU(26,"Account sign in"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=a.oxw();a.xp6(13),a.Q6J("type",t.hide?"password":"text"),a.xp6(1),a.Q6J("src",t.hide?"../../../assets/img/svg/bx-show.svg":"../../assets/img/svg/bx-hide.svg",a.LSH),a.xp6(8),a.Q6J("ngIf",t.loading),a.xp6(1),a.Q6J("ngIf",!t.loading)}}let ZN=(()=>{class n{constructor(t,r,u,d){this.firebaseService=t,this.formBuilder=r,this.route=u,this.router=d,this.hide=!0,this.loading=!1,this.returnUrl="",this.error="",this.isSignedin=!1,this.errorMessage="",this.id="form1",this.currentBal=Math.floor(1501*Math.random())+1e3,this.signupForm=this.formBuilder.group({firstName:["",{validators:[W.required],updateOn:"change"}],middleName:["",{validators:[W.required],updateOn:"change"}],lastName:["",{validators:[W.required],updateOn:"change"}],phoneNumber:["",{validators:[W.required],updateOn:"change"}],email:["",{validators:[W.required,W.email],updateOn:"change"}],password:["",{validators:[W.required],updateOn:"change"}],address:["",{validators:[W.required],updateOn:"change"}],city:["",{validators:[W.required],updateOn:"change"}],state:["",{validators:[W.required],updateOn:"change"}],zipCode:["",{validators:[W.required],updateOn:"change"}],ssn:["",{validators:[W.required],updateOn:"change"}],dob:["",{validators:[W.required],updateOn:"change"}]})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl,this.isSignedin=null!==localStorage.getItem("id")}signup(){var t=this;return(0,pe.Z)(function*(){if(t.signupForm.invalid)return;t.loading=!0;let r={firstName:t.signupForm.value.firstName,middleName:t.signupForm.value.middleName,lastName:t.signupForm.value.lastName,phoneNumber:t.signupForm.value.phoneNumber,emailAddress:t.signupForm.value.email,password:t.signupForm.value.password,address:t.signupForm.value.address,city:t.signupForm.value.city,state:t.signupForm.value.state,zipCode:t.signupForm.value.zipCode,ssn:t.signupForm.value.ssn,dob:t.signupForm.value.dob,currentBal:t.currentBal};yield t.firebaseService.createUser(r.emailAddress,r.password,r).then(u=>{}).catch(u=>{t.errorMessage=u.message,t.loading=!1}),!0===t.firebaseService.isLogggedIn&&(t.isSignedin=!0,t.router.navigate(["/dashboard"]))})()}showForm(t){this.id=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(xA),a.Y36(qA),a.Y36(Da),a.Y36(Qn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-signup"]],decls:30,vars:4,consts:[[1,"auth-container"],[1,"auth-content"],[1,"logo"],["src","../../../assets/img/logo.webp","alt","","routerLink","/",1,"clickable","logo"],[1,""],["src","../../../assets/img/svg/check-icon-black.svg","alt",""],[1,"multi-phone"],["src","../../../assets/img/multi_phone.png","alt",""],[1,"auth-form-area",3,"formGroup","ngSubmit"],[4,"ngIf"],["src","../../../assets/img/favicon.ico","alt","","routerLink","/",1,"clickable"],[1,"auth-title"],[1,"form-container"],[1,"form-row"],[1,"form-field"],["for","first-name"],[1,"input-field"],["type","text","placeholder","First name","autocomplete","first-name","formControlName","firstName"],["for","middle-name"],["type","text","placeholder","Middle name","autocomplete","middle-name","formControlName","middleName"],["for","last-name"],["type","text","placeholder","Last name","autocomplete","last-name","formControlName","lastName"],["for","phone-number"],["type","tel","placeholder","Phone Number","autocomplete","phone-number","formControlName","phoneNumber"],[1,"form-field","col-2"],["for","email"],["type","email","placeholder","E.g Metrocrypto@gmail.com","autocomplete","email","formControlName","email"],["for","password"],[1,"input-field","dis-flex"],["placeholder","Password","formControlName","password",3,"type"],[1,"clickable",3,"src","click"],[1,"form-footer","dis-flex"],[1,"btn","prim-btn",3,"click"],[1,"form-footer-extra"],["routerLink","/auth/signin",1,"clickable"],["for","address"],["type","text","placeholder","e.g 21B  Coker Street","autocomplete","address","formControlName","address"],["type","text","placeholder","City/Town/Subdivision","autocomplete","city","formControlName","city"],["for","state"],["type","text","placeholder","State","autocomplete","state","formControlName","state"],["for","zip-code"],["type","text","placeholder","ZIP code","autocomplete","zip-code","formControlName","zipCode"],[1,"btn","prim-btn","clickable",3,"click"],[1,"clickable"],["for","ssn"],["placeholder","SSN","formControlName","ssn",3,"type"],["for","dob"],["type","date","autocomplete","d0b","formControlName","dob"],[1,"btn","prim-btn"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"div",4),a.TgZ(5,"h3",4),a._uU(6,"Start building your crypto portfolio"),a.qZA(),a.TgZ(7,"ul"),a.TgZ(8,"li"),a._UZ(9,"img",5),a.TgZ(10,"p"),a._uU(11,"45+ cryptos including bitcoin, ether, and dogecoin"),a.qZA(),a.qZA(),a.TgZ(12,"li"),a._UZ(13,"img",5),a.TgZ(14,"p"),a._uU(15,"Industry-leading security and compliance."),a.qZA(),a.qZA(),a.TgZ(16,"li"),a._UZ(17,"img",5),a.TgZ(18,"p"),a._uU(19,"Available in all 50 states and 50+ countries"),a.qZA(),a.qZA(),a.TgZ(20,"li"),a._UZ(21,"img",5),a.TgZ(22,"p"),a._uU(23,"Get started with as little as $5"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"div",6),a._UZ(25,"img",7),a.qZA(),a.qZA(),a.qZA(),a.TgZ(26,"form",8),a.NdJ("ngSubmit",function(){return r.signup()}),a.YNc(27,kN,47,2,"div",9),a.YNc(28,FN,35,0,"div",9),a.YNc(29,UN,27,4,"div",9),a.qZA(),a.qZA()),2&t&&(a.xp6(26),a.Q6J("formGroup",r.signupForm),a.xp6(1),a.Q6J("ngIf","form1"==r.id),a.xp6(1),a.Q6J("ngIf","form2"==r.id),a.xp6(1),a.Q6J("ngIf","form3"==r.id))},directives:[Eu,wm,Cm,Em,$r,S,ov,cv],styles:[".auth-container[_ngcontent-%COMP%]{background-color:var(--grey-color1);width:100%;min-height:100vh;display:flex;justify-content:space-between}.auth-content[_ngcontent-%COMP%]{display:none;padding:6%}.auth-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:127px;height:28px}ul[_ngcontent-%COMP%]{margin:2rem 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:1rem}.multi-phone[_ngcontent-%COMP%]{display:flex}.multi-phone[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:32px}.auth-form-area[_ngcontent-%COMP%]{width:100%;background-color:var(--white-color);padding:6%}.auth-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.form-container[_ngcontent-%COMP%]{display:grid;grid-gap:1.5rem;margin-top:2rem}.auth-form-area[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:grid;place-items:center;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:1rem}.auth-form-area[_ngcontent-%COMP%]   .form-field.col-2[_ngcontent-%COMP%]{grid-column:1 / span 2}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:100%;justify-content:space-between;font-size:16px;color:#343536;white-space:nowrap;margin-top:.6rem;background-color:#fff;border:1px solid rgb(179,179,180);border-radius:12px;transition:border-color 0s ease 0s,box-shadow .25s ease-in-out 0s}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:hover, .auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:active{border-color:#1a1c1d;box-shadow:#1a1c1d 0 0 0 1px}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:none;outline:none;border-radius:12px;padding:1rem}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#b3b3b4}.auth-form-area[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 1rem}.auth-form-area[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{justify-content:space-between}.auth-form-area[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline}@media only screen and (min-width: 670px){.auth-content[_ngcontent-%COMP%]{display:block;flex-basis:50%}.auth-form-area[_ngcontent-%COMP%]{flex-basis:50%}.auth-form-area[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:none}}"]}),n})(),BN=(()=>{class n{constructor(){}isAutheticated(){return null!==localStorage.getItem("token")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HA=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return!!this.auth.isAutheticated()||(this.router.navigate(["/auth/signin"],{queryParams:{routerUrl:r.url}}),!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(BN),a.LFG(Qn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jN=[{path:"auth",component:tD,children:[{path:"signin",component:RN,data:{title:"Sign in",description:"Description Meta Tag Content"}},{path:"signup",component:ZN,data:{title:"Sign up",description:"Description Meta Tag Content"}}]},{path:"",component:dO,children:[{path:"",component:TN,data:{title:"Home",description:"Description Meta Tag Content"}},{path:"price",component:AN,data:{title:"Price",description:"Description Meta Tag Content"}},{path:"security",component:ON,data:{title:"Security",description:"Description Meta Tag Content"}},{path:"institutions",component:IN,data:{title:"Institutions",description:"Description Meta Tag Content"}},{path:"about",component:hO,data:{title:"About",description:"Description Meta Tag Content"}},{path:"contact",component:hN,data:{title:"Contact",description:"Description Meta Tag Content"}}]},{path:"dashboard",component:uO,children:[{path:"",component:pN,data:{title:"Overview",description:"Description Meta Tag Content"},canActivate:[HA]},{path:"account",component:fN,data:{title:"Account",description:"Description Meta Tag Content"},canActivate:[HA]},{path:"send",component:EN,data:{title:"Send",description:"Description Meta Tag Content"},canActivate:[HA]},{path:"receive",component:mN,data:{title:"Receive",description:"Description Meta Tag Content"},canActivate:[HA]}]}];let qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Kh.forRoot(jN,{useHash:!0})],Kh]}),n})(),$N=(()=>{class n{constructor(){this.title="geminibitcoin"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[$l],styles:[""]}),n})();const oP_firebaseConfig={apiKey:"AIzaSyCcwq4gUetoxUxyfo7A7V-jcZt15o32u-4",authDomain:"geminiexchange-2e1ba.firebaseapp.com",projectId:"geminiexchange-2e1ba",storageBucket:"geminiexchange-2e1ba.appspot.com",messagingSenderId:"100686267690",appId:"1:100686267690:web:44e55e34e4167e0c91ca53",measurementId:"G-CDQDS95TWL"};let HN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[li,Kh,BM,jA]]}),n})(),aP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[li,Kh]]}),n})(),GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[li,Kh,aP,BM,jA]]}),n})(),zN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[li,Kh,BM,jA,aP]]}),n})(),WN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[$N]}),n.\u0275inj=a.cJS({providers:[],imports:[[au,qN,aN,GN,HN,zN,zr.hO.initializeApp(oP_firebaseConfig)]]}),n})();(0,a.G48)(),dc().bootstrapModule(WN).catch(n=>console.error(n))},3394:(Je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>Te});var a=L(3854),X=L(3910),k=L(8026),ue=L(5422);class te{constructor(K,be){this._delegate=K,this.firebase=be,(0,k._addComponent)(K,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(K,be=k._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const me=this._delegate.container.getProvider(K);return!me.isInitialized()&&"EXPLICIT"===(null===(_e=me.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&me.initialize(),me.getImmediate({identifier:be})}_removeServiceInstance(K,be=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(be)}_addComponent(K){(0,k._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,k._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function ee(){const fe=function(fe){const K={},be={__esModule:!0,initializeApp:function(vt,fn={}){const wt=k.initializeApp(vt,fn);if((0,a.r3)(K,wt.name))return K[wt.name];const It=new fe(wt,be);return K[wt.name]=It,It},app:me,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const fn=vt.name,wt=fn.replace("-compat","");if(k._registerComponent(vt)&&"PUBLIC"===vt.type){const It=(mt=me())=>{if("function"!=typeof mt[wt])throw ve.create("invalid-app-argument",{appName:fn});return mt[wt]()};void 0!==vt.serviceProps&&(0,a.ZB)(It,vt.serviceProps),be[wt]=It,fe.prototype[wt]=function(...mt){return this._getService.bind(this,fn).apply(this,vt.multipleInstances?mt:[])}}return"PUBLIC"===vt.type?be[wt]:null},removeApp:function(vt){delete K[vt]},useAsService:function(vt,fn){return"serverAuth"===fn?null:fn},modularAPIs:k}};function me(vt){if(!(0,a.r3)(K,vt=vt||k._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:vt});return K[vt]}return be.default=be,Object.defineProperty(be,"apps",{get:function(){return Object.keys(K).map(vt=>K[vt])}}),me.App=fe,be}(te);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function(be){(0,a.ZB)(fe,be)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),fe}(),V=new ue.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=F;(0,k.registerVersion)("@firebase/app-compat","0.1.19",undefined)},8026:(Je,Ee,L)=>{"use strict";L.r(Ee),L.d(Ee,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Sr,_DEFAULT_ENTRY_NAME:()=>_o,_addComponent:()=>os,_addOrOverwriteComponent:()=>vo,_apps:()=>Ii,_clearComponents:()=>Gs,_components:()=>si,_getProvider:()=>jt,_registerComponent:()=>on,_removeServiceInstance:()=>Zn,deleteApp:()=>Bn,getApp:()=>De,getApps:()=>ir,initializeApp:()=>_r,onLog:()=>jr,registerVersion:()=>xt,setLogLevel:()=>bo});var a=L(8239),X=L(3910),k=L(5422),ue=L(3854),te=L(6676);class ie{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function(de){const ye=de.getComponent();return"VERSION"===(null==ye?void 0:ye.type)}(Fe)){const We=Fe.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Fe=>Fe).join(" ")}}const le="@firebase/app",F=new k.Yd("@firebase/app"),_o="[DEFAULT]",ii={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ii=new Map,si=new Map;function os(de,ye){try{de.container.addComponent(ye)}catch(Fe){F.debug(`Component ${ye.name} failed to register with FirebaseApp ${de.name}`,Fe)}}function vo(de,ye){de.container.addOrOverwriteComponent(ye)}function on(de){const ye=de.name;if(si.has(ye))return F.debug(`There were multiple attempts to register component ${ye}.`),!1;si.set(ye,de);for(const Fe of Ii.values())os(Fe,de);return!0}function jt(de,ye){const Fe=de.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),de.container.getProvider(ye)}function Zn(de,ye,Fe=_o){jt(de,ye).clearInstance(Fe)}function Gs(){si.clear()}const ut=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ja{constructor(ye,Fe,We){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw ut.create("app-deleted",{appName:this._name})}}const Sr="9.6.8";function _r(de,ye={}){"object"!=typeof ye&&(ye={name:ye});const Fe=Object.assign({name:_o,automaticDataCollectionEnabled:!1},ye),We=Fe.name;if("string"!=typeof We||!We)throw ut.create("bad-app-name",{appName:String(We)});const bt=Ii.get(We);if(bt){if((0,ue.vZ)(de,bt.options)&&(0,ue.vZ)(Fe,bt.config))return bt;throw ut.create("duplicate-app",{appName:We})}const nt=new X.H0(We);for(const Dn of si.values())nt.addComponent(Dn);const Rt=new ja(de,Fe,nt);return Ii.set(We,Rt),Rt}function De(de=_o){const ye=Ii.get(de);if(!ye)throw ut.create("no-app",{appName:de});return ye}function ir(){return Array.from(Ii.values())}function Bn(de){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,a.Z)(function*(de){const ye=de.name;Ii.has(ye)&&(Ii.delete(ye),yield Promise.all(de.container.getProviders().map(Fe=>Fe.delete())),de.isDeleted=!0)})).apply(this,arguments)}function xt(de,ye,Fe){var We;let bt=null!==(We=ii[de])&&void 0!==We?We:de;Fe&&(bt+=`-${Fe}`);const nt=bt.match(/\s|\//),Rt=ye.match(/\s|\//);if(nt||Rt){const Dn=[`Unable to register library "${bt}" with version "${ye}":`];return nt&&Dn.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),nt&&Rt&&Dn.push("and"),Rt&&Dn.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void F.warn(Dn.join(" "))}on(new X.wA(`${bt}-version`,()=>({library:bt,version:ye}),"VERSION"))}function jr(de,ye){if(null!==de&&"function"!=typeof de)throw ut.create("invalid-log-argument");(0,k.Am)(de,ye)}function bo(de){(0,k.Ub)(de)}const br="firebase-heartbeat-store";let oi=null;function qr(){return oi||(oi=(0,te.openDb)("firebase-heartbeat-database",1,de=>{switch(de.oldVersion){case 0:de.createObjectStore(br)}}).catch(de=>{throw ut.create("storage-open",{originalErrorMessage:de.message})})),oi}function Xe(){return(Xe=(0,a.Z)(function*(de){try{return(yield qr()).transaction(br).objectStore(br).get(ht(de))}catch(ye){throw ut.create("storage-get",{originalErrorMessage:ye.message})}})).apply(this,arguments)}function Qe(de,ye){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(de,ye){try{const We=(yield qr()).transaction(br,"readwrite");return yield We.objectStore(br).put(ye,ht(de)),We.complete}catch(Fe){throw ut.create("storage-set",{originalErrorMessage:Fe.message})}})).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(de){try{const Fe=(yield qr()).transaction(br,"readwrite");return yield Fe.objectStore(br).delete(ht(de)),Fe.complete}catch(ye){throw ut.create("storage-delete",{originalErrorMessage:ye.message})}})).apply(this,arguments)}function ht(de){return`${de.name}!${de.options.appId}`}class ${constructor(ye){this.container=ye,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new we(Fe),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var ye=this;return(0,a.Z)(function*(){const We=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=(new Date).toISOString().substring(0,10);if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),!ye._heartbeatsCache.some(nt=>nt.date===bt))return ye._heartbeatsCache.push({date:bt,userAgent:We}),ye._heartbeatsCache=ye._heartbeatsCache.filter(nt=>{const Rt=new Date(nt.date).valueOf();return Date.now()-Rt<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,a.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache)return"";const{heartbeatsToSend:Fe,unsentEntries:We}=function(de,ye=1024){const Fe=[];let We=de.slice();for(const bt of de){const nt=Fe.find(Rt=>Rt.userAgent===bt.userAgent);if(nt){if(nt.dates.push(bt.date),ne(Fe)>ye){nt.dates.pop();break}}else if(Fe.push({userAgent:bt.userAgent,dates:[bt.date]}),ne(Fe)>ye){Fe.pop();break}We=We.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:We}}(ye._heartbeatsCache),bt=(0,ue.h$)(JSON.stringify({version:2,heartbeats:Fe}));return We.length>0?(ye._heartbeatsCache=We,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache=null,ye._storage.deleteAll()),bt})()}}class we{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,a.Z)(function*(){if(yield ye._canUseIndexedDBPromise){const We=yield function(de){return Xe.apply(this,arguments)}(ye.app);return(null==We?void 0:We.heartbeats)||[]}return[]})()}overwrite(ye){var Fe=this;return(0,a.Z)(function*(){if(yield Fe._canUseIndexedDBPromise)return Qe(Fe.app,{heartbeats:ye})})()}add(ye){var Fe=this;return(0,a.Z)(function*(){if(yield Fe._canUseIndexedDBPromise){const bt=yield Fe.read();return Qe(Fe.app,{heartbeats:[...bt,...ye]})}})()}delete(ye){var Fe=this;return(0,a.Z)(function*(){if(yield Fe._canUseIndexedDBPromise){const bt=yield Fe.read();return Qe(Fe.app,{heartbeats:bt.filter(nt=>!ye.includes(nt))})}})()}deleteAll(){var ye=this;return(0,a.Z)(function*(){if(yield ye._canUseIndexedDBPromise)return function(de){return Lt.apply(this,arguments)}(ye.app)})()}}function ne(de){return(0,ue.h$)(JSON.stringify({version:2,heartbeats:de})).length}on(new X.wA("platform-logger",ye=>new ie(ye),"PRIVATE")),on(new X.wA("heartbeat",ye=>new $(ye),"PRIVATE")),xt(le,"0.7.18",""),xt(le,"0.7.18","esm2017"),xt("fire-js","")},3910:(Je,Ee,L)=>{"use strict";L.d(Ee,{wA:()=>k,H0:()=>le});var a=L(8239),X=L(3854);class k{constructor(F,V,J){this.name=F,this.instanceFactory=V,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ue="[DEFAULT]";class te{constructor(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){const J=new X.BH;if(this.instancesDeferred.set(V,J),this.isInitialized(V)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:V});Q&&J.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(V).promise}getImmediate(F){var V;const J=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Q=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(ce){if(Q)return null;throw ce}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(V){}for(const[V,J]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(V);try{const ce=this.getOrInitializeService({instanceIdentifier:Q});J.resolve(ce)}catch(ce){}}}}clearInstance(F=ue){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,a.Z)(function*(){const V=Array.from(F.instances.values());yield Promise.all([...V.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...V.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ue){return this.instances.has(F)}getOptions(F=ue){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:V={}}=F,J=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:J,options:V});for(const[ce,Te]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(ce)&&Te.resolve(Q);return Q}onInit(F,V){var J;const Q=this.normalizeInstanceIdentifier(V),ce=null!==(J=this.onInitCallbacks.get(Q))&&void 0!==J?J:new Set;ce.add(F),this.onInitCallbacks.set(Q,ce);const Te=this.instances.get(Q);return Te&&F(Te,Q),()=>{ce.delete(F)}}invokeOnInitCallbacks(F,V){const J=this.onInitCallbacks.get(V);if(J)for(const Q of J)try{Q(F,V)}catch(ce){}}getOrInitializeService({instanceIdentifier:F,options:V={}}){let J=this.instances.get(F);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=F,ee===ue?void 0:ee),options:V}),this.instances.set(F,J),this.instancesOptions.set(F,V),this.invokeOnInitCallbacks(J,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,J)}catch(Q){}var ee;return J||null}normalizeInstanceIdentifier(F=ue){return this.component?this.component.multipleInstances?F:ue:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const V=this.getProvider(F.name);if(V.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);V.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const V=new te(F,this);return this.providers.set(F,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Je,Ee,L)=>{"use strict";L.d(Ee,{in:()=>X,Yd:()=>ve,Ub:()=>le,Am:()=>ee});const a=[];var X=(()=>{return(F=X||(X={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",X;var F})();const k={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ue=X.INFO,te={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ie=(F,V,...J)=>{if(V<F.logLevel)return;const Q=(new Date).toISOString(),ce=te[V];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ce](`[${Q}]  ${F.name}:`,...J)};class ve{constructor(V){this.name=V,this._logLevel=ue,this._logHandler=ie,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in X))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?k[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...V),this._logHandler(this,X.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...V),this._logHandler(this,X.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,X.INFO,...V),this._logHandler(this,X.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,X.WARN,...V),this._logHandler(this,X.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...V),this._logHandler(this,X.ERROR,...V)}}function le(F){a.forEach(V=>{V.setLogLevel(F)})}function ee(F,V){for(const J of a){let Q=null;V&&V.level&&(Q=k[V.level]),J.userLogHandler=null===F?null:(ce,Te,...fe)=>{const K=fe.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(_e){return null}}).filter(be=>be).join(" ");Te>=(null!=Q?Q:ce.logLevel)&&F({level:X[Te].toLowerCase(),message:K,args:fe,type:ce.name})}}}},8239:(Je,Ee,L)=>{"use strict";function a(k,ue,te,ie,ve,le,ee){try{var F=k[le](ee),V=F.value}catch(J){return void te(J)}F.done?ue(V):Promise.resolve(V).then(ie,ve)}function X(k){return function(){var ue=this,te=arguments;return new Promise(function(ie,ve){var le=k.apply(ue,te);function ee(V){a(le,ie,ve,ee,F,"next",V)}function F(V){a(le,ie,ve,ee,F,"throw",V)}ee(void 0)})}}L.d(Ee,{Z:()=>X})}},Je=>{Je(Je.s=520)}]);